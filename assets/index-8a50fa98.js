function k5(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function As(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function O5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(e,i);return new a}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var CM={exports:{}},Wp={},DM={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf=Symbol.for("react.element"),B5=Symbol.for("react.portal"),F5=Symbol.for("react.fragment"),$5=Symbol.for("react.strict_mode"),R5=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),I5=Symbol.for("react.context"),L5=Symbol.for("react.forward_ref"),_5=Symbol.for("react.suspense"),z5=Symbol.for("react.memo"),U5=Symbol.for("react.lazy"),ew=Symbol.iterator;function q5(t){return t===null||typeof t!="object"?null:(t=ew&&t[ew]||t["@@iterator"],typeof t=="function"?t:null)}var AM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EM=Object.assign,NM={};function ou(t,e,r){this.props=t,this.context=e,this.refs=NM,this.updater=r||AM}ou.prototype.isReactComponent={};ou.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ou.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MM(){}MM.prototype=ou.prototype;function h1(t,e,r){this.props=t,this.context=e,this.refs=NM,this.updater=r||AM}var d1=h1.prototype=new MM;d1.constructor=h1;EM(d1,ou.prototype);d1.isPureReactComponent=!0;var tw=Array.isArray,TM=Object.prototype.hasOwnProperty,p1={current:null},kM={key:!0,ref:!0,__self:!0,__source:!0};function OM(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)TM.call(e,n)&&!kM.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:nf,type:t,key:a,ref:o,props:i,_owner:p1.current}}function H5(t,e){return{$$typeof:nf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function m1(t){return typeof t=="object"&&t!==null&&t.$$typeof===nf}function V5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var rw=/\/+/g;function Dg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V5(""+t.key):e.toString(36)}function Hh(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nf:case B5:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Dg(o,0):n,tw(i)?(r="",t!=null&&(r=t.replace(rw,"$&/")+"/"),Hh(i,e,r,"",function(u){return u})):i!=null&&(m1(i)&&(i=H5(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",tw(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+Dg(a,s);o+=Hh(a,e,r,l,i)}else if(l=q5(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+Dg(a,s++),o+=Hh(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lf(t,e,r){if(t==null)return t;var n=[],i=0;return Hh(t,n,"","",function(a){return e.call(r,a,i++)}),n}function W5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Vh={transition:null},j5={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Vh,ReactCurrentOwner:p1};st.Children={map:Lf,forEach:function(t,e,r){Lf(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Lf(t,function(){e++}),e},toArray:function(t){return Lf(t,function(e){return e})||[]},only:function(t){if(!m1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=ou;st.Fragment=F5;st.Profiler=R5;st.PureComponent=h1;st.StrictMode=$5;st.Suspense=_5;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j5;st.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=EM({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=p1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)TM.call(e,l)&&!kM.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:nf,type:t.type,key:i,ref:a,props:n,_owner:o}};st.createContext=function(t){return t={$$typeof:I5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:P5,_context:t},t.Consumer=t};st.createElement=OM;st.createFactory=function(t){var e=OM.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:L5,render:t}};st.isValidElement=m1;st.lazy=function(t){return{$$typeof:U5,_payload:{_status:-1,_result:t},_init:W5}};st.memo=function(t,e){return{$$typeof:z5,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=Vh.transition;Vh.transition={};try{t()}finally{Vh.transition=e}};st.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};st.useCallback=function(t,e){return sn.current.useCallback(t,e)};st.useContext=function(t){return sn.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};st.useEffect=function(t,e){return sn.current.useEffect(t,e)};st.useId=function(){return sn.current.useId()};st.useImperativeHandle=function(t,e,r){return sn.current.useImperativeHandle(t,e,r)};st.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return sn.current.useMemo(t,e)};st.useReducer=function(t,e,r){return sn.current.useReducer(t,e,r)};st.useRef=function(t){return sn.current.useRef(t)};st.useState=function(t){return sn.current.useState(t)};st.useSyncExternalStore=function(t,e,r){return sn.current.useSyncExternalStore(t,e,r)};st.useTransition=function(){return sn.current.useTransition()};st.version="18.2.0";DM.exports=st;var J=DM.exports;const BM=As(J),Wv=k5({__proto__:null,default:BM},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G5=J,K5=Symbol.for("react.element"),Y5=Symbol.for("react.fragment"),J5=Object.prototype.hasOwnProperty,Z5=G5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X5={key:!0,ref:!0,__self:!0,__source:!0};function FM(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)J5.call(e,n)&&!X5.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:K5,type:t,key:a,ref:o,props:i,_owner:Z5.current}}Wp.Fragment=Y5;Wp.jsx=FM;Wp.jsxs=FM;CM.exports=Wp;var g1=CM.exports;const Q5=g1.Fragment,Te=g1.jsx,ur=g1.jsxs;var $M={exports:{}},Hn={},RM={exports:{}},PM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,O){var P=R.length;R.push(O);e:for(;0<P;){var V=P-1>>>1,W=R[V];if(0<i(W,O))R[V]=O,R[P]=W,P=V;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var O=R[0],P=R.pop();if(P!==O){R[0]=P;e:for(var V=0,W=R.length,L=W>>>1;V<L;){var G=2*(V+1)-1,ee=R[G],Z=G+1,se=R[Z];if(0>i(ee,P))Z<W&&0>i(se,ee)?(R[V]=se,R[Z]=P,V=Z):(R[V]=ee,R[G]=P,V=G);else if(Z<W&&0>i(se,P))R[V]=se,R[Z]=P,V=Z;else break e}}return O}function i(R,O){var P=R.sortIndex-O.sortIndex;return P!==0?P:R.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,d=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var O=r(u);O!==null;){if(O.callback===null)n(u);else if(O.startTime<=R)n(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=r(u)}}function w(R){if(m=!1,y(R),!p)if(r(l)!==null)p=!0,N(S);else{var O=r(u);O!==null&&T(w,O.startTime-R)}}function S(R,O){p=!1,m&&(m=!1,g(A),A=-1),d=!0;var P=h;try{for(y(O),f=r(l);f!==null&&(!(f.expirationTime>O)||R&&!M());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var W=V(f.expirationTime<=O);O=t.unstable_now(),typeof W=="function"?f.callback=W:f===r(l)&&n(l),y(O)}else n(l);f=r(l)}if(f!==null)var L=!0;else{var G=r(u);G!==null&&T(w,G.startTime-O),L=!1}return L}finally{f=null,h=P,d=!1}}var x=!1,C=null,A=-1,E=5,D=-1;function M(){return!(t.unstable_now()-D<E)}function k(){if(C!==null){var R=t.unstable_now();D=R;var O=!0;try{O=C(!0,R)}finally{O?$():(x=!1,C=null)}}else x=!1}var $;if(typeof b=="function")$=function(){b(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,F=I.port2;I.port1.onmessage=k,$=function(){F.postMessage(null)}}else $=function(){v(k,0)};function N(R){C=R,x||(x=!0,$())}function T(R,O){A=v(function(){R(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,N(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var P=h;h=O;try{return R()}finally{h=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,O){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var P=h;h=R;try{return O()}finally{h=P}},t.unstable_scheduleCallback=function(R,O,P){var V=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?V+P:V):P=V,R){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=P+W,R={id:c++,callback:O,priorityLevel:R,startTime:P,expirationTime:W,sortIndex:-1},P>V?(R.sortIndex=P,e(u,R),r(l)===null&&R===r(u)&&(m?(g(A),A=-1):m=!0,T(w,P-V))):(R.sortIndex=W,e(l,R),p||d||(p=!0,N(S))),R},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(R){var O=h;return function(){var P=h;h=O;try{return R.apply(this,arguments)}finally{h=P}}}})(PM);RM.exports=PM;var eP=RM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IM=J,zn=eP;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LM=new Set,gc={};function Es(t,e){Bl(t,e),Bl(t+"Capture",e)}function Bl(t,e){for(gc[t]=e,t=0;t<e.length;t++)LM.add(e[t])}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jv=Object.prototype.hasOwnProperty,tP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nw={},iw={};function rP(t){return jv.call(iw,t)?!0:jv.call(nw,t)?!1:tP.test(t)?iw[t]=!0:(nw[t]=!0,!1)}function nP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iP(t,e,r,n){if(e===null||typeof e>"u"||nP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ln(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rr[t]=new ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rr[e]=new ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rr[t]=new ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rr[t]=new ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rr[t]=new ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rr[t]=new ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rr[t]=new ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rr[t]=new ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rr[t]=new ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var v1=/[\-:]([a-z])/g;function y1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v1,y1);Rr[e]=new ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v1,y1);Rr[e]=new ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v1,y1);Rr[e]=new ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rr[t]=new ln(t,1,!1,t.toLowerCase(),null,!1,!1)});Rr.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rr[t]=new ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function x1(t,e,r,n){var i=Rr.hasOwnProperty(e)?Rr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iP(e,r,i,n)&&(r=null),n||i===null?rP(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var za=IM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_f=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),b1=Symbol.for("react.strict_mode"),Gv=Symbol.for("react.profiler"),_M=Symbol.for("react.provider"),zM=Symbol.for("react.context"),w1=Symbol.for("react.forward_ref"),Kv=Symbol.for("react.suspense"),Yv=Symbol.for("react.suspense_list"),S1=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),UM=Symbol.for("react.offscreen"),aw=Symbol.iterator;function Du(t){return t===null||typeof t!="object"?null:(t=aw&&t[aw]||t["@@iterator"],typeof t=="function"?t:null)}var Kt=Object.assign,Ag;function Hu(t){if(Ag===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ag=e&&e[1]||""}return`
`+Ag+t}var Eg=!1;function Ng(t,e){if(!t||Eg)return"";Eg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{Eg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Hu(t):""}function aP(t){switch(t.tag){case 5:return Hu(t.type);case 16:return Hu("Lazy");case 13:return Hu("Suspense");case 19:return Hu("SuspenseList");case 0:case 2:case 15:return t=Ng(t.type,!1),t;case 11:return t=Ng(t.type.render,!1),t;case 1:return t=Ng(t.type,!0),t;default:return""}}function Jv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Js:return"Portal";case Gv:return"Profiler";case b1:return"StrictMode";case Kv:return"Suspense";case Yv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zM:return(t.displayName||"Context")+".Consumer";case _M:return(t._context.displayName||"Context")+".Provider";case w1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case S1:return e=t.displayName||null,e!==null?e:Jv(t.type)||"Memo";case Ga:e=t._payload,t=t._init;try{return Jv(t(e))}catch{}}return null}function oP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(e);case 8:return e===b1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function So(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sP(t){var e=qM(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zf(t){t._valueTracker||(t._valueTracker=sP(t))}function HM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=qM(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zv(t,e){var r=e.checked;return Kt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ow(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=So(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VM(t,e){e=e.checked,e!=null&&x1(t,"checked",e,!1)}function Xv(t,e){VM(t,e);var r=So(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qv(t,e.type,r):e.hasOwnProperty("defaultValue")&&Qv(t,e.type,So(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Qv(t,e,r){(e!=="number"||Ad(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Vu=Array.isArray;function pl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+So(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function e0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return Kt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ne(92));if(Vu(r)){if(1<r.length)throw Error(Ne(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:So(r)}}function WM(t,e){var r=So(e.value),n=So(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function uw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uf,GM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uf=Uf||document.createElement("div"),Uf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function vc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ec={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lP=["Webkit","ms","Moz","O"];Object.keys(ec).forEach(function(t){lP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ec[e]=ec[t]})});function KM(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ec.hasOwnProperty(t)&&ec[t]?(""+e).trim():e+"px"}function YM(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=KM(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var uP=Kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function r0(t,e){if(e){if(uP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function n0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i0=null;function C1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var a0=null,ml=null,gl=null;function cw(t){if(t=sf(t)){if(typeof a0!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=Jp(e),a0(t.stateNode,t.type,e))}}function JM(t){ml?gl?gl.push(t):gl=[t]:ml=t}function ZM(){if(ml){var t=ml,e=gl;if(gl=ml=null,cw(t),e)for(t=0;t<e.length;t++)cw(e[t])}}function XM(t,e){return t(e)}function QM(){}var Mg=!1;function e3(t,e,r){if(Mg)return t(e,r);Mg=!0;try{return XM(t,e,r)}finally{Mg=!1,(ml!==null||gl!==null)&&(QM(),ZM())}}function yc(t,e){var r=t.stateNode;if(r===null)return null;var n=Jp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ne(231,e,typeof r));return r}var o0=!1;if(Ma)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){o0=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{o0=!1}function cP(t,e,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var tc=!1,Ed=null,Nd=!1,s0=null,fP={onError:function(t){tc=!0,Ed=t}};function hP(t,e,r,n,i,a,o,s,l){tc=!1,Ed=null,cP.apply(fP,arguments)}function dP(t,e,r,n,i,a,o,s,l){if(hP.apply(this,arguments),tc){if(tc){var u=Ed;tc=!1,Ed=null}else throw Error(Ne(198));Nd||(Nd=!0,s0=u)}}function Ns(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function t3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fw(t){if(Ns(t)!==t)throw Error(Ne(188))}function pP(t){var e=t.alternate;if(!e){if(e=Ns(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return fw(i),t;if(a===n)return fw(i),e;a=a.sibling}throw Error(Ne(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Ne(189))}}if(r.alternate!==n)throw Error(Ne(190))}if(r.tag!==3)throw Error(Ne(188));return r.stateNode.current===r?t:e}function r3(t){return t=pP(t),t!==null?n3(t):null}function n3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=n3(t);if(e!==null)return e;t=t.sibling}return null}var i3=zn.unstable_scheduleCallback,hw=zn.unstable_cancelCallback,mP=zn.unstable_shouldYield,gP=zn.unstable_requestPaint,rr=zn.unstable_now,vP=zn.unstable_getCurrentPriorityLevel,D1=zn.unstable_ImmediatePriority,a3=zn.unstable_UserBlockingPriority,Md=zn.unstable_NormalPriority,yP=zn.unstable_LowPriority,o3=zn.unstable_IdlePriority,jp=null,Zi=null;function xP(t){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(jp,t,void 0,(t.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:SP,bP=Math.log,wP=Math.LN2;function SP(t){return t>>>=0,t===0?32:31-(bP(t)/wP|0)|0}var qf=64,Hf=4194304;function Wu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Td(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Wu(s):(a&=o,a!==0&&(n=Wu(a)))}else o=r&~i,o!==0?n=Wu(o):a!==0&&(n=Wu(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Si(e),i=1<<r,n|=t[r],e&=~i;return n}function CP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Si(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=CP(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function l0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s3(){var t=qf;return qf<<=1,!(qf&4194240)&&(qf=64),t}function Tg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function af(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Si(e),t[e]=r}function AP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Si(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function A1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Si(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Nt=0;function l3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var u3,E1,c3,f3,h3,u0=!1,Vf=[],fo=null,ho=null,po=null,xc=new Map,bc=new Map,Qa=[],EP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dw(t,e){switch(t){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(e.pointerId)}}function Eu(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=sf(e),e!==null&&E1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NP(t,e,r,n,i){switch(e){case"focusin":return fo=Eu(fo,t,e,r,n,i),!0;case"dragenter":return ho=Eu(ho,t,e,r,n,i),!0;case"mouseover":return po=Eu(po,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return xc.set(a,Eu(xc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,bc.set(a,Eu(bc.get(a)||null,t,e,r,n,i)),!0}return!1}function d3(t){var e=ts(t.target);if(e!==null){var r=Ns(e);if(r!==null){if(e=r.tag,e===13){if(e=t3(r),e!==null){t.blockedOn=e,h3(t.priority,function(){c3(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=c0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);i0=n,r.target.dispatchEvent(n),i0=null}else return e=sf(r),e!==null&&E1(e),t.blockedOn=r,!1;e.shift()}return!0}function pw(t,e,r){Wh(t)&&r.delete(e)}function MP(){u0=!1,fo!==null&&Wh(fo)&&(fo=null),ho!==null&&Wh(ho)&&(ho=null),po!==null&&Wh(po)&&(po=null),xc.forEach(pw),bc.forEach(pw)}function Nu(t,e){t.blockedOn===e&&(t.blockedOn=null,u0||(u0=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,MP)))}function wc(t){function e(i){return Nu(i,t)}if(0<Vf.length){Nu(Vf[0],t);for(var r=1;r<Vf.length;r++){var n=Vf[r];n.blockedOn===t&&(n.blockedOn=null)}}for(fo!==null&&Nu(fo,t),ho!==null&&Nu(ho,t),po!==null&&Nu(po,t),xc.forEach(e),bc.forEach(e),r=0;r<Qa.length;r++)n=Qa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Qa.length&&(r=Qa[0],r.blockedOn===null);)d3(r),r.blockedOn===null&&Qa.shift()}var vl=za.ReactCurrentBatchConfig,kd=!0;function TP(t,e,r,n){var i=Nt,a=vl.transition;vl.transition=null;try{Nt=1,N1(t,e,r,n)}finally{Nt=i,vl.transition=a}}function kP(t,e,r,n){var i=Nt,a=vl.transition;vl.transition=null;try{Nt=4,N1(t,e,r,n)}finally{Nt=i,vl.transition=a}}function N1(t,e,r,n){if(kd){var i=c0(t,e,r,n);if(i===null)_g(t,e,n,Od,r),dw(t,n);else if(NP(i,t,e,r,n))n.stopPropagation();else if(dw(t,n),e&4&&-1<EP.indexOf(t)){for(;i!==null;){var a=sf(i);if(a!==null&&u3(a),a=c0(t,e,r,n),a===null&&_g(t,e,n,Od,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else _g(t,e,n,null,r)}}var Od=null;function c0(t,e,r,n){if(Od=null,t=C1(n),t=ts(t),t!==null)if(e=Ns(t),e===null)t=null;else if(r=e.tag,r===13){if(t=t3(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Od=t,null}function p3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vP()){case D1:return 1;case a3:return 4;case Md:case yP:return 16;case o3:return 536870912;default:return 16}default:return 16}}var no=null,M1=null,jh=null;function m3(){if(jh)return jh;var t,e=M1,r=e.length,n,i="value"in no?no.value:no.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return jh=i.slice(t,1<n?1-n:void 0)}function Gh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wf(){return!0}function mw(){return!1}function Vn(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wf:mw,this.isPropagationStopped=mw,this}return Kt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wf)},persist:function(){},isPersistent:Wf}),e}var su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T1=Vn(su),of=Kt({},su,{view:0,detail:0}),OP=Vn(of),kg,Og,Mu,Gp=Kt({},of,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mu&&(Mu&&t.type==="mousemove"?(kg=t.screenX-Mu.screenX,Og=t.screenY-Mu.screenY):Og=kg=0,Mu=t),kg)},movementY:function(t){return"movementY"in t?t.movementY:Og}}),gw=Vn(Gp),BP=Kt({},Gp,{dataTransfer:0}),FP=Vn(BP),$P=Kt({},of,{relatedTarget:0}),Bg=Vn($P),RP=Kt({},su,{animationName:0,elapsedTime:0,pseudoElement:0}),PP=Vn(RP),IP=Kt({},su,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LP=Vn(IP),_P=Kt({},su,{data:0}),vw=Vn(_P),zP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qP[t])?!!e[t]:!1}function k1(){return HP}var VP=Kt({},of,{key:function(t){if(t.key){var e=zP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k1,charCode:function(t){return t.type==="keypress"?Gh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WP=Vn(VP),jP=Kt({},Gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yw=Vn(jP),GP=Kt({},of,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k1}),KP=Vn(GP),YP=Kt({},su,{propertyName:0,elapsedTime:0,pseudoElement:0}),JP=Vn(YP),ZP=Kt({},Gp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XP=Vn(ZP),QP=[9,13,27,32],O1=Ma&&"CompositionEvent"in window,rc=null;Ma&&"documentMode"in document&&(rc=document.documentMode);var eI=Ma&&"TextEvent"in window&&!rc,g3=Ma&&(!O1||rc&&8<rc&&11>=rc),xw=String.fromCharCode(32),bw=!1;function v3(t,e){switch(t){case"keyup":return QP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function y3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xs=!1;function tI(t,e){switch(t){case"compositionend":return y3(e);case"keypress":return e.which!==32?null:(bw=!0,xw);case"textInput":return t=e.data,t===xw&&bw?null:t;default:return null}}function rI(t,e){if(Xs)return t==="compositionend"||!O1&&v3(t,e)?(t=m3(),jh=M1=no=null,Xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return g3&&e.locale!=="ko"?null:e.data;default:return null}}var nI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ww(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nI[t.type]:e==="textarea"}function x3(t,e,r,n){JM(n),e=Bd(e,"onChange"),0<e.length&&(r=new T1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var nc=null,Sc=null;function iI(t){k3(t,0)}function Kp(t){var e=tl(t);if(HM(e))return t}function aI(t,e){if(t==="change")return e}var b3=!1;if(Ma){var Fg;if(Ma){var $g="oninput"in document;if(!$g){var Sw=document.createElement("div");Sw.setAttribute("oninput","return;"),$g=typeof Sw.oninput=="function"}Fg=$g}else Fg=!1;b3=Fg&&(!document.documentMode||9<document.documentMode)}function Cw(){nc&&(nc.detachEvent("onpropertychange",w3),Sc=nc=null)}function w3(t){if(t.propertyName==="value"&&Kp(Sc)){var e=[];x3(e,Sc,t,C1(t)),e3(iI,e)}}function oI(t,e,r){t==="focusin"?(Cw(),nc=e,Sc=r,nc.attachEvent("onpropertychange",w3)):t==="focusout"&&Cw()}function sI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kp(Sc)}function lI(t,e){if(t==="click")return Kp(e)}function uI(t,e){if(t==="input"||t==="change")return Kp(e)}function cI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ni=typeof Object.is=="function"?Object.is:cI;function Cc(t,e){if(Ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!jv.call(e,i)||!Ni(t[i],e[i]))return!1}return!0}function Dw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Aw(t,e){var r=Dw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dw(r)}}function S3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function C3(){for(var t=window,e=Ad();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ad(t.document)}return e}function B1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fI(t){var e=C3(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&S3(r.ownerDocument.documentElement,r)){if(n!==null&&B1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Aw(r,a);var o=Aw(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hI=Ma&&"documentMode"in document&&11>=document.documentMode,Qs=null,f0=null,ic=null,h0=!1;function Ew(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;h0||Qs==null||Qs!==Ad(n)||(n=Qs,"selectionStart"in n&&B1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ic&&Cc(ic,n)||(ic=n,n=Bd(f0,"onSelect"),0<n.length&&(e=new T1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Qs)))}function jf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var el={animationend:jf("Animation","AnimationEnd"),animationiteration:jf("Animation","AnimationIteration"),animationstart:jf("Animation","AnimationStart"),transitionend:jf("Transition","TransitionEnd")},Rg={},D3={};Ma&&(D3=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function Yp(t){if(Rg[t])return Rg[t];if(!el[t])return t;var e=el[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in D3)return Rg[t]=e[r];return t}var A3=Yp("animationend"),E3=Yp("animationiteration"),N3=Yp("animationstart"),M3=Yp("transitionend"),T3=new Map,Nw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fo(t,e){T3.set(t,e),Es(e,[t])}for(var Pg=0;Pg<Nw.length;Pg++){var Ig=Nw[Pg],dI=Ig.toLowerCase(),pI=Ig[0].toUpperCase()+Ig.slice(1);Fo(dI,"on"+pI)}Fo(A3,"onAnimationEnd");Fo(E3,"onAnimationIteration");Fo(N3,"onAnimationStart");Fo("dblclick","onDoubleClick");Fo("focusin","onFocus");Fo("focusout","onBlur");Fo(M3,"onTransitionEnd");Bl("onMouseEnter",["mouseout","mouseover"]);Bl("onMouseLeave",["mouseout","mouseover"]);Bl("onPointerEnter",["pointerout","pointerover"]);Bl("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mI=new Set("cancel close invalid load scroll toggle".split(" ").concat(ju));function Mw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,dP(n,e,void 0,t),t.currentTarget=null}function k3(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Mw(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Mw(i,s,u),a=l}}}if(Nd)throw t=s0,Nd=!1,s0=null,t}function Pt(t,e){var r=e[v0];r===void 0&&(r=e[v0]=new Set);var n=t+"__bubble";r.has(n)||(O3(e,t,2,!1),r.add(n))}function Lg(t,e,r){var n=0;e&&(n|=4),O3(r,t,n,e)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Dc(t){if(!t[Gf]){t[Gf]=!0,LM.forEach(function(r){r!=="selectionchange"&&(mI.has(r)||Lg(r,!1,t),Lg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gf]||(e[Gf]=!0,Lg("selectionchange",!1,e))}}function O3(t,e,r,n){switch(p3(e)){case 1:var i=TP;break;case 4:i=kP;break;default:i=N1}r=i.bind(null,e,r,t),i=void 0,!o0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function _g(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=ts(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}e3(function(){var u=a,c=C1(r),f=[];e:{var h=T3.get(t);if(h!==void 0){var d=T1,p=t;switch(t){case"keypress":if(Gh(r)===0)break e;case"keydown":case"keyup":d=WP;break;case"focusin":p="focus",d=Bg;break;case"focusout":p="blur",d=Bg;break;case"beforeblur":case"afterblur":d=Bg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=gw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=FP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=KP;break;case A3:case E3:case N3:d=PP;break;case M3:d=JP;break;case"scroll":d=OP;break;case"wheel":d=XP;break;case"copy":case"cut":case"paste":d=LP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=yw}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var b=u,y;b!==null;){y=b;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,g!==null&&(w=yc(b,g),w!=null&&m.push(Ac(b,w,y)))),v)break;b=b.return}0<m.length&&(h=new d(h,p,null,r,c),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&r!==i0&&(p=r.relatedTarget||r.fromElement)&&(ts(p)||p[Ta]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=r.relatedTarget||r.toElement,d=u,p=p?ts(p):null,p!==null&&(v=Ns(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=u),d!==p)){if(m=gw,w="onMouseLeave",g="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(m=yw,w="onPointerLeave",g="onPointerEnter",b="pointer"),v=d==null?h:tl(d),y=p==null?h:tl(p),h=new m(w,b+"leave",d,r,c),h.target=v,h.relatedTarget=y,w=null,ts(c)===u&&(m=new m(g,b+"enter",p,r,c),m.target=y,m.relatedTarget=v,w=m),v=w,d&&p)t:{for(m=d,g=p,b=0,y=m;y;y=_s(y))b++;for(y=0,w=g;w;w=_s(w))y++;for(;0<b-y;)m=_s(m),b--;for(;0<y-b;)g=_s(g),y--;for(;b--;){if(m===g||g!==null&&m===g.alternate)break t;m=_s(m),g=_s(g)}m=null}else m=null;d!==null&&Tw(f,h,d,m,!1),p!==null&&v!==null&&Tw(f,v,p,m,!0)}}e:{if(h=u?tl(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var S=aI;else if(ww(h))if(b3)S=uI;else{S=sI;var x=oI}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=lI);if(S&&(S=S(t,u))){x3(f,S,r,c);break e}x&&x(t,h,u),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Qv(h,"number",h.value)}switch(x=u?tl(u):window,t){case"focusin":(ww(x)||x.contentEditable==="true")&&(Qs=x,f0=u,ic=null);break;case"focusout":ic=f0=Qs=null;break;case"mousedown":h0=!0;break;case"contextmenu":case"mouseup":case"dragend":h0=!1,Ew(f,r,c);break;case"selectionchange":if(hI)break;case"keydown":case"keyup":Ew(f,r,c)}var C;if(O1)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Xs?v3(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(g3&&r.locale!=="ko"&&(Xs||A!=="onCompositionStart"?A==="onCompositionEnd"&&Xs&&(C=m3()):(no=c,M1="value"in no?no.value:no.textContent,Xs=!0)),x=Bd(u,A),0<x.length&&(A=new vw(A,t,null,r,c),f.push({event:A,listeners:x}),C?A.data=C:(C=y3(r),C!==null&&(A.data=C)))),(C=eI?tI(t,r):rI(t,r))&&(u=Bd(u,"onBeforeInput"),0<u.length&&(c=new vw("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=C))}k3(f,e)})}function Ac(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Bd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=yc(t,r),a!=null&&n.unshift(Ac(t,a,i)),a=yc(t,e),a!=null&&n.push(Ac(t,a,i))),t=t.return}return n}function _s(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tw(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=yc(r,a),l!=null&&o.unshift(Ac(r,l,s))):i||(l=yc(r,a),l!=null&&o.push(Ac(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var gI=/\r\n?/g,vI=/\u0000|\uFFFD/g;function kw(t){return(typeof t=="string"?t:""+t).replace(gI,`
`).replace(vI,"")}function Kf(t,e,r){if(e=kw(e),kw(t)!==e&&r)throw Error(Ne(425))}function Fd(){}var d0=null,p0=null;function m0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var g0=typeof setTimeout=="function"?setTimeout:void 0,yI=typeof clearTimeout=="function"?clearTimeout:void 0,Ow=typeof Promise=="function"?Promise:void 0,xI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ow<"u"?function(t){return Ow.resolve(null).then(t).catch(bI)}:g0;function bI(t){setTimeout(function(){throw t})}function zg(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),wc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wc(e)}function mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var lu=Math.random().toString(36).slice(2),Vi="__reactFiber$"+lu,Ec="__reactProps$"+lu,Ta="__reactContainer$"+lu,v0="__reactEvents$"+lu,wI="__reactListeners$"+lu,SI="__reactHandles$"+lu;function ts(t){var e=t[Vi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ta]||r[Vi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Bw(t);t!==null;){if(r=t[Vi])return r;t=Bw(t)}return e}t=r,r=t.parentNode}return null}function sf(t){return t=t[Vi]||t[Ta],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function Jp(t){return t[Ec]||null}var y0=[],rl=-1;function $o(t){return{current:t}}function Lt(t){0>rl||(t.current=y0[rl],y0[rl]=null,rl--)}function $t(t,e){rl++,y0[rl]=t.current,t.current=e}var Co={},Yr=$o(Co),vn=$o(!1),ds=Co;function Fl(t,e){var r=t.type.contextTypes;if(!r)return Co;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function $d(){Lt(vn),Lt(Yr)}function Fw(t,e,r){if(Yr.current!==Co)throw Error(Ne(168));$t(Yr,e),$t(vn,r)}function B3(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ne(108,oP(t)||"Unknown",i));return Kt({},r,n)}function Rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Co,ds=Yr.current,$t(Yr,t),$t(vn,vn.current),!0}function $w(t,e,r){var n=t.stateNode;if(!n)throw Error(Ne(169));r?(t=B3(t,e,ds),n.__reactInternalMemoizedMergedChildContext=t,Lt(vn),Lt(Yr),$t(Yr,t)):Lt(vn),$t(vn,r)}var xa=null,Zp=!1,Ug=!1;function F3(t){xa===null?xa=[t]:xa.push(t)}function CI(t){Zp=!0,F3(t)}function Ro(){if(!Ug&&xa!==null){Ug=!0;var t=0,e=Nt;try{var r=xa;for(Nt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}xa=null,Zp=!1}catch(i){throw xa!==null&&(xa=xa.slice(t+1)),i3(D1,Ro),i}finally{Nt=e,Ug=!1}}return null}var nl=[],il=0,Pd=null,Id=0,Yn=[],Jn=0,ps=null,ba=1,wa="";function Jo(t,e){nl[il++]=Id,nl[il++]=Pd,Pd=t,Id=e}function $3(t,e,r){Yn[Jn++]=ba,Yn[Jn++]=wa,Yn[Jn++]=ps,ps=t;var n=ba;t=wa;var i=32-Si(n)-1;n&=~(1<<i),r+=1;var a=32-Si(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ba=1<<32-Si(e)+i|r<<i|n,wa=a+t}else ba=1<<a|r<<i|n,wa=t}function F1(t){t.return!==null&&(Jo(t,1),$3(t,1,0))}function $1(t){for(;t===Pd;)Pd=nl[--il],nl[il]=null,Id=nl[--il],nl[il]=null;for(;t===ps;)ps=Yn[--Jn],Yn[Jn]=null,wa=Yn[--Jn],Yn[Jn]=null,ba=Yn[--Jn],Yn[Jn]=null}var Ln=null,$n=null,_t=!1,vi=null;function R3(t,e){var r=Qn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Rw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,$n=mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ps!==null?{id:ba,overflow:wa}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Qn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ln=t,$n=null,!0):!1;default:return!1}}function x0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function b0(t){if(_t){var e=$n;if(e){var r=e;if(!Rw(t,e)){if(x0(t))throw Error(Ne(418));e=mo(r.nextSibling);var n=Ln;e&&Rw(t,e)?R3(n,r):(t.flags=t.flags&-4097|2,_t=!1,Ln=t)}}else{if(x0(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,_t=!1,Ln=t}}}function Pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Yf(t){if(t!==Ln)return!1;if(!_t)return Pw(t),_t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!m0(t.type,t.memoizedProps)),e&&(e=$n)){if(x0(t))throw P3(),Error(Ne(418));for(;e;)R3(t,e),e=mo(e.nextSibling)}if(Pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$n=mo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=Ln?mo(t.stateNode.nextSibling):null;return!0}function P3(){for(var t=$n;t;)t=mo(t.nextSibling)}function $l(){$n=Ln=null,_t=!1}function R1(t){vi===null?vi=[t]:vi.push(t)}var DI=za.ReactCurrentBatchConfig;function mi(t,e){if(t&&t.defaultProps){e=Kt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ld=$o(null),_d=null,al=null,P1=null;function I1(){P1=al=_d=null}function L1(t){var e=Ld.current;Lt(Ld),t._currentValue=e}function w0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yl(t,e){_d=t,P1=al=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function ai(t){var e=t._currentValue;if(P1!==t)if(t={context:t,memoizedValue:e,next:null},al===null){if(_d===null)throw Error(Ne(308));al=t,_d.dependencies={lanes:0,firstContext:t}}else al=al.next=t;return e}var rs=null;function _1(t){rs===null?rs=[t]:rs.push(t)}function I3(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,_1(e)):(r.next=i.next,i.next=r),e.interleaved=r,ka(t,n)}function ka(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ka=!1;function z1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Da(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function go(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,pt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ka(t,r)}return i=n.interleaved,i===null?(e.next=e,_1(n)):(e.next=i.next,i.next=e),n.interleaved=e,ka(t,r)}function Kh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,A1(t,r)}}function Iw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function zd(t,e,r,n){var i=t.updateQueue;Ka=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,d=s.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,m=s;switch(h=e,d=r,m.tag){case 1:if(p=m.payload,typeof p=="function"){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(d,f,h):p,h==null)break e;f=Kt({},f,h);break e;case 2:Ka=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);gs|=o,t.lanes=o,t.memoizedState=f}}function Lw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ne(191,i));i.call(n)}}}var _3=new IM.Component().refs;function S0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Kt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Xp={isMounted:function(t){return(t=t._reactInternals)?Ns(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=nn(),i=yo(t),a=Da(n,i);a.payload=e,r!=null&&(a.callback=r),e=go(t,a,i),e!==null&&(Ci(e,t,i,n),Kh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=nn(),i=yo(t),a=Da(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=go(t,a,i),e!==null&&(Ci(e,t,i,n),Kh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=nn(),n=yo(t),i=Da(r,n);i.tag=2,e!=null&&(i.callback=e),e=go(t,i,n),e!==null&&(Ci(e,t,n,r),Kh(e,t,n))}};function _w(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!Cc(r,n)||!Cc(i,a):!0}function z3(t,e,r){var n=!1,i=Co,a=e.contextType;return typeof a=="object"&&a!==null?a=ai(a):(i=yn(e)?ds:Yr.current,n=e.contextTypes,a=(n=n!=null)?Fl(t,i):Co),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function zw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Xp.enqueueReplaceState(e,e.state,null)}function C0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=_3,z1(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ai(a):(a=yn(e)?ds:Yr.current,i.context=Fl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(S0(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Xp.enqueueReplaceState(i,i.state,null),zd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ne(309));var n=r.stateNode}if(!n)throw Error(Ne(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;s===_3&&(s=i.refs={}),o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(Ne(284));if(!r._owner)throw Error(Ne(290,t))}return t}function Jf(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Uw(t){var e=t._init;return e(t._payload)}function U3(t){function e(g,b){if(t){var y=g.deletions;y===null?(g.deletions=[b],g.flags|=16):y.push(b)}}function r(g,b){if(!t)return null;for(;b!==null;)e(g,b),b=b.sibling;return null}function n(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=xo(g,b),g.index=0,g.sibling=null,g}function a(g,b,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<b?(g.flags|=2,b):y):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function s(g,b,y,w){return b===null||b.tag!==6?(b=Kg(y,g.mode,w),b.return=g,b):(b=i(b,y),b.return=g,b)}function l(g,b,y,w){var S=y.type;return S===Zs?c(g,b,y.props.children,w,y.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ga&&Uw(S)===b.type)?(w=i(b,y.props),w.ref=Tu(g,b,y),w.return=g,w):(w=ed(y.type,y.key,y.props,null,g.mode,w),w.ref=Tu(g,b,y),w.return=g,w)}function u(g,b,y,w){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=Yg(y,g.mode,w),b.return=g,b):(b=i(b,y.children||[]),b.return=g,b)}function c(g,b,y,w,S){return b===null||b.tag!==7?(b=ls(y,g.mode,w,S),b.return=g,b):(b=i(b,y),b.return=g,b)}function f(g,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Kg(""+b,g.mode,y),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _f:return y=ed(b.type,b.key,b.props,null,g.mode,y),y.ref=Tu(g,null,b),y.return=g,y;case Js:return b=Yg(b,g.mode,y),b.return=g,b;case Ga:var w=b._init;return f(g,w(b._payload),y)}if(Vu(b)||Du(b))return b=ls(b,g.mode,y,null),b.return=g,b;Jf(g,b)}return null}function h(g,b,y,w){var S=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:s(g,b,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _f:return y.key===S?l(g,b,y,w):null;case Js:return y.key===S?u(g,b,y,w):null;case Ga:return S=y._init,h(g,b,S(y._payload),w)}if(Vu(y)||Du(y))return S!==null?null:c(g,b,y,w,null);Jf(g,y)}return null}function d(g,b,y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(y)||null,s(b,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _f:return g=g.get(w.key===null?y:w.key)||null,l(b,g,w,S);case Js:return g=g.get(w.key===null?y:w.key)||null,u(b,g,w,S);case Ga:var x=w._init;return d(g,b,y,x(w._payload),S)}if(Vu(w)||Du(w))return g=g.get(y)||null,c(b,g,w,S,null);Jf(b,w)}return null}function p(g,b,y,w){for(var S=null,x=null,C=b,A=b=0,E=null;C!==null&&A<y.length;A++){C.index>A?(E=C,C=null):E=C.sibling;var D=h(g,C,y[A],w);if(D===null){C===null&&(C=E);break}t&&C&&D.alternate===null&&e(g,C),b=a(D,b,A),x===null?S=D:x.sibling=D,x=D,C=E}if(A===y.length)return r(g,C),_t&&Jo(g,A),S;if(C===null){for(;A<y.length;A++)C=f(g,y[A],w),C!==null&&(b=a(C,b,A),x===null?S=C:x.sibling=C,x=C);return _t&&Jo(g,A),S}for(C=n(g,C);A<y.length;A++)E=d(C,g,A,y[A],w),E!==null&&(t&&E.alternate!==null&&C.delete(E.key===null?A:E.key),b=a(E,b,A),x===null?S=E:x.sibling=E,x=E);return t&&C.forEach(function(M){return e(g,M)}),_t&&Jo(g,A),S}function m(g,b,y,w){var S=Du(y);if(typeof S!="function")throw Error(Ne(150));if(y=S.call(y),y==null)throw Error(Ne(151));for(var x=S=null,C=b,A=b=0,E=null,D=y.next();C!==null&&!D.done;A++,D=y.next()){C.index>A?(E=C,C=null):E=C.sibling;var M=h(g,C,D.value,w);if(M===null){C===null&&(C=E);break}t&&C&&M.alternate===null&&e(g,C),b=a(M,b,A),x===null?S=M:x.sibling=M,x=M,C=E}if(D.done)return r(g,C),_t&&Jo(g,A),S;if(C===null){for(;!D.done;A++,D=y.next())D=f(g,D.value,w),D!==null&&(b=a(D,b,A),x===null?S=D:x.sibling=D,x=D);return _t&&Jo(g,A),S}for(C=n(g,C);!D.done;A++,D=y.next())D=d(C,g,A,D.value,w),D!==null&&(t&&D.alternate!==null&&C.delete(D.key===null?A:D.key),b=a(D,b,A),x===null?S=D:x.sibling=D,x=D);return t&&C.forEach(function(k){return e(g,k)}),_t&&Jo(g,A),S}function v(g,b,y,w){if(typeof y=="object"&&y!==null&&y.type===Zs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case _f:e:{for(var S=y.key,x=b;x!==null;){if(x.key===S){if(S=y.type,S===Zs){if(x.tag===7){r(g,x.sibling),b=i(x,y.props.children),b.return=g,g=b;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ga&&Uw(S)===x.type){r(g,x.sibling),b=i(x,y.props),b.ref=Tu(g,x,y),b.return=g,g=b;break e}r(g,x);break}else e(g,x);x=x.sibling}y.type===Zs?(b=ls(y.props.children,g.mode,w,y.key),b.return=g,g=b):(w=ed(y.type,y.key,y.props,null,g.mode,w),w.ref=Tu(g,b,y),w.return=g,g=w)}return o(g);case Js:e:{for(x=y.key;b!==null;){if(b.key===x)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(g,b.sibling),b=i(b,y.children||[]),b.return=g,g=b;break e}else{r(g,b);break}else e(g,b);b=b.sibling}b=Yg(y,g.mode,w),b.return=g,g=b}return o(g);case Ga:return x=y._init,v(g,b,x(y._payload),w)}if(Vu(y))return p(g,b,y,w);if(Du(y))return m(g,b,y,w);Jf(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(g,b.sibling),b=i(b,y),b.return=g,g=b):(r(g,b),b=Kg(y,g.mode,w),b.return=g,g=b),o(g)):r(g,b)}return v}var Rl=U3(!0),q3=U3(!1),lf={},Xi=$o(lf),Nc=$o(lf),Mc=$o(lf);function ns(t){if(t===lf)throw Error(Ne(174));return t}function U1(t,e){switch($t(Mc,e),$t(Nc,t),$t(Xi,lf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:t0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=t0(e,t)}Lt(Xi),$t(Xi,e)}function Pl(){Lt(Xi),Lt(Nc),Lt(Mc)}function H3(t){ns(Mc.current);var e=ns(Xi.current),r=t0(e,t.type);e!==r&&($t(Nc,t),$t(Xi,r))}function q1(t){Nc.current===t&&(Lt(Xi),Lt(Nc))}var Ht=$o(0);function Ud(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qg=[];function H1(){for(var t=0;t<qg.length;t++)qg[t]._workInProgressVersionPrimary=null;qg.length=0}var Yh=za.ReactCurrentDispatcher,Hg=za.ReactCurrentBatchConfig,ms=0,jt=null,cr=null,br=null,qd=!1,ac=!1,Tc=0,AI=0;function qr(){throw Error(Ne(321))}function V1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ni(t[r],e[r]))return!1;return!0}function W1(t,e,r,n,i,a){if(ms=a,jt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yh.current=t===null||t.memoizedState===null?TI:kI,t=r(n,i),ac){a=0;do{if(ac=!1,Tc=0,25<=a)throw Error(Ne(301));a+=1,br=cr=null,e.updateQueue=null,Yh.current=OI,t=r(n,i)}while(ac)}if(Yh.current=Hd,e=cr!==null&&cr.next!==null,ms=0,br=cr=jt=null,qd=!1,e)throw Error(Ne(300));return t}function j1(){var t=Tc!==0;return Tc=0,t}function zi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?jt.memoizedState=br=t:br=br.next=t,br}function oi(){if(cr===null){var t=jt.alternate;t=t!==null?t.memoizedState:null}else t=cr.next;var e=br===null?jt.memoizedState:br.next;if(e!==null)br=e,cr=t;else{if(t===null)throw Error(Ne(310));cr=t,t={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},br===null?jt.memoizedState=br=t:br=br.next=t}return br}function kc(t,e){return typeof e=="function"?e(t):e}function Vg(t){var e=oi(),r=e.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=t;var n=cr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((ms&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=n):l=l.next=f,jt.lanes|=c,gs|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Ni(n,e.memoizedState)||(dn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,jt.lanes|=a,gs|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Wg(t){var e=oi(),r=e.queue;if(r===null)throw Error(Ne(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);Ni(a,e.memoizedState)||(dn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function V3(){}function W3(t,e){var r=jt,n=oi(),i=e(),a=!Ni(n.memoizedState,i);if(a&&(n.memoizedState=i,dn=!0),n=n.queue,G1(K3.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||br!==null&&br.memoizedState.tag&1){if(r.flags|=2048,Oc(9,G3.bind(null,r,n,i,e),void 0,null),wr===null)throw Error(Ne(349));ms&30||j3(r,e,i)}return i}function j3(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function G3(t,e,r,n){e.value=r,e.getSnapshot=n,Y3(e)&&J3(t)}function K3(t,e,r){return r(function(){Y3(e)&&J3(t)})}function Y3(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ni(t,r)}catch{return!0}}function J3(t){var e=ka(t,1);e!==null&&Ci(e,t,1,-1)}function qw(t){var e=zi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:t},e.queue=t,t=t.dispatch=MI.bind(null,jt,t),[e.memoizedState,t]}function Oc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=jt.updateQueue,e===null?(e={lastEffect:null,stores:null},jt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Z3(){return oi().memoizedState}function Jh(t,e,r,n){var i=zi();jt.flags|=t,i.memoizedState=Oc(1|e,r,void 0,n===void 0?null:n)}function Qp(t,e,r,n){var i=oi();n=n===void 0?null:n;var a=void 0;if(cr!==null){var o=cr.memoizedState;if(a=o.destroy,n!==null&&V1(n,o.deps)){i.memoizedState=Oc(e,r,a,n);return}}jt.flags|=t,i.memoizedState=Oc(1|e,r,a,n)}function Hw(t,e){return Jh(8390656,8,t,e)}function G1(t,e){return Qp(2048,8,t,e)}function X3(t,e){return Qp(4,2,t,e)}function Q3(t,e){return Qp(4,4,t,e)}function eT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tT(t,e,r){return r=r!=null?r.concat([t]):null,Qp(4,4,eT.bind(null,e,t),r)}function K1(){}function rT(t,e){var r=oi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&V1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function nT(t,e){var r=oi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&V1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function iT(t,e,r){return ms&21?(Ni(r,e)||(r=s3(),jt.lanes|=r,gs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=r)}function EI(t,e){var r=Nt;Nt=r!==0&&4>r?r:4,t(!0);var n=Hg.transition;Hg.transition={};try{t(!1),e()}finally{Nt=r,Hg.transition=n}}function aT(){return oi().memoizedState}function NI(t,e,r){var n=yo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oT(t))sT(e,r);else if(r=I3(t,e,r,n),r!==null){var i=nn();Ci(r,t,n,i),lT(r,e,n)}}function MI(t,e,r){var n=yo(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oT(t))sT(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Ni(s,o)){var l=e.interleaved;l===null?(i.next=i,_1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=I3(t,e,i,n),r!==null&&(i=nn(),Ci(r,t,n,i),lT(r,e,n))}}function oT(t){var e=t.alternate;return t===jt||e!==null&&e===jt}function sT(t,e){ac=qd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function lT(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,A1(t,r)}}var Hd={readContext:ai,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},TI={readContext:ai,useCallback:function(t,e){return zi().memoizedState=[t,e===void 0?null:e],t},useContext:ai,useEffect:Hw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Jh(4194308,4,eT.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Jh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jh(4,2,t,e)},useMemo:function(t,e){var r=zi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=zi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=NI.bind(null,jt,t),[n.memoizedState,t]},useRef:function(t){var e=zi();return t={current:t},e.memoizedState=t},useState:qw,useDebugValue:K1,useDeferredValue:function(t){return zi().memoizedState=t},useTransition:function(){var t=qw(!1),e=t[0];return t=EI.bind(null,t[1]),zi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=jt,i=zi();if(_t){if(r===void 0)throw Error(Ne(407));r=r()}else{if(r=e(),wr===null)throw Error(Ne(349));ms&30||j3(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,Hw(K3.bind(null,n,a,t),[t]),n.flags|=2048,Oc(9,G3.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=zi(),e=wr.identifierPrefix;if(_t){var r=wa,n=ba;r=(n&~(1<<32-Si(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Tc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=AI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kI={readContext:ai,useCallback:rT,useContext:ai,useEffect:G1,useImperativeHandle:tT,useInsertionEffect:X3,useLayoutEffect:Q3,useMemo:nT,useReducer:Vg,useRef:Z3,useState:function(){return Vg(kc)},useDebugValue:K1,useDeferredValue:function(t){var e=oi();return iT(e,cr.memoizedState,t)},useTransition:function(){var t=Vg(kc)[0],e=oi().memoizedState;return[t,e]},useMutableSource:V3,useSyncExternalStore:W3,useId:aT,unstable_isNewReconciler:!1},OI={readContext:ai,useCallback:rT,useContext:ai,useEffect:G1,useImperativeHandle:tT,useInsertionEffect:X3,useLayoutEffect:Q3,useMemo:nT,useReducer:Wg,useRef:Z3,useState:function(){return Wg(kc)},useDebugValue:K1,useDeferredValue:function(t){var e=oi();return cr===null?e.memoizedState=t:iT(e,cr.memoizedState,t)},useTransition:function(){var t=Wg(kc)[0],e=oi().memoizedState;return[t,e]},useMutableSource:V3,useSyncExternalStore:W3,useId:aT,unstable_isNewReconciler:!1};function Il(t,e){try{var r="",n=e;do r+=aP(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function jg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function D0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var BI=typeof WeakMap=="function"?WeakMap:Map;function uT(t,e,r){r=Da(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Wd||(Wd=!0,$0=n),D0(t,e)},r}function cT(t,e,r){r=Da(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){D0(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){D0(t,e),typeof n!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Vw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new BI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=jI.bind(null,t,e,r),e.then(t,t))}function Ww(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jw(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Da(-1,1),e.tag=2,go(r,e,1))),r.lanes|=1),t)}var FI=za.ReactCurrentOwner,dn=!1;function en(t,e,r,n){e.child=t===null?q3(e,null,r,n):Rl(e,t.child,r,n)}function Gw(t,e,r,n,i){r=r.render;var a=e.ref;return yl(e,i),n=W1(t,e,r,n,a,i),r=j1(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oa(t,e,i)):(_t&&r&&F1(e),e.flags|=1,en(t,e,n,i),e.child)}function Kw(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!rx(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,fT(t,e,a,n,i)):(t=ed(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Cc,r(o,n)&&t.ref===e.ref)return Oa(t,e,i)}return e.flags|=1,t=xo(a,n),t.ref=e.ref,t.return=e,e.child=t}function fT(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Cc(a,n)&&t.ref===e.ref)if(dn=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,Oa(t,e,i)}return A0(t,e,r,n,i)}function hT(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(sl,Mn),Mn|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$t(sl,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,$t(sl,Mn),Mn|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,$t(sl,Mn),Mn|=n;return en(t,e,i,r),e.child}function dT(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function A0(t,e,r,n,i){var a=yn(r)?ds:Yr.current;return a=Fl(e,a),yl(e,i),r=W1(t,e,r,n,a,i),n=j1(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oa(t,e,i)):(_t&&n&&F1(e),e.flags|=1,en(t,e,r,i),e.child)}function Yw(t,e,r,n,i){if(yn(r)){var a=!0;Rd(e)}else a=!1;if(yl(e,i),e.stateNode===null)Zh(t,e),z3(e,r,n),C0(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ai(u):(u=yn(r)?ds:Yr.current,u=Fl(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&zw(e,o,n,u),Ka=!1;var h=e.memoizedState;o.state=h,zd(e,n,o,i),l=e.memoizedState,s!==n||h!==l||vn.current||Ka?(typeof c=="function"&&(S0(e,r,c,n),l=e.memoizedState),(s=Ka||_w(e,r,s,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,L3(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:mi(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ai(l):(l=yn(r)?ds:Yr.current,l=Fl(e,l));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&zw(e,o,n,l),Ka=!1,h=e.memoizedState,o.state=h,zd(e,n,o,i);var p=e.memoizedState;s!==f||h!==p||vn.current||Ka?(typeof d=="function"&&(S0(e,r,d,n),p=e.memoizedState),(u=Ka||_w(e,r,u,n,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),o.props=n,o.state=p,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return E0(t,e,r,n,a,i)}function E0(t,e,r,n,i,a){dT(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&$w(e,r,!1),Oa(t,e,a);n=e.stateNode,FI.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Rl(e,t.child,null,a),e.child=Rl(e,null,s,a)):en(t,e,s,a),e.memoizedState=n.state,i&&$w(e,r,!0),e.child}function pT(t){var e=t.stateNode;e.pendingContext?Fw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fw(t,e.context,!1),U1(t,e.containerInfo)}function Jw(t,e,r,n,i){return $l(),R1(i),e.flags|=256,en(t,e,r,n),e.child}var N0={dehydrated:null,treeContext:null,retryLane:0};function M0(t){return{baseLanes:t,cachePool:null,transitions:null}}function mT(t,e,r){var n=e.pendingProps,i=Ht.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$t(Ht,i&1),t===null)return b0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=rm(o,n,0,null),t=ls(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=M0(r),e.memoizedState=N0,t):Y1(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return $I(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=xo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=xo(s,a):(a=ls(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?M0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=N0,n}return a=t.child,t=a.sibling,n=xo(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Y1(t,e){return e=rm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zf(t,e,r,n){return n!==null&&R1(n),Rl(e,t.child,null,r),t=Y1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $I(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=jg(Error(Ne(422))),Zf(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=rm({mode:"visible",children:n.children},i,0,null),a=ls(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Rl(e,t.child,null,o),e.child.memoizedState=M0(o),e.memoizedState=N0,a);if(!(e.mode&1))return Zf(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(Ne(419)),n=jg(a,n,void 0),Zf(t,e,o,n)}if(s=(o&t.childLanes)!==0,dn||s){if(n=wr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ka(t,i),Ci(n,t,i,-1))}return tx(),n=jg(Error(Ne(421))),Zf(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=GI.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,$n=mo(i.nextSibling),Ln=e,_t=!0,vi=null,t!==null&&(Yn[Jn++]=ba,Yn[Jn++]=wa,Yn[Jn++]=ps,ba=t.id,wa=t.overflow,ps=e),e=Y1(e,n.children),e.flags|=4096,e)}function Zw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),w0(t.return,e,r)}function Gg(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function gT(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(en(t,e,n.children,r),n=Ht.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zw(t,r,e);else if(t.tag===19)Zw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if($t(Ht,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ud(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Gg(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Gg(e,!0,r,null,a);break;case"together":Gg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,r=xo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=xo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function RI(t,e,r){switch(e.tag){case 3:pT(e),$l();break;case 5:H3(e);break;case 1:yn(e.type)&&Rd(e);break;case 4:U1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;$t(Ld,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?($t(Ht,Ht.current&1),e.flags|=128,null):r&e.child.childLanes?mT(t,e,r):($t(Ht,Ht.current&1),t=Oa(t,e,r),t!==null?t.sibling:null);$t(Ht,Ht.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return gT(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(Ht,Ht.current),n)break;return null;case 22:case 23:return e.lanes=0,hT(t,e,r)}return Oa(t,e,r)}var vT,T0,yT,xT;vT=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};T0=function(){};yT=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ns(Xi.current);var a=null;switch(r){case"input":i=Zv(t,i),n=Zv(t,n),a=[];break;case"select":i=Kt({},i,{value:void 0}),n=Kt({},n,{value:void 0}),a=[];break;case"textarea":i=e0(t,i),n=e0(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Fd)}r0(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(gc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i?.[u],n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(gc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Pt("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};xT=function(t,e,r,n){r!==n&&(e.flags|=4)};function ku(t,e){if(!_t)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Hr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function PI(t,e,r){var n=e.pendingProps;switch($1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hr(e),null;case 1:return yn(e.type)&&$d(),Hr(e),null;case 3:return n=e.stateNode,Pl(),Lt(vn),Lt(Yr),H1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Yf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vi!==null&&(I0(vi),vi=null))),T0(t,e),Hr(e),null;case 5:q1(e);var i=ns(Mc.current);if(r=e.type,t!==null&&e.stateNode!=null)yT(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ne(166));return Hr(e),null}if(t=ns(Xi.current),Yf(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Vi]=e,n[Ec]=a,t=(e.mode&1)!==0,r){case"dialog":Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":case"embed":Pt("load",n);break;case"video":case"audio":for(i=0;i<ju.length;i++)Pt(ju[i],n);break;case"source":Pt("error",n);break;case"img":case"image":case"link":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"input":ow(n,a),Pt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Pt("invalid",n);break;case"textarea":lw(n,a),Pt("invalid",n)}r0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Kf(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Kf(n.textContent,s,t),i=["children",""+s]):gc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Pt("scroll",n)}switch(r){case"input":zf(n),sw(n,a,!0);break;case"textarea":zf(n),uw(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Fd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jM(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Vi]=e,t[Ec]=n,vT(t,e,!1,!1),e.stateNode=t;e:{switch(o=n0(r,n),r){case"dialog":Pt("cancel",t),Pt("close",t),i=n;break;case"iframe":case"object":case"embed":Pt("load",t),i=n;break;case"video":case"audio":for(i=0;i<ju.length;i++)Pt(ju[i],t);i=n;break;case"source":Pt("error",t),i=n;break;case"img":case"image":case"link":Pt("error",t),Pt("load",t),i=n;break;case"details":Pt("toggle",t),i=n;break;case"input":ow(t,n),i=Zv(t,n),Pt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Kt({},n,{value:void 0}),Pt("invalid",t);break;case"textarea":lw(t,n),i=e0(t,n),Pt("invalid",t);break;default:i=n}r0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?YM(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GM(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&vc(t,l):typeof l=="number"&&vc(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(gc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Pt("scroll",t):l!=null&&x1(t,a,l,o))}switch(r){case"input":zf(t),sw(t,n,!1);break;case"textarea":zf(t),uw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+So(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?pl(t,!!n.multiple,a,!1):n.defaultValue!=null&&pl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hr(e),null;case 6:if(t&&e.stateNode!=null)xT(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ne(166));if(r=ns(Mc.current),ns(Xi.current),Yf(e)){if(n=e.stateNode,r=e.memoizedProps,n[Vi]=e,(a=n.nodeValue!==r)&&(t=Ln,t!==null))switch(t.tag){case 3:Kf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kf(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vi]=e,e.stateNode=n}return Hr(e),null;case 13:if(Lt(Ht),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_t&&$n!==null&&e.mode&1&&!(e.flags&128))P3(),$l(),e.flags|=98560,a=!1;else if(a=Yf(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(Ne(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ne(317));a[Vi]=e}else $l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hr(e),a=!1}else vi!==null&&(I0(vi),vi=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ht.current&1?pr===0&&(pr=3):tx())),e.updateQueue!==null&&(e.flags|=4),Hr(e),null);case 4:return Pl(),T0(t,e),t===null&&Dc(e.stateNode.containerInfo),Hr(e),null;case 10:return L1(e.type._context),Hr(e),null;case 17:return yn(e.type)&&$d(),Hr(e),null;case 19:if(Lt(Ht),a=e.memoizedState,a===null)return Hr(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)ku(a,!1);else{if(pr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ud(t),o!==null){for(e.flags|=128,ku(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return $t(Ht,Ht.current&1|2),e.child}t=t.sibling}a.tail!==null&&rr()>Ll&&(e.flags|=128,n=!0,ku(a,!1),e.lanes=4194304)}else{if(!n)if(t=Ud(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ku(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!_t)return Hr(e),null}else 2*rr()-a.renderingStartTime>Ll&&r!==1073741824&&(e.flags|=128,n=!0,ku(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=rr(),e.sibling=null,r=Ht.current,$t(Ht,n?r&1|2:r&1),e):(Hr(e),null);case 22:case 23:return ex(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Mn&1073741824&&(Hr(e),e.subtreeFlags&6&&(e.flags|=8192)):Hr(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function II(t,e){switch($1(e),e.tag){case 1:return yn(e.type)&&$d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pl(),Lt(vn),Lt(Yr),H1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q1(e),null;case 13:if(Lt(Ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));$l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(Ht),null;case 4:return Pl(),null;case 10:return L1(e.type._context),null;case 22:case 23:return ex(),null;case 24:return null;default:return null}}var Xf=!1,Gr=!1,LI=typeof WeakSet=="function"?WeakSet:Set,Re=null;function ol(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xt(t,e,n)}else r.current=null}function k0(t,e,r){try{r()}catch(n){Xt(t,e,n)}}var Xw=!1;function _I(t,e){if(d0=kd,t=C3(),B1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var d;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===r&&++u===i&&(s=o),h===a&&++c===n&&(l=o),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(p0={focusedElem:t,selectionRange:r},kd=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=e.stateNode,b=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:mi(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(w){Xt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return p=Xw,Xw=!1,p}function oc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&k0(e,r,a)}i=i.next}while(i!==n)}}function em(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function O0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function bT(t){var e=t.alternate;e!==null&&(t.alternate=null,bT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vi],delete e[Ec],delete e[v0],delete e[wI],delete e[SI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wT(t){return t.tag===5||t.tag===3||t.tag===4}function Qw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function B0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Fd));else if(n!==4&&(t=t.child,t!==null))for(B0(t,e,r),t=t.sibling;t!==null;)B0(t,e,r),t=t.sibling}function F0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(F0(t,e,r),t=t.sibling;t!==null;)F0(t,e,r),t=t.sibling}var Er=null,gi=!1;function Wa(t,e,r){for(r=r.child;r!==null;)ST(t,e,r),r=r.sibling}function ST(t,e,r){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(jp,r)}catch{}switch(r.tag){case 5:Gr||ol(r,e);case 6:var n=Er,i=gi;Er=null,Wa(t,e,r),Er=n,gi=i,Er!==null&&(gi?(t=Er,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Er.removeChild(r.stateNode));break;case 18:Er!==null&&(gi?(t=Er,r=r.stateNode,t.nodeType===8?zg(t.parentNode,r):t.nodeType===1&&zg(t,r),wc(t)):zg(Er,r.stateNode));break;case 4:n=Er,i=gi,Er=r.stateNode.containerInfo,gi=!0,Wa(t,e,r),Er=n,gi=i;break;case 0:case 11:case 14:case 15:if(!Gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&k0(r,e,o),i=i.next}while(i!==n)}Wa(t,e,r);break;case 1:if(!Gr&&(ol(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Xt(r,e,s)}Wa(t,e,r);break;case 21:Wa(t,e,r);break;case 22:r.mode&1?(Gr=(n=Gr)||r.memoizedState!==null,Wa(t,e,r),Gr=n):Wa(t,e,r);break;default:Wa(t,e,r)}}function eS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new LI),e.forEach(function(n){var i=KI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function di(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Er=s.stateNode,gi=!1;break e;case 3:Er=s.stateNode.containerInfo,gi=!0;break e;case 4:Er=s.stateNode.containerInfo,gi=!0;break e}s=s.return}if(Er===null)throw Error(Ne(160));ST(a,o,i),Er=null,gi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CT(e,t),e=e.sibling}function CT(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(di(e,t),Ri(t),n&4){try{oc(3,t,t.return),em(3,t)}catch(m){Xt(t,t.return,m)}try{oc(5,t,t.return)}catch(m){Xt(t,t.return,m)}}break;case 1:di(e,t),Ri(t),n&512&&r!==null&&ol(r,r.return);break;case 5:if(di(e,t),Ri(t),n&512&&r!==null&&ol(r,r.return),t.flags&32){var i=t.stateNode;try{vc(i,"")}catch(m){Xt(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&VM(i,a),n0(s,o);var u=n0(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?YM(i,f):c==="dangerouslySetInnerHTML"?GM(i,f):c==="children"?vc(i,f):x1(i,c,f,u)}switch(s){case"input":Xv(i,a);break;case"textarea":WM(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?pl(i,!!a.multiple,d,!1):h!==!!a.multiple&&(a.defaultValue!=null?pl(i,!!a.multiple,a.defaultValue,!0):pl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ec]=a}catch(m){Xt(t,t.return,m)}}break;case 6:if(di(e,t),Ri(t),n&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(m){Xt(t,t.return,m)}}break;case 3:if(di(e,t),Ri(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wc(e.containerInfo)}catch(m){Xt(t,t.return,m)}break;case 4:di(e,t),Ri(t);break;case 13:di(e,t),Ri(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(X1=rr())),n&4&&eS(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Gr=(u=Gr)||c,di(e,t),Gr=u):di(e,t),Ri(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Re=t,c=t.child;c!==null;){for(f=Re=c;Re!==null;){switch(h=Re,d=h.child,h.tag){case 0:case 11:case 14:case 15:oc(4,h,h.return);break;case 1:ol(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Xt(n,r,m)}}break;case 5:ol(h,h.return);break;case 22:if(h.memoizedState!==null){rS(f);continue}}d!==null?(d.return=h,Re=d):rS(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=KM("display",o))}catch(m){Xt(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Xt(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:di(e,t),Ri(t),n&4&&eS(t);break;case 21:break;default:di(e,t),Ri(t)}}function Ri(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(wT(r)){var n=r;break e}r=r.return}throw Error(Ne(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(vc(i,""),n.flags&=-33);var a=Qw(t);F0(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Qw(t);B0(t,s,o);break;default:throw Error(Ne(161))}}catch(l){Xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zI(t,e,r){Re=t,DT(t)}function DT(t,e,r){for(var n=(t.mode&1)!==0;Re!==null;){var i=Re,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Xf;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Gr;s=Xf;var u=Gr;if(Xf=o,(Gr=l)&&!u)for(Re=i;Re!==null;)o=Re,l=o.child,o.tag===22&&o.memoizedState!==null?nS(i):l!==null?(l.return=o,Re=l):nS(i);for(;a!==null;)Re=a,DT(a),a=a.sibling;Re=i,Xf=s,Gr=u}tS(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Re=a):tS(t)}}function tS(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gr||em(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Gr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:mi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Lw(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Lw(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&wc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}Gr||e.flags&512&&O0(e)}catch(h){Xt(e,e.return,h)}}if(e===t){Re=null;break}if(r=e.sibling,r!==null){r.return=e.return,Re=r;break}Re=e.return}}function rS(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Re=r;break}Re=e.return}}function nS(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{em(4,e)}catch(l){Xt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Xt(e,i,l)}}var a=e.return;try{O0(e)}catch(l){Xt(e,a,l)}break;case 5:var o=e.return;try{O0(e)}catch(l){Xt(e,o,l)}}}catch(l){Xt(e,e.return,l)}if(e===t){Re=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Re=s;break}Re=e.return}}var UI=Math.ceil,Vd=za.ReactCurrentDispatcher,J1=za.ReactCurrentOwner,ti=za.ReactCurrentBatchConfig,pt=0,wr=null,ar=null,$r=0,Mn=0,sl=$o(0),pr=0,Bc=null,gs=0,tm=0,Z1=0,sc=null,fn=null,X1=0,Ll=1/0,ya=null,Wd=!1,$0=null,vo=null,Qf=!1,io=null,jd=0,lc=0,R0=null,Xh=-1,Qh=0;function nn(){return pt&6?rr():Xh!==-1?Xh:Xh=rr()}function yo(t){return t.mode&1?pt&2&&$r!==0?$r&-$r:DI.transition!==null?(Qh===0&&(Qh=s3()),Qh):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:p3(t.type)),t):1}function Ci(t,e,r,n){if(50<lc)throw lc=0,R0=null,Error(Ne(185));af(t,r,n),(!(pt&2)||t!==wr)&&(t===wr&&(!(pt&2)&&(tm|=r),pr===4&&eo(t,$r)),xn(t,n),r===1&&pt===0&&!(e.mode&1)&&(Ll=rr()+500,Zp&&Ro()))}function xn(t,e){var r=t.callbackNode;DP(t,e);var n=Td(t,t===wr?$r:0);if(n===0)r!==null&&hw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hw(r),e===1)t.tag===0?CI(iS.bind(null,t)):F3(iS.bind(null,t)),xI(function(){!(pt&6)&&Ro()}),r=null;else{switch(l3(n)){case 1:r=D1;break;case 4:r=a3;break;case 16:r=Md;break;case 536870912:r=o3;break;default:r=Md}r=BT(r,AT.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function AT(t,e){if(Xh=-1,Qh=0,pt&6)throw Error(Ne(327));var r=t.callbackNode;if(xl()&&t.callbackNode!==r)return null;var n=Td(t,t===wr?$r:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Gd(t,n);else{e=n;var i=pt;pt|=2;var a=NT();(wr!==t||$r!==e)&&(ya=null,Ll=rr()+500,ss(t,e));do try{VI();break}catch(s){ET(t,s)}while(1);I1(),Vd.current=a,pt=i,ar!==null?e=0:(wr=null,$r=0,e=pr)}if(e!==0){if(e===2&&(i=l0(t),i!==0&&(n=i,e=P0(t,i))),e===1)throw r=Bc,ss(t,0),eo(t,n),xn(t,rr()),r;if(e===6)eo(t,n);else{if(i=t.current.alternate,!(n&30)&&!qI(i)&&(e=Gd(t,n),e===2&&(a=l0(t),a!==0&&(n=a,e=P0(t,a))),e===1))throw r=Bc,ss(t,0),eo(t,n),xn(t,rr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ne(345));case 2:Zo(t,fn,ya);break;case 3:if(eo(t,n),(n&130023424)===n&&(e=X1+500-rr(),10<e)){if(Td(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=g0(Zo.bind(null,t,fn,ya),e);break}Zo(t,fn,ya);break;case 4:if(eo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Si(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=rr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*UI(n/1960))-n,10<n){t.timeoutHandle=g0(Zo.bind(null,t,fn,ya),n);break}Zo(t,fn,ya);break;case 5:Zo(t,fn,ya);break;default:throw Error(Ne(329))}}}return xn(t,rr()),t.callbackNode===r?AT.bind(null,t):null}function P0(t,e){var r=sc;return t.current.memoizedState.isDehydrated&&(ss(t,e).flags|=256),t=Gd(t,e),t!==2&&(e=fn,fn=r,e!==null&&I0(e)),t}function I0(t){fn===null?fn=t:fn.push.apply(fn,t)}function qI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ni(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function eo(t,e){for(e&=~Z1,e&=~tm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Si(e),n=1<<r;t[r]=-1,e&=~n}}function iS(t){if(pt&6)throw Error(Ne(327));xl();var e=Td(t,0);if(!(e&1))return xn(t,rr()),null;var r=Gd(t,e);if(t.tag!==0&&r===2){var n=l0(t);n!==0&&(e=n,r=P0(t,n))}if(r===1)throw r=Bc,ss(t,0),eo(t,e),xn(t,rr()),r;if(r===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zo(t,fn,ya),xn(t,rr()),null}function Q1(t,e){var r=pt;pt|=1;try{return t(e)}finally{pt=r,pt===0&&(Ll=rr()+500,Zp&&Ro())}}function vs(t){io!==null&&io.tag===0&&!(pt&6)&&xl();var e=pt;pt|=1;var r=ti.transition,n=Nt;try{if(ti.transition=null,Nt=1,t)return t()}finally{Nt=n,ti.transition=r,pt=e,!(pt&6)&&Ro()}}function ex(){Mn=sl.current,Lt(sl)}function ss(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,yI(r)),ar!==null)for(r=ar.return;r!==null;){var n=r;switch($1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$d();break;case 3:Pl(),Lt(vn),Lt(Yr),H1();break;case 5:q1(n);break;case 4:Pl();break;case 13:Lt(Ht);break;case 19:Lt(Ht);break;case 10:L1(n.type._context);break;case 22:case 23:ex()}r=r.return}if(wr=t,ar=t=xo(t.current,null),$r=Mn=e,pr=0,Bc=null,Z1=tm=gs=0,fn=sc=null,rs!==null){for(e=0;e<rs.length;e++)if(r=rs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}rs=null}return t}function ET(t,e){do{var r=ar;try{if(I1(),Yh.current=Hd,qd){for(var n=jt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}qd=!1}if(ms=0,br=cr=jt=null,ac=!1,Tc=0,J1.current=null,r===null||r.return===null){pr=1,Bc=e,ar=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=$r,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Ww(o);if(d!==null){d.flags&=-257,jw(d,o,s,a,e),d.mode&1&&Vw(a,u,e),e=d,l=u;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Vw(a,u,e),tx();break e}l=Error(Ne(426))}}else if(_t&&s.mode&1){var v=Ww(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),jw(v,o,s,a,e),R1(Il(l,s));break e}}a=l=Il(l,s),pr!==4&&(pr=2),sc===null?sc=[a]:sc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=uT(a,l,e);Iw(a,g);break e;case 1:s=l;var b=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(vo===null||!vo.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=cT(a,s,e);Iw(a,w);break e}}a=a.return}while(a!==null)}TT(r)}catch(S){e=S,ar===r&&r!==null&&(ar=r=r.return);continue}break}while(1)}function NT(){var t=Vd.current;return Vd.current=Hd,t===null?Hd:t}function tx(){(pr===0||pr===3||pr===2)&&(pr=4),wr===null||!(gs&268435455)&&!(tm&268435455)||eo(wr,$r)}function Gd(t,e){var r=pt;pt|=2;var n=NT();(wr!==t||$r!==e)&&(ya=null,ss(t,e));do try{HI();break}catch(i){ET(t,i)}while(1);if(I1(),pt=r,Vd.current=n,ar!==null)throw Error(Ne(261));return wr=null,$r=0,pr}function HI(){for(;ar!==null;)MT(ar)}function VI(){for(;ar!==null&&!mP();)MT(ar)}function MT(t){var e=OT(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?TT(t):ar=e,J1.current=null}function TT(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=II(r,e),r!==null){r.flags&=32767,ar=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pr=6,ar=null;return}}else if(r=PI(r,e,Mn),r!==null){ar=r;return}if(e=e.sibling,e!==null){ar=e;return}ar=e=t}while(e!==null);pr===0&&(pr=5)}function Zo(t,e,r){var n=Nt,i=ti.transition;try{ti.transition=null,Nt=1,WI(t,e,r,n)}finally{ti.transition=i,Nt=n}return null}function WI(t,e,r,n){do xl();while(io!==null);if(pt&6)throw Error(Ne(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(AP(t,a),t===wr&&(ar=wr=null,$r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qf||(Qf=!0,BT(Md,function(){return xl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ti.transition,ti.transition=null;var o=Nt;Nt=1;var s=pt;pt|=4,J1.current=null,_I(t,r),CT(r,t),fI(p0),kd=!!d0,p0=d0=null,t.current=r,zI(r),gP(),pt=s,Nt=o,ti.transition=a}else t.current=r;if(Qf&&(Qf=!1,io=t,jd=i),a=t.pendingLanes,a===0&&(vo=null),xP(r.stateNode),xn(t,rr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Wd)throw Wd=!1,t=$0,$0=null,t;return jd&1&&t.tag!==0&&xl(),a=t.pendingLanes,a&1?t===R0?lc++:(lc=0,R0=t):lc=0,Ro(),null}function xl(){if(io!==null){var t=l3(jd),e=ti.transition,r=Nt;try{if(ti.transition=null,Nt=16>t?16:t,io===null)var n=!1;else{if(t=io,io=null,jd=0,pt&6)throw Error(Ne(331));var i=pt;for(pt|=4,Re=t.current;Re!==null;){var a=Re,o=a.child;if(Re.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Re=u;Re!==null;){var c=Re;switch(c.tag){case 0:case 11:case 15:oc(8,c,a)}var f=c.child;if(f!==null)f.return=c,Re=f;else for(;Re!==null;){c=Re;var h=c.sibling,d=c.return;if(bT(c),c===u){Re=null;break}if(h!==null){h.return=d,Re=h;break}Re=d}}}var p=a.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Re=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Re=o;else e:for(;Re!==null;){if(a=Re,a.flags&2048)switch(a.tag){case 0:case 11:case 15:oc(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Re=g;break e}Re=a.return}}var b=t.current;for(Re=b;Re!==null;){o=Re;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Re=y;else e:for(o=b;Re!==null;){if(s=Re,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:em(9,s)}}catch(S){Xt(s,s.return,S)}if(s===o){Re=null;break e}var w=s.sibling;if(w!==null){w.return=s.return,Re=w;break e}Re=s.return}}if(pt=i,Ro(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(jp,t)}catch{}n=!0}return n}finally{Nt=r,ti.transition=e}}return!1}function aS(t,e,r){e=Il(r,e),e=uT(t,e,1),t=go(t,e,1),e=nn(),t!==null&&(af(t,1,e),xn(t,e))}function Xt(t,e,r){if(t.tag===3)aS(t,t,r);else for(;e!==null;){if(e.tag===3){aS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vo===null||!vo.has(n))){t=Il(r,t),t=cT(e,t,1),e=go(e,t,1),t=nn(),e!==null&&(af(e,1,t),xn(e,t));break}}e=e.return}}function jI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&r,wr===t&&($r&r)===r&&(pr===4||pr===3&&($r&130023424)===$r&&500>rr()-X1?ss(t,0):Z1|=r),xn(t,e)}function kT(t,e){e===0&&(t.mode&1?(e=Hf,Hf<<=1,!(Hf&130023424)&&(Hf=4194304)):e=1);var r=nn();t=ka(t,e),t!==null&&(af(t,e,r),xn(t,r))}function GI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),kT(t,r)}function KI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ne(314))}n!==null&&n.delete(e),kT(t,r)}var OT;OT=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)dn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return dn=!1,RI(t,e,r);dn=!!(t.flags&131072)}else dn=!1,_t&&e.flags&1048576&&$3(e,Id,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Zh(t,e),t=e.pendingProps;var i=Fl(e,Yr.current);yl(e,r),i=W1(null,e,n,t,i,r);var a=j1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(n)?(a=!0,Rd(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,z1(e),i.updater=Xp,e.stateNode=i,i._reactInternals=e,C0(e,n,t,r),e=E0(null,e,n,!0,a,r)):(e.tag=0,_t&&a&&F1(e),en(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Zh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=JI(n),t=mi(n,t),i){case 0:e=A0(null,e,n,t,r);break e;case 1:e=Yw(null,e,n,t,r);break e;case 11:e=Gw(null,e,n,t,r);break e;case 14:e=Kw(null,e,n,mi(n.type,t),r);break e}throw Error(Ne(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),A0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),Yw(t,e,n,i,r);case 3:e:{if(pT(e),t===null)throw Error(Ne(387));n=e.pendingProps,a=e.memoizedState,i=a.element,L3(t,e),zd(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Il(Error(Ne(423)),e),e=Jw(t,e,n,r,i);break e}else if(n!==i){i=Il(Error(Ne(424)),e),e=Jw(t,e,n,r,i);break e}else for($n=mo(e.stateNode.containerInfo.firstChild),Ln=e,_t=!0,vi=null,r=q3(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($l(),n===i){e=Oa(t,e,r);break e}en(t,e,n,r)}e=e.child}return e;case 5:return H3(e),t===null&&b0(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,m0(n,i)?o=null:a!==null&&m0(n,a)&&(e.flags|=32),dT(t,e),en(t,e,o,r),e.child;case 6:return t===null&&b0(e),null;case 13:return mT(t,e,r);case 4:return U1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Rl(e,null,n,r):en(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),Gw(t,e,n,i,r);case 7:return en(t,e,e.pendingProps,r),e.child;case 8:return en(t,e,e.pendingProps.children,r),e.child;case 12:return en(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,$t(Ld,n._currentValue),n._currentValue=o,a!==null)if(Ni(a.value,o)){if(a.children===i.children&&!vn.current){e=Oa(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Da(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),w0(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Ne(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),w0(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}en(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,yl(e,r),i=ai(i),n=n(i),e.flags|=1,en(t,e,n,r),e.child;case 14:return n=e.type,i=mi(n,e.pendingProps),i=mi(n.type,i),Kw(t,e,n,i,r);case 15:return fT(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),Zh(t,e),e.tag=1,yn(n)?(t=!0,Rd(e)):t=!1,yl(e,r),z3(e,n,i),C0(e,n,i,r),E0(null,e,n,!0,t,r);case 19:return gT(t,e,r);case 22:return hT(t,e,r)}throw Error(Ne(156,e.tag))};function BT(t,e){return i3(t,e)}function YI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,r,n){return new YI(t,e,r,n)}function rx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JI(t){if(typeof t=="function")return rx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===w1)return 11;if(t===S1)return 14}return 2}function xo(t,e){var r=t.alternate;return r===null?(r=Qn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ed(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")rx(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zs:return ls(r.children,i,a,e);case b1:o=8,i|=8;break;case Gv:return t=Qn(12,r,e,i|2),t.elementType=Gv,t.lanes=a,t;case Kv:return t=Qn(13,r,e,i),t.elementType=Kv,t.lanes=a,t;case Yv:return t=Qn(19,r,e,i),t.elementType=Yv,t.lanes=a,t;case UM:return rm(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _M:o=10;break e;case zM:o=9;break e;case w1:o=11;break e;case S1:o=14;break e;case Ga:o=16,n=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=Qn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function ls(t,e,r,n){return t=Qn(7,t,n,e),t.lanes=r,t}function rm(t,e,r,n){return t=Qn(22,t,n,e),t.elementType=UM,t.lanes=r,t.stateNode={isHidden:!1},t}function Kg(t,e,r){return t=Qn(6,t,null,e),t.lanes=r,t}function Yg(t,e,r){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tg(0),this.expirationTimes=Tg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nx(t,e,r,n,i,a,o,s,l){return t=new ZI(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Qn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},z1(a),t}function XI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function FT(t){if(!t)return Co;t=t._reactInternals;e:{if(Ns(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var r=t.type;if(yn(r))return B3(t,r,e)}return e}function $T(t,e,r,n,i,a,o,s,l){return t=nx(r,n,!0,t,i,a,o,s,l),t.context=FT(null),r=t.current,n=nn(),i=yo(r),a=Da(n,i),a.callback=e??null,go(r,a,i),t.current.lanes=i,af(t,i,n),xn(t,n),t}function nm(t,e,r,n){var i=e.current,a=nn(),o=yo(i);return r=FT(r),e.context===null?e.context=r:e.pendingContext=r,e=Da(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=go(i,e,o),t!==null&&(Ci(t,i,o,a),Kh(t,i,o)),o}function Kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ix(t,e){oS(t,e),(t=t.alternate)&&oS(t,e)}function QI(){return null}var RT=typeof reportError=="function"?reportError:function(t){console.error(t)};function ax(t){this._internalRoot=t}im.prototype.render=ax.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));nm(t,e,null,null)};im.prototype.unmount=ax.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vs(function(){nm(null,t,null,null)}),e[Ta]=null}};function im(t){this._internalRoot=t}im.prototype.unstable_scheduleHydration=function(t){if(t){var e=f3();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Qa.length&&e!==0&&e<Qa[r].priority;r++);Qa.splice(r,0,t),r===0&&d3(t)}};function ox(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function am(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sS(){}function e8(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Kd(o);a.call(u)}}var o=$T(e,n,t,0,null,!1,!1,"",sS);return t._reactRootContainer=o,t[Ta]=o.current,Dc(t.nodeType===8?t.parentNode:t),vs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Kd(l);s.call(u)}}var l=nx(t,0,!1,null,null,!1,!1,"",sS);return t._reactRootContainer=l,t[Ta]=l.current,Dc(t.nodeType===8?t.parentNode:t),vs(function(){nm(e,l,r,n)}),l}function om(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Kd(o);s.call(l)}}nm(e,o,t,i)}else o=e8(r,e,t,i,n);return Kd(o)}u3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Wu(e.pendingLanes);r!==0&&(A1(e,r|1),xn(e,rr()),!(pt&6)&&(Ll=rr()+500,Ro()))}break;case 13:vs(function(){var n=ka(t,1);if(n!==null){var i=nn();Ci(n,t,1,i)}}),ix(t,1)}};E1=function(t){if(t.tag===13){var e=ka(t,134217728);if(e!==null){var r=nn();Ci(e,t,134217728,r)}ix(t,134217728)}};c3=function(t){if(t.tag===13){var e=yo(t),r=ka(t,e);if(r!==null){var n=nn();Ci(r,t,e,n)}ix(t,e)}};f3=function(){return Nt};h3=function(t,e){var r=Nt;try{return Nt=t,e()}finally{Nt=r}};a0=function(t,e,r){switch(e){case"input":if(Xv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Jp(n);if(!i)throw Error(Ne(90));HM(n),Xv(n,i)}}}break;case"textarea":WM(t,r);break;case"select":e=r.value,e!=null&&pl(t,!!r.multiple,e,!1)}};XM=Q1;QM=vs;var t8={usingClientEntryPoint:!1,Events:[sf,tl,Jp,JM,ZM,Q1]},Ou={findFiberByHostInstance:ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},r8={bundleType:Ou.bundleType,version:Ou.version,rendererPackageName:Ou.rendererPackageName,rendererConfig:Ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:za.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=r3(t),t===null?null:t.stateNode},findFiberByHostInstance:Ou.findFiberByHostInstance||QI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{jp=eh.inject(r8),Zi=eh}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t8;Hn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ox(e))throw Error(Ne(200));return XI(t,e,null,r)};Hn.createRoot=function(t,e){if(!ox(t))throw Error(Ne(299));var r=!1,n="",i=RT;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=nx(t,1,!1,null,null,r,!1,n,i),t[Ta]=e.current,Dc(t.nodeType===8?t.parentNode:t),new ax(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=r3(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return vs(t)};Hn.hydrate=function(t,e,r){if(!am(e))throw Error(Ne(200));return om(null,t,e,!0,r)};Hn.hydrateRoot=function(t,e,r){if(!ox(t))throw Error(Ne(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=RT;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=$T(e,null,t,1,r??null,i,!1,a,o),t[Ta]=e.current,Dc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new im(e)};Hn.render=function(t,e,r){if(!am(e))throw Error(Ne(200));return om(null,t,e,!1,r)};Hn.unmountComponentAtNode=function(t){if(!am(t))throw Error(Ne(40));return t._reactRootContainer?(vs(function(){om(null,null,t,!1,function(){t._reactRootContainer=null,t[Ta]=null})}),!0):!1};Hn.unstable_batchedUpdates=Q1;Hn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!am(r))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return om(t,e,r,!1,n)};Hn.version="18.2.0-next-9e3b772b8-20220608";function PT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PT)}catch(t){console.error(t)}}PT(),$M.exports=Hn;var IT=$M.exports,LT,lS=IT;LT=lS.createRoot,lS.hydrateRoot;const _T={math:null,doc:localStorage.getItem("doc")||"",lines:[],results:new Map},n8=(t,e)=>{const{type:r,payload:n}=e;switch(r){case"SET_MATH":return{...t,math:n.math};case"SET_DOC":return{...t,doc:n.doc};case"SET_LINES":return{...t,lines:n.lines};case"SET_RESULTS":return{...t,results:n.results};default:throw new Error(`No case for type ${r} found in CalcReducer.`)}};function te(){return te=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},te.apply(this,arguments)}var sm={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function nt(t){return typeof t=="number"}function Qe(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function Di(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function Ms(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function yi(t){return t&&t.constructor.prototype.isUnit===!0||!1}function Kr(t){return typeof t=="string"}var yt=Array.isArray;function We(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Mi(t){return Array.isArray(t)||We(t)}function Fc(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function ao(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function lm(t){return t&&t.constructor.prototype.isRange===!0||!1}function uf(t){return t&&t.constructor.prototype.isIndex===!0||!1}function zT(t){return typeof t=="boolean"}function UT(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function sx(t){return t&&t.constructor.prototype.isHelp===!0||!1}function qT(t){return typeof t=="function"}function HT(t){return t instanceof Date}function VT(t){return t instanceof RegExp}function um(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Di(t)&&!Ms(t))}function WT(t){return t===null}function jT(t){return t===void 0}function Do(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function kn(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function GT(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function KT(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function YT(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function at(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function L0(t){return at(t)||er(t)&&t.args.length===1&&at(t.args[0])&&"-+~".includes(t.op)}function uu(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ba(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ts(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function xt(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function cf(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function er(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function na(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function JT(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function ZT(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function mr(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function lx(t){return t&&t.constructor.prototype.isChain===!0||!1}function Et(t){var e=typeof t;return e==="object"?t===null?"null":Qe(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function He(t){var e=typeof t;if(e==="number"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return He(r)});if(t instanceof Date)return new Date(t.valueOf());if(Qe(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return Gu(t,He)}function Gu(t,e){var r={};for(var n in t)Oe(t,n)&&(r[n]=e(t[n]));return r}function XT(t,e){for(var r in e)Oe(e,r)&&(t[r]=e[r]);return t}function QT(t,e){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");for(var r in e)if(Oe(e,r)&&!(r in Object.prototype)&&!(r in Function.prototype))if(e[r]&&e[r].constructor===Object)t[r]===void 0&&(t[r]={}),t[r]&&t[r].constructor===Object?QT(t[r],e[r]):t[r]=e[r];else{if(Array.isArray(e[r]))throw new TypeError("Arrays are not supported by deepExtend");t[r]=e[r]}return t}function $c(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!$c(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!$c(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function i8(t){var e={};return ek(t,e),e}function ek(t,e){for(var r in t)if(Oe(t,r)){var n=t[r];typeof n=="object"&&n!==null?ek(n,e):e[r]=n}}function td(t,e,r){var n=!0,i;Object.defineProperty(t,e,{get:function(){return n&&(i=r(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function Oe(t,e){return t&&Object.hasOwnProperty.call(t,e)}function a8(t){return t&&typeof t.factory=="function"}function o8(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=t[i];a!==void 0&&(r[i]=a)}return r}function uS(t){return Object.keys(t).map(e=>t[e])}var _0=["Matrix","Array"],z0=["number","BigNumber","Fraction"];function s8(t,e){function r(n){if(n){var i=Gu(t,He);cS(n,"matrix",_0),cS(n,"number",z0),QT(t,n);var a=Gu(t,He),o=Gu(n,He);return e("config",a,i,o),a}else return Gu(t,He)}return r.MATRIX_OPTIONS=_0,r.NUMBER_OPTIONS=z0,Object.keys(sm).forEach(n=>{Object.defineProperty(r,n,{get:()=>t[n],enumerable:!0,configurable:!0})}),r}function l8(t,e){return t.indexOf(e)!==-1}function cS(t,e,r){t[e]!==void 0&&!l8(r,t[e])&&console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+r.map(n=>JSON.stringify(n)).join(", ")+".")}var sa=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(sm)};te(sa,sm,{MATRIX_OPTIONS:_0,NUMBER_OPTIONS:z0});function pi(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=u8(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function u8(t,e){if(t){if(typeof t=="string")return fS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fS(t,e)}}function fS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ll(t){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ll(t)}function hS(){return!0}function Gn(){return!1}function zs(){}var dS="Argument is not a typed-function.";function tk(){function t(z){return ll(z)==="object"&&z!==null&&z.constructor===Object}var e=[{name:"number",test:function(U){return typeof U=="number"}},{name:"string",test:function(U){return typeof U=="string"}},{name:"boolean",test:function(U){return typeof U=="boolean"}},{name:"Function",test:function(U){return typeof U=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(U){return U instanceof Date}},{name:"RegExp",test:function(U){return U instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(U){return U===null}},{name:"undefined",test:function(U){return U===void 0}}],r={name:"any",test:hS,isAny:!0},n,i,a=0,o={createCount:0};function s(z){var U=n.get(z);if(U)return U;var X='Unknown type "'+z+'"',oe=z.toLowerCase(),de,fe=pi(i),ve;try{for(fe.s();!(ve=fe.n()).done;)if(de=ve.value,de.toLowerCase()===oe){X+='. Did you mean "'+de+'" ?';break}}catch(pe){fe.e(pe)}finally{fe.f()}throw new TypeError(X)}function l(z){for(var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",X=U?s(U).index:i.length,oe=[],de=0;de<z.length;++de){if(!z[de]||typeof z[de].name!="string"||typeof z[de].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");var fe=z[de].name;if(n.has(fe))throw new TypeError('Duplicate type name "'+fe+'"');oe.push(fe),n.set(fe,{name:fe,test:z[de].test,isAny:z[de].isAny,index:X+de,conversionsTo:[]})}var ve=i.slice(X);i=i.slice(0,X).concat(oe).concat(ve);for(var pe=X+oe.length;pe<i.length;++pe)n.get(i[pe]).index=pe}function u(){n=new Map,i=[],a=0,l([r],!1)}u(),l(e);function c(){var z,U=pi(i),X;try{for(U.s();!(X=U.n()).done;)z=X.value,n.get(z).conversionsTo=[]}catch(oe){U.e(oe)}finally{U.f()}a=0}function f(z){var U=i.filter(function(X){var oe=n.get(X);return!oe.isAny&&oe.test(z)});return U.length?U:["any"]}function h(z){return z&&typeof z=="function"&&"_typedFunctionData"in z}function d(z,U,X){if(!h(z))throw new TypeError(dS);var oe=X&&X.exact,de=Array.isArray(U)?U.join(","):U,fe=w(de),ve=v(fe);if(!oe||ve in z.signatures){var pe=z._typedFunctionData.signatureMap.get(ve);if(pe)return pe}var we=fe.length,Fe;if(oe){Fe=[];var Pe;for(Pe in z.signatures)Fe.push(z._typedFunctionData.signatureMap.get(Pe))}else Fe=z._typedFunctionData.signatures;for(var Me=0;Me<we;++Me){var lt=fe[Me],Ge=[],mt=void 0,B=pi(Fe),K;try{for(B.s();!(K=B.n()).done;){mt=K.value;var ae=A(mt.params,Me);if(!(!ae||lt.restParam&&!ae.restParam)){if(!ae.hasAny){var Ae=function(){var sr=y(ae);if(lt.types.some(function($i){return!sr.has($i.name)}))return"continue"}();if(Ae==="continue")continue}Ge.push(mt)}}}catch(sr){B.e(sr)}finally{B.f()}if(Fe=Ge,Fe.length===0)break}var Le,Ve=pi(Fe),Yt;try{for(Ve.s();!(Yt=Ve.n()).done;)if(Le=Yt.value,Le.params.length<=we)return Le}catch(sr){Ve.e(sr)}finally{Ve.f()}throw new TypeError("Signature not found (signature: "+(z.name||"unnamed")+"("+v(fe,", ")+"))")}function p(z,U,X){return d(z,U,X).implementation}function m(z,U){var X=s(U);if(X.test(z))return z;var oe=X.conversionsTo;if(oe.length===0)throw new Error("There are no conversions to "+U+" defined.");for(var de=0;de<oe.length;de++){var fe=s(oe[de].from);if(fe.test(z))return oe[de].convert(z)}throw new Error("Cannot convert "+z+" to "+U)}function v(z){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return z.map(function(X){return X.name}).join(U)}function g(z){var U=z.indexOf("...")===0,X=U?z.length>3?z.slice(3):"any":z,oe=X.split("|").map(function(pe){return s(pe.trim())}),de=!1,fe=U?"...":"",ve=oe.map(function(pe){return de=pe.isAny||de,fe+=pe.name+"|",{name:pe.name,typeIndex:pe.index,test:pe.test,isAny:pe.isAny,conversion:null,conversionIndex:-1}});return{types:ve,name:fe.slice(0,-1),hasAny:de,hasConversion:!1,restParam:U}}function b(z){var U=z.types.map(function(ve){return ve.name}),X=T(U),oe=z.hasAny,de=z.name,fe=X.map(function(ve){var pe=s(ve.from);return oe=pe.isAny||oe,de+="|"+ve.from,{name:ve.from,typeIndex:pe.index,test:pe.test,isAny:pe.isAny,conversion:ve,conversionIndex:ve.index}});return{types:z.types.concat(fe),name:de,hasAny:oe,hasConversion:fe.length>0,restParam:z.restParam}}function y(z){return z.typeSet||(z.typeSet=new Set,z.types.forEach(function(U){return z.typeSet.add(U.name)})),z.typeSet}function w(z){var U=[];if(typeof z!="string")throw new TypeError("Signatures must be strings");var X=z.trim();if(X==="")return U;for(var oe=X.split(","),de=0;de<oe.length;++de){var fe=g(oe[de].trim());if(fe.restParam&&de!==oe.length-1)throw new SyntaxError('Unexpected rest parameter "'+oe[de]+'": only allowed for the last parameter');if(fe.types.length===0)return null;U.push(fe)}return U}function S(z){var U=le(z);return U?U.restParam:!1}function x(z){if(!z||z.types.length===0)return hS;if(z.types.length===1)return s(z.types[0].name).test;if(z.types.length===2){var U=s(z.types[0].name).test,X=s(z.types[1].name).test;return function(fe){return U(fe)||X(fe)}}else{var oe=z.types.map(function(de){return s(de.name).test});return function(fe){for(var ve=0;ve<oe.length;ve++)if(oe[ve](fe))return!0;return!1}}}function C(z){var U,X,oe;if(S(z)){U=he(z).map(x);var de=U.length,fe=x(le(z)),ve=function(we){for(var Fe=de;Fe<we.length;Fe++)if(!fe(we[Fe]))return!1;return!0};return function(we){for(var Fe=0;Fe<U.length;Fe++)if(!U[Fe](we[Fe]))return!1;return ve(we)&&we.length>=de+1}}else return z.length===0?function(we){return we.length===0}:z.length===1?(X=x(z[0]),function(we){return X(we[0])&&we.length===1}):z.length===2?(X=x(z[0]),oe=x(z[1]),function(we){return X(we[0])&&oe(we[1])&&we.length===2}):(U=z.map(x),function(we){for(var Fe=0;Fe<U.length;Fe++)if(!U[Fe](we[Fe]))return!1;return we.length===U.length})}function A(z,U){return U<z.length?z[U]:S(z)?le(z):null}function E(z,U){var X=A(z,U);return X?y(X):new Set}function D(z){return z.conversion===null||z.conversion===void 0}function M(z,U){var X=new Set;return z.forEach(function(oe){var de=E(oe.params,U),fe,ve=pi(de),pe;try{for(ve.s();!(pe=ve.n()).done;)fe=pe.value,X.add(fe)}catch(we){ve.e(we)}finally{ve.f()}}),X.has("any")?["any"]:Array.from(X)}function k(z,U,X){var oe,de,fe=z||"unnamed",ve=X,pe,we=function(){var B=[];if(ve.forEach(function(ae){var Ae=A(ae.params,pe),Le=x(Ae);(pe<ae.params.length||S(ae.params))&&Le(U[pe])&&B.push(ae)}),B.length===0){if(de=M(ve,pe),de.length>0){var K=f(U[pe]);return oe=new TypeError("Unexpected type of argument in function "+fe+" (expected: "+de.join(" or ")+", actual: "+K.join(" | ")+", index: "+pe+")"),oe.data={category:"wrongType",fn:fe,index:pe,actual:K,expected:de},{v:oe}}}else ve=B};for(pe=0;pe<U.length;pe++){var Fe=we();if(ll(Fe)==="object")return Fe.v}var Pe=ve.map(function(mt){return S(mt.params)?1/0:mt.params.length});if(U.length<Math.min.apply(null,Pe))return de=M(ve,pe),oe=new TypeError("Too few arguments in function "+fe+" (expected: "+de.join(" or ")+", index: "+U.length+")"),oe.data={category:"tooFewArgs",fn:fe,index:U.length,expected:de},oe;var Me=Math.max.apply(null,Pe);if(U.length>Me)return oe=new TypeError("Too many arguments in function "+fe+" (expected: "+Me+", actual: "+U.length+")"),oe.data={category:"tooManyArgs",fn:fe,index:U.length,expectedLength:Me},oe;for(var lt=[],Ge=0;Ge<U.length;++Ge)lt.push(f(U[Ge]).join("|"));return oe=new TypeError('Arguments of type "'+lt.join(", ")+'" do not match any of the defined signatures of function '+fe+"."),oe.data={category:"mismatch",actual:lt},oe}function $(z){for(var U=i.length+1,X=0;X<z.types.length;X++)D(z.types[X])&&(U=Math.min(U,z.types[X].typeIndex));return U}function I(z){for(var U=a+1,X=0;X<z.types.length;X++)D(z.types[X])||(U=Math.min(U,z.types[X].conversionIndex));return U}function F(z,U){if(z.hasAny){if(!U.hasAny)return 1}else if(U.hasAny)return-1;if(z.restParam){if(!U.restParam)return 1}else if(U.restParam)return-1;if(z.hasConversion){if(!U.hasConversion)return 1}else if(U.hasConversion)return-1;var X=$(z)-$(U);if(X<0)return-1;if(X>0)return 1;var oe=I(z)-I(U);return oe<0?-1:oe>0?1:0}function N(z,U){var X=z.params,oe=U.params,de=le(X),fe=le(oe),ve=S(X),pe=S(oe);if(ve&&de.hasAny){if(!pe||!fe.hasAny)return 1}else if(pe&&fe.hasAny)return-1;var we=0,Fe=0,Pe,Me=pi(X),lt;try{for(Me.s();!(lt=Me.n()).done;)Pe=lt.value,Pe.hasAny&&++we,Pe.hasConversion&&++Fe}catch(pa){Me.e(pa)}finally{Me.f()}var Ge=0,mt=0,B=pi(oe),K;try{for(B.s();!(K=B.n()).done;)Pe=K.value,Pe.hasAny&&++Ge,Pe.hasConversion&&++mt}catch(pa){B.e(pa)}finally{B.f()}if(we!==Ge)return we-Ge;if(ve&&de.hasConversion){if(!pe||!fe.hasConversion)return 1}else if(pe&&fe.hasConversion)return-1;if(Fe!==mt)return Fe-mt;if(ve){if(!pe)return 1}else if(pe)return-1;var ae=(X.length-oe.length)*(ve?-1:1);if(ae!==0)return ae;for(var Ae=[],Le=0,Ve=0;Ve<X.length;++Ve){var Yt=F(X[Ve],oe[Ve]);Ae.push(Yt),Le+=Yt}if(Le!==0)return Le;for(var sr,$i=0,Vo=Ae;$i<Vo.length;$i++)if(sr=Vo[$i],sr!==0)return sr;return 0}function T(z){if(z.length===0)return[];var U=z.map(s);z.length>1&&U.sort(function(we,Fe){return we.index-Fe.index});var X=U[0].conversionsTo;if(z.length===1)return X;X=X.concat([]);for(var oe=new Set(z),de=1;de<U.length;++de){var fe=void 0,ve=pi(U[de].conversionsTo),pe;try{for(ve.s();!(pe=ve.n()).done;)fe=pe.value,oe.has(fe.from)||(X.push(fe),oe.add(fe.from))}catch(we){ve.e(we)}finally{ve.f()}}return X}function R(z,U){var X=U;if(z.some(function(pe){return pe.hasConversion})){var oe=S(z),de=z.map(O);X=function(){for(var we=[],Fe=oe?arguments.length-1:arguments.length,Pe=0;Pe<Fe;Pe++)we[Pe]=de[Pe](arguments[Pe]);return oe&&(we[Fe]=arguments[Fe].map(de[Fe])),U.apply(this,we)}}var fe=X;if(S(z)){var ve=z.length-1;fe=function(){return X.apply(this,ne(arguments,0,ve).concat([ne(arguments,ve)]))}}return fe}function O(z){var U,X,oe,de,fe=[],ve=[];switch(z.types.forEach(function(pe){pe.conversion&&(fe.push(s(pe.conversion.from).test),ve.push(pe.conversion.convert))}),ve.length){case 0:return function(we){return we};case 1:return U=fe[0],oe=ve[0],function(we){return U(we)?oe(we):we};case 2:return U=fe[0],X=fe[1],oe=ve[0],de=ve[1],function(we){return U(we)?oe(we):X(we)?de(we):we};default:return function(we){for(var Fe=0;Fe<ve.length;Fe++)if(fe[Fe](we))return ve[Fe](we);return we}}}function P(z){function U(X,oe,de){if(oe<X.length){var fe=X[oe],ve=[];if(fe.restParam){var pe=fe.types.filter(D);pe.length<fe.types.length&&ve.push({types:pe,name:"..."+pe.map(function(we){return we.name}).join("|"),hasAny:pe.some(function(we){return we.isAny}),hasConversion:!1,restParam:!0}),ve.push(fe)}else ve=fe.types.map(function(we){return{types:[we],name:we.name,hasAny:we.isAny,hasConversion:we.conversion,restParam:!1}});return Se(ve,function(we){return U(X,oe+1,de.concat([we]))})}else return[de]}return U(z,0,[])}function V(z,U){for(var X=Math.max(z.length,U.length),oe=0;oe<X;oe++){var de=E(z,oe),fe=E(U,oe),ve=!1,pe=void 0,we=pi(fe),Fe;try{for(we.s();!(Fe=we.n()).done;)if(pe=Fe.value,de.has(pe)){ve=!0;break}}catch(mt){we.e(mt)}finally{we.f()}if(!ve)return!1}var Pe=z.length,Me=U.length,lt=S(z),Ge=S(U);return lt?Ge?Pe===Me:Me>=Pe:Ge?Pe>=Me:Pe===Me}function W(z){return z.map(function(U){return re(U)?q(U.referToSelf.callback):j(U)?Ce(U.referTo.references,U.referTo.callback):U})}function L(z,U,X){var oe=[],de,fe=pi(z),ve;try{for(fe.s();!(ve=fe.n()).done;){de=ve.value;var pe=X[de];if(typeof pe!="number")throw new TypeError('No definition for referenced signature "'+de+'"');if(pe=U[pe],typeof pe!="function")return!1;oe.push(pe)}}catch(we){fe.e(we)}finally{fe.f()}return oe}function G(z,U,X){for(var oe=W(z),de=new Array(oe.length).fill(!1),fe=!0;fe;){fe=!1;for(var ve=!0,pe=0;pe<oe.length;++pe)if(!de[pe]){var we=oe[pe];if(re(we))oe[pe]=we.referToSelf.callback(X),oe[pe].referToSelf=we.referToSelf,de[pe]=!0,ve=!1;else if(j(we)){var Fe=L(we.referTo.references,oe,U);Fe?(oe[pe]=we.referTo.callback.apply(this,Fe),oe[pe].referTo=we.referTo,de[pe]=!0,ve=!1):fe=!0}}if(ve&&fe)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return oe}function ee(z){var U=/\bthis(\(|\.signatures\b)/;Object.keys(z).forEach(function(X){var oe=z[X];if(U.test(oe.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Z(z,U){if(o.createCount++,Object.keys(U).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&ee(U);var X=[],oe=[],de={},fe=[],ve,pe=function(){if(!Object.prototype.hasOwnProperty.call(U,ve))return"continue";var ht=w(ve);if(!ht)return"continue";X.forEach(function(Ls){if(V(Ls,ht))throw new TypeError('Conflicting signatures "'+v(Ls)+'" and "'+v(ht)+'".')}),X.push(ht);var Be=oe.length;oe.push(U[ve]);var Tt=ht.map(b),Ut=void 0,xr=pi(P(Tt)),If;try{for(xr.s();!(If=xr.n()).done;){Ut=If.value;var Qb=v(Ut);fe.push({params:Ut,name:Qb,fn:Be}),Ut.every(function(Ls){return!Ls.hasConversion})&&(de[Qb]=Be)}}catch(Ls){xr.e(Ls)}finally{xr.f()}};for(ve in U)var we=pe();fe.sort(N);var Fe=G(oe,de,Ko),Pe;for(Pe in de)Object.prototype.hasOwnProperty.call(de,Pe)&&(de[Pe]=Fe[de[Pe]]);for(var Me=[],lt=new Map,Ge=0,mt=fe;Ge<mt.length;Ge++)Pe=mt[Ge],lt.has(Pe.name)||(Pe.fn=Fe[Pe.fn],Me.push(Pe),lt.set(Pe.name,Pe));for(var B=Me[0]&&Me[0].params.length<=2&&!S(Me[0].params),K=Me[1]&&Me[1].params.length<=2&&!S(Me[1].params),ae=Me[2]&&Me[2].params.length<=2&&!S(Me[2].params),Ae=Me[3]&&Me[3].params.length<=2&&!S(Me[3].params),Le=Me[4]&&Me[4].params.length<=2&&!S(Me[4].params),Ve=Me[5]&&Me[5].params.length<=2&&!S(Me[5].params),Yt=B&&K&&ae&&Ae&&Le&&Ve,sr=0;sr<Me.length;++sr)Me[sr].test=C(Me[sr].params);for(var $i=B?x(Me[0].params[0]):Gn,Vo=K?x(Me[1].params[0]):Gn,pa=ae?x(Me[2].params[0]):Gn,Of=Ae?x(Me[3].params[0]):Gn,yg=Le?x(Me[4].params[0]):Gn,xg=Ve?x(Me[5].params[0]):Gn,bg=B?x(Me[0].params[1]):Gn,Su=K?x(Me[1].params[1]):Gn,Bf=ae?x(Me[2].params[1]):Gn,it=Ae?x(Me[3].params[1]):Gn,Ee=Le?x(Me[4].params[1]):Gn,lr=Ve?x(Me[5].params[1]):Gn,ue=0;ue<Me.length;++ue)Me[ue].implementation=R(Me[ue].params,Me[ue].fn);var Wo=B?Me[0].implementation:zs,jo=K?Me[1].implementation:zs,Je=ae?Me[2].implementation:zs,wg=Ae?Me[3].implementation:zs,Cu=Le?Me[4].implementation:zs,_r=Ve?Me[5].implementation:zs,hi=B?Me[0].params.length:-1,zr=K?Me[1].params.length:-1,Ur=ae?Me[2].params.length:-1,Go=Ae?Me[3].params.length:-1,Ff=Le?Me[4].params.length:-1,$f=Ve?Me[5].params.length:-1,Rf=Yt?6:0,Pf=Me.length,Dr=Me.map(function(Qr){return Qr.test}),Sg=Me.map(function(Qr){return Qr.implementation}),Cg=function(){for(var ht=Rf;ht<Pf;ht++)if(Dr[ht](arguments))return Sg[ht].apply(this,arguments);return o.onMismatch(z,arguments,Me)};function Ko(Qr,ht){return arguments.length===hi&&$i(Qr)&&bg(ht)?Wo.apply(this,arguments):arguments.length===zr&&Vo(Qr)&&Su(ht)?jo.apply(this,arguments):arguments.length===Ur&&pa(Qr)&&Bf(ht)?Je.apply(this,arguments):arguments.length===Go&&Of(Qr)&&it(ht)?wg.apply(this,arguments):arguments.length===Ff&&yg(Qr)&&Ee(ht)?Cu.apply(this,arguments):arguments.length===$f&&xg(Qr)&&lr(ht)?_r.apply(this,arguments):Cg.apply(this,arguments)}try{Object.defineProperty(Ko,"name",{value:z})}catch{}return Ko.signatures=de,Ko._typedFunctionData={signatures:Me,signatureMap:lt},Ko}function se(z,U,X){throw k(z,U,X)}function he(z){return ne(z,0,z.length-1)}function le(z){return z[z.length-1]}function ne(z,U,X){return Array.prototype.slice.call(z,U,X)}function xe(z,U){for(var X=0;X<z.length;X++)if(U(z[X]))return z[X]}function Se(z,U){return Array.prototype.concat.apply([],z.map(U))}function me(){var z=he(arguments).map(function(X){return v(w(X))}),U=le(arguments);if(typeof U!="function")throw new TypeError("Callback function expected as last argument");return Ce(z,U)}function Ce(z,U){return{referTo:{references:z,callback:U}}}function q(z){if(typeof z!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:z}}}function j(z){return z&&ll(z.referTo)==="object"&&Array.isArray(z.referTo.references)&&typeof z.referTo.callback=="function"}function re(z){return z&&ll(z.referToSelf)==="object"&&typeof z.referToSelf.callback=="function"}function H(z,U){if(!z)return U;if(U&&U!==z){var X=new Error("Function names do not match (expected: "+z+", actual: "+U+")");throw X.data={actual:U,expected:z},X}return z}function Y(z){var U;for(var X in z)Object.prototype.hasOwnProperty.call(z,X)&&(h(z[X])||typeof z[X].signature=="string")&&(U=H(U,z[X].name));return U}function Q(z,U){var X;for(X in U)if(Object.prototype.hasOwnProperty.call(U,X)){if(X in z&&U[X]!==z[X]){var oe=new Error('Signature "'+X+'" is defined twice');throw oe.data={signature:X,sourceFunction:U[X],destFunction:z[X]},oe}z[X]=U[X]}}var ge=o;o=function(U){for(var X=typeof U=="string",oe=X?1:0,de=X?U:"",fe={},ve=oe;ve<arguments.length;++ve){var pe=arguments[ve],we={},Fe=void 0;if(typeof pe=="function"?(Fe=pe.name,typeof pe.signature=="string"?we[pe.signature]=pe:h(pe)&&(we=pe.signatures)):t(pe)&&(we=pe,X||(Fe=Y(pe))),Object.keys(we).length===0){var Pe=new TypeError("Argument to 'typed' at index "+ve+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Pe.data={index:ve,argument:pe},Pe}X||(de=H(de,Fe)),Q(fe,we)}return Z(de||"",fe)},o.create=tk,o.createCount=ge.createCount,o.onMismatch=se,o.throwMismatchError=se,o.createError=k,o.clear=u,o.clearConversions=c,o.addTypes=l,o._findType=s,o.referTo=me,o.referToSelf=q,o.convert=m,o.findSignature=d,o.find=p,o.isTypedFunction=h,o.warnAgainstDeprecatedThis=!0,o.addType=function(z,U){var X="any";U!==!1&&n.has("Object")&&(X="Object"),o.addTypes([z],X)};function ce(z){if(!z||typeof z.from!="string"||typeof z.to!="string"||typeof z.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(z.to===z.from)throw new SyntaxError('Illegal to define conversion from "'+z.from+'" to itself.')}return o.addConversion=function(z){ce(z);var U=s(z.to);if(U.conversionsTo.every(function(X){return X.from!==z.from}))U.conversionsTo.push({from:z.from,convert:z.convert,index:a++});else throw new Error('There is already a conversion from "'+z.from+'" to "'+U.name+'"')},o.addConversions=function(z){z.forEach(o.addConversion)},o.removeConversion=function(z){ce(z);var U=s(z.to),X=xe(U.conversionsTo,function(de){return de.from===z.from});if(!X)throw new Error("Attempt to remove nonexistent conversion from "+z.from+" to "+z.to);if(X.convert!==z.convert)throw new Error("Conversion to remove does not match existing conversion");var oe=U.conversionsTo.indexOf(X);U.conversionsTo.splice(oe,1)},o.resolve=function(z,U){if(!h(z))throw new TypeError(dS);for(var X=z._typedFunctionData.signatures,oe=0;oe<X.length;++oe)if(X[oe].test(U))return X[oe];return null},o}const is=tk();function Ie(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}var oo=Math.sign||function(t){return t>0?1:t<0?-1:0},c8=Math.log2||function(e){return Math.log(e)/Math.LN2},f8=Math.log10||function(e){return Math.log(e)/Math.LN10},h8=Math.log1p||function(t){return Math.log(t+1)},d8=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},p8=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Jg(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ie(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Ie(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),a="i".concat(r)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(i).concat(t.toString(e)).concat(a)}function us(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var r="auto",n,i;if(e&&(e.notation&&(r=e.notation),nt(e)?n=e:nt(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return rk(t,n);case"exponential":return nk(t,n);case"engineering":return m8(t,n);case"bin":return Jg(t,2,i);case"oct":return Jg(t,8,i);case"hex":return Jg(t,16,i);case"auto":return g8(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function cm(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function m8(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=cm(t),n=fm(r,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(nt(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),l=0;l<s;l++)a.push(0);for(var u=Math.abs(i-o),c=1;u>0;)c++,u--;var f=a.slice(c).join(""),h=nt(e)&&f.length||f.match(/[1-9]/)?"."+f:"",d=a.slice(0,c).join("")+h+"e"+(i>=0?"+":"")+o.toString();return n.sign+d}function rk(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=cm(t),n=typeof e=="number"?fm(r,r.exponent+1+e):r,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(bl(o-i.length))),a<0&&(i=bl(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function nk(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=cm(t),n=e?fm(r,e):r,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(bl(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function g8(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r&&r.lowerExp!==void 0?r.lowerExp:-3,i=r&&r.upperExp!==void 0?r.upperExp:5,a=cm(t),o=e?fm(a,e):a;if(o.exponent<n||o.exponent>=i)return nk(t,e);var s=o.coefficients,l=o.exponent;s.length<e&&(s=s.concat(bl(e-s.length))),s=s.concat(bl(l-s.length+1+(s.length<e?e-s.length:0))),s=bl(-l).concat(s);var u=l>0?l:0;return u<s.length-1&&s.splice(u+1,0,"."),o.sign+s.join("")}function fm(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function bl(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function v8(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var y8=Number.EPSILON||2220446049250313e-31;function Un(t,e,r){if(r==null)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var n=Math.abs(t-e);return n<y8?!0:n<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}var x8=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},b8=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},w8=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},S8=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},C8=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},D8=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function A8(t,e){var r=t>0?!0:t<0?!1:1/t===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return r^n?-t:t}function Zg(t,e,r){var n=t.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ie(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function E8(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",n,i;if(e!==void 0&&(e.notation&&(r=e.notation),typeof e=="number"?n=e:e.precision!==void 0&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return M8(t,n);case"exponential":return pS(t,n);case"engineering":return N8(t,n);case"bin":return Zg(t,2,i);case"oct":return Zg(t,8,i);case"hex":return Zg(t,16,i);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,o=e&&e.upperExp!==void 0?e.upperExp:5;if(t.isZero())return"0";var s,l=t.toSignificantDigits(n),u=l.e;return u>=a&&u<o?s=l.toFixed():s=pS(t,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function N8(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=t.constructor;a=new o(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function pS(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function M8(t,e){return t.toFixed(e)}function T8(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function Ze(t,e){var r=k8(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function k8(t,e){if(typeof t=="number")return us(t,e);if(Qe(t))return E8(t,e);if(O8(t))return!e||e.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return ik(t,e);if(Kr(t))return'"'+t+'"';if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>'"'+n+'": '+Ze(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function th(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);i==="\\"?(r+=i,n++,i=e.charAt(n),(i===""||'"\\/bfnrtu'.indexOf(i)===-1)&&(r+="\\"),r+=i):i==='"'?r+='\\"':r+=i,n++}return'"'+r+'"'}function Zn(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function ik(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=ik(t[i],e);return r+="]",r}else return Ze(t,e)}function O8(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function U0(t,e){if(!Kr(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Et(t)+", index: 0)");if(!Kr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Et(e)+", index: 1)");return t===e?0:t>e?1:-1}function Xe(t,e,r){if(!(this instanceof Xe))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Xe.prototype=new RangeError;Xe.prototype.constructor=RangeError;Xe.prototype.name="DimensionError";Xe.prototype.isDimensionError=!0;function ci(t,e,r){if(!(this instanceof ci))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}ci.prototype=new RangeError;ci.prototype.constructor=RangeError;ci.prototype.name="IndexError";ci.prototype.isIndexError=!0;function tt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function ak(t,e,r){var n,i=t.length;if(i!==e[r])throw new Xe(i,e[r]);if(r<e.length-1){var a=r+1;for(n=0;n<i;n++){var o=t[n];if(!Array.isArray(o))throw new Xe(e.length-1,e.length,"<");ak(t[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new Xe(e.length+1,e.length,">")}function mS(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new Xe(t.length,0)}else ak(t,e,0)}function Ct(t,e){if(!nt(t)||!Ie(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new ci(t,e)}function _l(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!nt(i)||!Ie(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ze(e)+")")});var n=r!==void 0?r:0;return q0(t,e,0,n),t}function q0(t,e,r,n){var i,a,o=t.length,s=e[r],l=Math.min(o,s);if(t.length=s,r<e.length-1){var u=r+1;for(i=0;i<l;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),q0(a,e,u,n);for(i=l;i<s;i++)a=[],t[i]=a,q0(a,e,u,n)}else{for(i=0;i<l;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=l;i<s;i++)t[i]=n}}function ok(t,e){var r=ft(t),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Xe(0,n,"!=");e=ux(e,n);var i=sk(e);if(n!==i)throw new Xe(i,n,"!=");try{return B8(r,e)}catch(a){throw a instanceof Xe?new Xe(i,n,"!="):a}}function ux(t,e){var r=sk(t),n=t.slice(),i=-1,a=t.indexOf(i),o=t.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=a>=0,l=e%r===0;if(s)if(l)n[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function sk(t){return t.reduce((e,r)=>e*r,1)}function B8(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=r.length/a,s=0;s<o;s++)n.push(r.slice(s*a,(s+1)*a));r=n}return r}function Yd(t,e){for(var r=e||tt(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(t=lk(t,n,0),r.length=n),t}function lk(t,e,r){var n,i;if(r<e){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=lk(t[n],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function uk(t,e,r,n){var i=n||tt(t);if(r)for(var a=0;a<r;a++)t=[t],i.unshift(1);for(t=ck(t,e,0);i.length<e;)i.push(1);return t}function ck(t,e,r){var n,i;if(Array.isArray(t)){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=ck(t[n],e,a)}else for(var o=r;o<e;o++)t=[t];return t}function ft(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function r(n){Array.isArray(n)?n.forEach(r):e.push(n)}),e}function Aa(t,e){return Array.prototype.map.call(t,e)}function hm(t,e){Array.prototype.forEach.call(t,e)}function fk(t,e){if(tt(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function Jd(t,e){if(tt(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function gS(t,e){return Array.prototype.join.call(t,e)}function zl(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function Zd(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function Rc(t,e){for(var r,n=0,i=0;i<t.length;i++){var a=t[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var s=o?Rc(a,e):e(a);if(r===void 0)r=s;else if(r!==s)return"mixed"}return r}function vS(t,e){return t.indexOf(e)!==-1}function _(t,e,r,n){function i(a){var o=o8(a,e.map(hk));return F8(t,e,a),r(o)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function uc(t){return typeof t=="function"&&typeof t.fn=="string"&&Array.isArray(t.dependencies)}function F8(t,e,r){var n=e.filter(a=>!$8(a)).every(a=>r[a]!==void 0);if(!n){var i=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function $8(t){return t&&t[0]==="?"}function hk(t){return t&&t[0]==="?"?t.slice(1):t}function si(t,e){if(dk(t)&&cx(t,e))return t[e];throw typeof t[e]=="function"&&fx(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Ul(t,e,r){if(dk(t)&&cx(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function R8(t,e){return e in t}function cx(t,e){return!t||typeof t!="object"?!1:Oe(I8,e)?!0:!(e in Object.prototype||e in Function.prototype)}function P8(t,e){if(!fx(t,e))throw new Error('No access to method "'+e+'"')}function fx(t,e){return t==null||typeof t[e]!="function"||Oe(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:Oe(L8,e)?!0:!(e in Object.prototype||e in Function.prototype)}function dk(t){return typeof t=="object"&&t&&t.constructor===Object}var I8={length:!0,name:!0},L8={toString:!0,valueOf:!0,toLocaleString:!0};class hx{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return si(this.wrappedObject,e)}set(e,r){return Ul(this.wrappedObject,e,r),this}has(e){return R8(this.wrappedObject,e)}}function ql(){return new Map}function wl(t){if(!t)return ql();if(dx(t))return t;if(um(t))return new hx(t);throw new Error("createMap can create maps from objects or Maps")}function _8(t){if(t instanceof hx)return t.wrappedObject;var e={};for(var r of t.keys()){var n=t.get(r);Ul(e,r,n)}return e}function dx(t){return t?t instanceof Map||t instanceof hx||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function yS(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];for(var i of r)if(i){if(dx(i))for(var a of i.keys())t.set(a,i.get(a));else if(um(i))for(var o of Object.keys(i))t.set(o,i[o])}return t}var pk=function(){return pk=is.create,is},z8=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],mk=_("typed",z8,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=e,o=pk();return o.clear(),o.addTypes([{name:"number",test:nt},{name:"Complex",test:Di},{name:"BigNumber",test:Qe},{name:"Fraction",test:Ms},{name:"Unit",test:yi},{name:"identifier",test:s=>Kr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Kr},{name:"Chain",test:lx},{name:"Array",test:yt},{name:"Matrix",test:We},{name:"DenseMatrix",test:Fc},{name:"SparseMatrix",test:ao},{name:"Range",test:lm},{name:"Index",test:uf},{name:"boolean",test:zT},{name:"ResultSet",test:UT},{name:"Help",test:sx},{name:"function",test:qT},{name:"Date",test:HT},{name:"RegExp",test:VT},{name:"null",test:WT},{name:"undefined",test:jT},{name:"AccessorNode",test:Do},{name:"ArrayNode",test:kn},{name:"AssignmentNode",test:GT},{name:"BlockNode",test:KT},{name:"ConditionalNode",test:YT},{name:"ConstantNode",test:at},{name:"FunctionNode",test:Ba},{name:"FunctionAssignmentNode",test:uu},{name:"IndexNode",test:Ts},{name:"Node",test:xt},{name:"ObjectNode",test:cf},{name:"OperatorNode",test:er},{name:"ParenthesisNode",test:na},{name:"RangeNode",test:JT},{name:"RelationalNode",test:ZT},{name:"SymbolNode",test:mr},{name:"Map",test:dx},{name:"Object",test:um}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Xg(l),v8(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||rh(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||rh(l),new n(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||rh(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||Qg(l);var u=new a(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){r||Xg(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){a||Qg(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||rh(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Xg(l),new r(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||Qg(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||U8(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(s,l,u)=>{var c=o.createError(s,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Mi(l[0])&&u.some(h=>!h.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=c.data,f}throw c},o.onMismatch=(s,l,u)=>{var c=o.createError(s,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Mi(l[0])&&u.some(h=>!h.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=c.data,f}throw c},o});function Xg(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function rh(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function U8(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Qg(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var q8="ResultSet",H8=[],V8=_(q8,H8,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var ul=9e15,Po=1e9,H0="0123456789abcdef",Xd="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Qd="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",V0={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ul,maxE:ul,crypto:!1},gk,Sa,Ke=!0,dm="[DecimalError] ",Ao=dm+"Invalid argument: ",vk=dm+"Precision limit exceeded",yk=dm+"crypto unavailable",xk="[object Decimal]",Jr=Math.floor,fr=Math.pow,W8=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,j8=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,G8=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,bk=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ai=1e7,je=7,K8=9007199254740991,Y8=Xd.length-1,W0=Qd.length-1,De={toStringTag:xk};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),qe(t)};De.ceil=function(){return qe(new this.constructor(this),this.e+1,2)};De.clampedTo=De.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Ao+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};De.comparedTo=De.cmp=function(t){var e,r,n,i,a=this,o=a.d,s=(t=new a.constructor(t)).d,l=a.s,u=t.s;if(!o||!s)return!l||!u?NaN:l!==u?l:o===s?0:!o^l<0?1:-1;if(!o[0]||!s[0])return o[0]?l:s[0]?-u:0;if(l!==u)return l;if(a.e!==t.e)return a.e>t.e^l<0?1:-1;for(n=o.length,i=s.length,e=0,r=n<i?n:i;e<r;++e)if(o[e]!==s[e])return o[e]>s[e]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};De.cosine=De.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+je,n.rounding=1,r=J8(n,Ak(n,r)),n.precision=t,n.rounding=e,qe(Sa==2||Sa==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};De.cubeRoot=De.cbrt=function(){var t,e,r,n,i,a,o,s,l,u,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(Ke=!1,a=c.s*fr(c.s*c,1/3),!a||Math.abs(a)==1/0?(r=Br(c.d),t=c.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=fr(r,1/3),t=Jr((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new f(r),n.s=c.s):n=new f(a.toString()),o=(t=f.precision)+3;;)if(s=n,l=s.times(s).times(s),u=l.plus(c),n=Bt(u.plus(c).times(s),u.plus(l),o+2,1),Br(s.d).slice(0,o)===(r=Br(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(qe(s,t+1,0),s.times(s).times(s).eq(c))){n=s;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(qe(n,t+1,1),e=!n.times(n).times(n).eq(c));break}return Ke=!0,qe(n,t,f.rounding,e)};De.decimalPlaces=De.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-Jr(this.e/je))*je,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};De.dividedBy=De.div=function(t){return Bt(this,new this.constructor(t))};De.dividedToIntegerBy=De.divToInt=function(t){var e=this,r=e.constructor;return qe(Bt(e,new r(t),0,1,1),r.precision,r.rounding)};De.equals=De.eq=function(t){return this.cmp(t)===0};De.floor=function(){return qe(new this.constructor(this),this.e+1,3)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){var e=this.cmp(t);return e==1||e===0};De.hyperbolicCosine=De.cosh=function(){var t,e,r,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(t=Math.ceil(i/3),e=(1/mm(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=Hl(o,1,a.times(e),new o(1),!0);for(var l,u=t,c=new o(8);u--;)l=a.times(a),a=s.minus(l.times(c.minus(l.times(c))));return qe(a,o.precision=r,o.rounding=n,!0)};De.hyperbolicSine=De.sinh=function(){var t,e,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Hl(a,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/mm(5,t)),i=Hl(a,2,i,i,!0);for(var o,s=new a(5),l=new a(16),u=new a(20);t--;)o=i.times(i),i=i.times(s.plus(o.times(l.times(o).plus(u))))}return a.precision=e,a.rounding=r,qe(i,e,r,!0)};De.hyperbolicTangent=De.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Bt(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};De.inverseCosine=De.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,a=r.rounding;return n!==-1?n===0?e.isNeg()?bi(r,i,a):new r(0):new r(NaN):e.isZero()?bi(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=bi(r,i+4,a).times(.5),r.precision=i,r.rounding=a,t.minus(e))};De.inverseHyperbolicCosine=De.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Ke=!1,r=r.times(r).minus(1).sqrt().plus(r),Ke=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};De.inverseHyperbolicSine=De.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Ke=!1,r=r.times(r).plus(1).sqrt().plus(r),Ke=!0,n.precision=t,n.rounding=e,r.ln())};De.inverseHyperbolicTangent=De.atanh=function(){var t,e,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,e=a.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?qe(new a(i),t,e,!0):(a.precision=r=n-i.e,i=Bt(i.plus(1),new a(1).minus(i),r+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=e,i.times(.5))):new a(NaN)};De.inverseSine=De.asin=function(){var t,e,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),r=a.precision,n=a.rounding,e!==-1?e===0?(t=bi(a,r+4,n).times(.5),t.s=i.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};De.inverseTangent=De.atan=function(){var t,e,r,n,i,a,o,s,l,u=this,c=u.constructor,f=c.precision,h=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&f+4<=W0)return o=bi(c,f+4,h).times(.25),o.s=u.s,o}else{if(!u.s)return new c(NaN);if(f+4<=W0)return o=bi(c,f+4,h).times(.5),o.s=u.s,o}for(c.precision=s=f+10,c.rounding=1,r=Math.min(28,s/je+2|0),t=r;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(Ke=!1,e=Math.ceil(s/je),n=1,l=u.times(u),o=new c(u),i=u;t!==-1;)if(i=i.times(l),a=o.minus(i.div(n+=2)),i=i.times(l),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===a.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),Ke=!0,qe(o,c.precision=f,c.rounding=h,!0)};De.isFinite=function(){return!!this.d};De.isInteger=De.isInt=function(){return!!this.d&&Jr(this.e/je)>this.d.length-2};De.isNaN=function(){return!this.s};De.isNegative=De.isNeg=function(){return this.s<0};De.isPositive=De.isPos=function(){return this.s>0};De.isZero=function(){return!!this.d&&this.d[0]===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,r,n,i,a,o,s,l,u=this,c=u.constructor,f=c.precision,h=c.rounding,d=5;if(t==null)t=new c(10),e=!0;else{if(t=new c(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new c(r&&!r[0]?-1/0:u.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(Ke=!1,s=f+d,o=so(u,s),n=e?ep(c,s+10):so(t,s),l=Bt(o,n,s,1),Pc(l.d,i=f,h))do if(s+=10,o=so(u,s),n=e?ep(c,s+10):so(t,s),l=Bt(o,n,s,1),!a){+Br(l.d).slice(i+1,i+15)+1==1e14&&(l=qe(l,f+1,0));break}while(Pc(l.d,i+=10,h));return Ke=!0,qe(l,f,h)};De.minus=De.sub=function(t){var e,r,n,i,a,o,s,l,u,c,f,h,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return!d.s||!t.s?t=new p(NaN):d.d?t.s=-t.s:t=new p(t.d||d.s!==t.s?d:NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(u=d.d,h=t.d,s=p.precision,l=p.rounding,!u[0]||!h[0]){if(h[0])t.s=-t.s;else if(u[0])t=new p(d);else return new p(l===3?-0:0);return Ke?qe(t,s,l):t}if(r=Jr(t.e/je),c=Jr(d.e/je),u=u.slice(),a=c-r,a){for(f=a<0,f?(e=u,a=-a,o=h.length):(e=h,r=c,o=u.length),n=Math.max(Math.ceil(s/je),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=u.length,o=h.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(u[n]!=h[n]){f=u[n]<h[n];break}a=0}for(f&&(e=u,u=h,h=e,t.s=-t.s),o=u.length,n=h.length-o;n>0;--n)u[o++]=0;for(n=h.length;n>a;){if(u[--n]<h[n]){for(i=n;i&&u[--i]===0;)u[i]=Ai-1;--u[i],u[n]+=Ai}u[n]-=h[n]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=pm(u,r),Ke?qe(t,s,l):t):new p(l===3?-0:0)};De.modulo=De.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?qe(new n(r),n.precision,n.rounding):(Ke=!1,n.modulo==9?(e=Bt(r,t.abs(),0,3,1),e.s*=t.s):e=Bt(r,t,0,n.modulo,1),e=e.times(t),Ke=!0,r.minus(e))};De.naturalExponential=De.exp=function(){return j0(this)};De.naturalLogarithm=De.ln=function(){return so(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s,qe(t)};De.plus=De.add=function(t){var e,r,n,i,a,o,s,l,u,c,f=this,h=f.constructor;if(t=new h(t),!f.d||!t.d)return!f.s||!t.s?t=new h(NaN):f.d||(t=new h(t.d||f.s===t.s?f:NaN)),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(u=f.d,c=t.d,s=h.precision,l=h.rounding,!u[0]||!c[0])return c[0]||(t=new h(f)),Ke?qe(t,s,l):t;if(a=Jr(f.e/je),n=Jr(t.e/je),u=u.slice(),i=a-n,i){for(i<0?(r=u,i=-i,o=c.length):(r=c,n=a,o=u.length),a=Math.ceil(s/je),o=a>o?a+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=u.length,i=c.length,o-i<0&&(i=o,r=c,c=u,u=r),e=0;i;)e=(u[--i]=u[i]+c[i]+e)/Ai|0,u[i]%=Ai;for(e&&(u.unshift(e),++n),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=pm(u,n),Ke?qe(t,s,l):t};De.precision=De.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ao+t);return r.d?(e=wk(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};De.round=function(){var t=this,e=t.constructor;return qe(new e(t),t.e+1,e.rounding)};De.sine=De.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+je,n.rounding=1,r=X8(n,Ak(n,r)),n.precision=t,n.rounding=e,qe(Sa>2?r.neg():r,t,e,!0)):new n(NaN)};De.squareRoot=De.sqrt=function(){var t,e,r,n,i,a,o=this,s=o.d,l=o.e,u=o.s,c=o.constructor;if(u!==1||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);for(Ke=!1,u=Math.sqrt(+o),u==0||u==1/0?(e=Br(s),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=Jr((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new c(e)):n=new c(u.toString()),r=(l=c.precision)+3;;)if(a=n,n=a.plus(Bt(o,a,r+2,1)).times(.5),Br(a.d).slice(0,r)===(e=Br(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(qe(a,l+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(qe(n,l+1,1),t=!n.times(n).eq(o));break}return Ke=!0,qe(n,l,c.rounding,t)};De.tangent=De.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=Bt(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,qe(Sa==2||Sa==4?r.neg():r,t,e,!0)):new n(NaN)};De.times=De.mul=function(t){var e,r,n,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,d=(t=new f(t)).d;if(t.s*=c.s,!h||!h[0]||!d||!d[0])return new f(!t.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:!h||!d?t.s/0:t.s*0);for(r=Jr(c.e/je)+Jr(t.e/je),l=h.length,u=d.length,l<u&&(a=h,h=d,d=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+d[n]*h[i-n-1]+e,a[i--]=s%Ai|0,e=s/Ai|0;a[i]=(a[i]+e)%Ai|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=pm(a,r),Ke?qe(t,f.precision,f.rounding):t};De.toBinary=function(t,e){return px(this,2,t,e)};De.toDecimalPlaces=De.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Sn(t,0,Po),e===void 0?e=n.rounding:Sn(e,0,8),qe(r,t+r.e+1,e))};De.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ia(n,!0):(Sn(t,0,Po),e===void 0?e=i.rounding:Sn(e,0,8),n=qe(new i(n),t+1,e),r=ia(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};De.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?r=ia(i):(Sn(t,0,Po),e===void 0?e=a.rounding:Sn(e,0,8),n=qe(new a(i),t+i.e+1,e),r=ia(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};De.toFraction=function(t){var e,r,n,i,a,o,s,l,u,c,f,h,d=this,p=d.d,m=d.constructor;if(!p)return new m(d);if(u=r=new m(1),n=l=new m(0),e=new m(n),a=e.e=wk(p)-d.e-1,o=a%je,e.d[0]=fr(10,o<0?je+o:o),t==null)t=a>0?e:u;else{if(s=new m(t),!s.isInt()||s.lt(u))throw Error(Ao+s);t=s.gt(e)?a>0?e:u:s}for(Ke=!1,s=new m(Br(p)),c=m.precision,m.precision=a=p.length*je*2;f=Bt(s,e,0,1,1),i=r.plus(f.times(n)),i.cmp(t)!=1;)r=n,n=i,i=u,u=l.plus(f.times(i)),l=i,i=e,e=s.minus(f.times(i)),s=i;return i=Bt(t.minus(r),n,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=d.s,h=Bt(u,n,a,1).minus(d).abs().cmp(Bt(l,r,a,1).minus(d).abs())<1?[u,n]:[l,r],m.precision=c,Ke=!0,h};De.toHexadecimal=De.toHex=function(t,e){return px(this,16,t,e)};De.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:Sn(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Ke=!1,r=Bt(r,t,0,e,1).times(t),Ke=!0,qe(r)):(t.s=r.s,r=t),r};De.toNumber=function(){return+this};De.toOctal=function(t,e){return px(this,8,t,e)};De.toPower=De.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=+(t=new l(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new l(fr(+s,u));if(s=new l(s),s.eq(1))return s;if(n=l.precision,a=l.rounding,t.eq(1))return qe(s,n,a);if(e=Jr(t.e/je),e>=t.d.length-1&&(r=u<0?-u:u)<=K8)return i=Sk(l,s,r,n),t.s<0?new l(1).div(i):qe(i,n,a);if(o=s.s,o<0){if(e<t.d.length-1)return new l(NaN);if(t.d[e]&1||(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return r=fr(+s,u),e=r==0||!isFinite(r)?Jr(u*(Math.log("0."+Br(s.d))/Math.LN10+s.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(Ke=!1,l.rounding=s.s=1,r=Math.min(12,(e+"").length),i=j0(t.times(so(s,n+r)),n),i.d&&(i=qe(i,n+5,1),Pc(i.d,n,a)&&(e=n+10,i=qe(j0(t.times(so(s,e+r)),e),e+5,1),+Br(i.d).slice(n+1,n+15)+1==1e14&&(i=qe(i,n+1,0)))),i.s=o,Ke=!0,l.rounding=a,qe(i,n,a))};De.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ia(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Sn(t,1,Po),e===void 0?e=i.rounding:Sn(e,0,8),n=qe(new i(n),t,e),r=ia(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};De.toSignificantDigits=De.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Sn(t,1,Po),e===void 0?e=n.rounding:Sn(e,0,8)),qe(new n(r),t,e)};De.toString=function(){var t=this,e=t.constructor,r=ia(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};De.truncated=De.trunc=function(){return qe(new this.constructor(this),this.e+1,1)};De.valueOf=De.toJSON=function(){var t=this,e=t.constructor,r=ia(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function Br(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=je-n.length,r&&(a+=Ya(r)),a+=n;o=t[e],n=o+"",r=je-n.length,r&&(a+=Ya(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Sn(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ao+t)}function Pc(t,e,r,n){var i,a,o,s;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=je,i=0):(i=Math.ceil((e+1)/je),e%=je),a=fr(10,je-e),s=t[i]%a|0,n==null?e<3?(e==0?s=s/100|0:e==1&&(s=s/10|0),o=r<4&&s==99999||r>3&&s==49999||s==5e4||s==0):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(t[i+1]/a/100|0)==fr(10,e-2)-1||(s==a/2||s==0)&&(t[i+1]/a/100|0)==0:e<4?(e==0?s=s/1e3|0:e==1?s=s/100|0:e==2&&(s=s/10|0),o=(n||r<4)&&s==9999||!n&&r>3&&s==4999):o=((n||r<4)&&s+1==a||!n&&r>3&&s+1==a/2)&&(t[i+1]/a/1e3|0)==fr(10,e-3)-1,o}function rd(t,e,r){for(var n,i=[0],a,o=0,s=t.length;o<s;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=H0.indexOf(t.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function J8(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/mm(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=Hl(t,1,e.times(i),new t(1));for(var a=r;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var Bt=function(){function t(n,i,a){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+s,n[l]=o%a|0,s=o/a|0;return s&&n.unshift(s),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a,o){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,s,l){var u,c,f,h,d,p,m,v,g,b,y,w,S,x,C,A,E,D,M,k,$=n.constructor,I=n.s==i.s?1:-1,F=n.d,N=i.d;if(!F||!F[0]||!N||!N[0])return new $(!n.s||!i.s||(F?N&&F[0]==N[0]:!N)?NaN:F&&F[0]==0||!N?I*0:I/0);for(l?(d=1,c=n.e-i.e):(l=Ai,d=je,c=Jr(n.e/d)-Jr(i.e/d)),M=N.length,E=F.length,g=new $(I),b=g.d=[],f=0;N[f]==(F[f]||0);f++);if(N[f]>(F[f]||0)&&c--,a==null?(x=a=$.precision,o=$.rounding):s?x=a+(n.e-i.e)+1:x=a,x<0)b.push(1),p=!0;else{if(x=x/d+2|0,f=0,M==1){for(h=0,N=N[0],x++;(f<E||h)&&x--;f++)C=h*l+(F[f]||0),b[f]=C/N|0,h=C%N|0;p=h||f<E}else{for(h=l/(N[0]+1)|0,h>1&&(N=t(N,h,l),F=t(F,h,l),M=N.length,E=F.length),A=M,y=F.slice(0,M),w=y.length;w<M;)y[w++]=0;k=N.slice(),k.unshift(0),D=N[0],N[1]>=l/2&&++D;do h=0,u=e(N,y,M,w),u<0?(S=y[0],M!=w&&(S=S*l+(y[1]||0)),h=S/D|0,h>1?(h>=l&&(h=l-1),m=t(N,h,l),v=m.length,w=y.length,u=e(m,y,v,w),u==1&&(h--,r(m,M<v?k:N,v,l))):(h==0&&(u=h=1),m=N.slice()),v=m.length,v<w&&m.unshift(0),r(y,m,w,l),u==-1&&(w=y.length,u=e(N,y,M,w),u<1&&(h++,r(y,M<w?k:N,w,l))),w=y.length):u===0&&(h++,y=[0]),b[f++]=h,u&&y[0]?y[w++]=F[A]||0:(y=[F[A]],w=1);while((A++<E||y[0]!==void 0)&&x--);p=y[0]!==void 0}b[0]||b.shift()}if(d==1)g.e=c,gk=p;else{for(f=1,h=b[0];h>=10;h/=10)f++;g.e=f+c*d-1,qe(g,s?a+g.e+1:a,o,p)}return g}}();function qe(t,e,r,n){var i,a,o,s,l,u,c,f,h,d=t.constructor;e:if(e!=null){if(f=t.d,!f)return t;for(i=1,s=f[0];s>=10;s/=10)i++;if(a=e-i,a<0)a+=je,o=e,c=f[h=0],l=c/fr(10,i-o-1)%10|0;else if(h=Math.ceil((a+1)/je),s=f.length,h>=s)if(n){for(;s++<=h;)f.push(0);c=l=0,i=1,a%=je,o=a-je+1}else break e;else{for(c=s=f[h],i=1;s>=10;s/=10)i++;a%=je,o=a-je+i,l=o<0?0:c/fr(10,i-o-1)%10|0}if(n=n||e<0||f[h+1]!==void 0||(o<0?c:c%fr(10,i-o-1)),u=r<4?(l||n)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(a>0?o>0?c/fr(10,i-o):0:f[h-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=t.e+1,f[0]=fr(10,(je-e%je)%je),t.e=-e||0):f[0]=t.e=0,t;if(a==0?(f.length=h,s=1,h--):(f.length=h+1,s=fr(10,je-a),f[h]=o>0?(c/fr(10,i-o)%fr(10,o)|0)*s:0),u)for(;;)if(h==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(t.e++,f[0]==Ai&&(f[0]=1));break}else{if(f[h]+=s,f[h]!=Ai)break;f[h--]=0,s=1}for(a=f.length;f[--a]===0;)f.pop()}return Ke&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function ia(t,e,r){if(!t.isFinite())return Dk(t);var n,i=t.e,a=Br(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ya(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+Ya(-i-1)+a,r&&(n=r-o)>0&&(a+=Ya(n))):i>=o?(a+=Ya(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ya(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ya(n))),a}function pm(t,e){var r=t[0];for(e*=je;r>=10;r/=10)e++;return e}function ep(t,e,r){if(e>Y8)throw Ke=!0,r&&(t.precision=r),Error(vk);return qe(new t(Xd),e,1,!0)}function bi(t,e,r){if(e>W0)throw Error(vk);return qe(new t(Qd),e,r,!0)}function wk(t){var e=t.length-1,r=e*je+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function Ya(t){for(var e="";t--;)e+="0";return e}function Sk(t,e,r,n){var i,a=new t(1),o=Math.ceil(n/je+4);for(Ke=!1;;){if(r%2&&(a=a.times(e),bS(a.d,o)&&(i=!0)),r=Jr(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}e=e.times(e),bS(e.d,o)}return Ke=!0,a}function xS(t){return t.d[t.d.length-1]&1}function Ck(t,e,r){for(var n,i=new t(e[0]),a=0;++a<e.length;)if(n=new t(e[a]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function j0(t,e){var r,n,i,a,o,s,l,u=0,c=0,f=0,h=t.constructor,d=h.rounding,p=h.precision;if(!t.d||!t.d[0]||t.e>17)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(Ke=!1,l=p):l=e,s=new h(.03125);t.e>-2;)t=t.times(s),f+=5;for(n=Math.log(fr(2,f))/Math.LN10*2+5|0,l+=n,r=a=o=new h(1),h.precision=l;;){if(a=qe(a.times(t),l,1),r=r.times(++c),s=o.plus(Bt(a,r,l,1)),Br(s.d).slice(0,l)===Br(o.d).slice(0,l)){for(i=f;i--;)o=qe(o.times(o),l,1);if(e==null)if(u<3&&Pc(o.d,l-n,d,u))h.precision=l+=10,r=a=s=new h(1),c=0,u++;else return qe(o,h.precision=p,d,Ke=!0);else return h.precision=p,o}o=s}}function so(t,e){var r,n,i,a,o,s,l,u,c,f,h,d=1,p=10,m=t,v=m.d,g=m.constructor,b=g.rounding,y=g.precision;if(m.s<0||!v||!v[0]||!m.e&&v[0]==1&&v.length==1)return new g(v&&!v[0]?-1/0:m.s!=1?NaN:v?0:m);if(e==null?(Ke=!1,c=y):c=e,g.precision=c+=p,r=Br(v),n=r.charAt(0),Math.abs(a=m.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=Br(m.d),n=r.charAt(0),d++;a=m.e,n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1))}else return u=ep(g,c+2,y).times(a+""),m=so(new g(n+"."+r.slice(1)),c-p).plus(u),g.precision=y,e==null?qe(m,y,b,Ke=!0):m;for(f=m,l=o=m=Bt(m.minus(1),m.plus(1),c,1),h=qe(m.times(m),c,1),i=3;;){if(o=qe(o.times(h),c,1),u=l.plus(Bt(o,new g(i),c,1)),Br(u.d).slice(0,c)===Br(l.d).slice(0,c))if(l=l.times(2),a!==0&&(l=l.plus(ep(g,c+2,y).times(a+""))),l=Bt(l,new g(d),c,1),e==null)if(Pc(l.d,c-p,b,s))g.precision=c+=p,u=o=m=Bt(f.minus(1),f.plus(1),c,1),h=qe(m.times(m),c,1),i=s=1;else return qe(l,g.precision=y,b,Ke=!0);else return g.precision=y,l;l=u,i+=2}}function Dk(t){return String(t.s*t.s/0)}function G0(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%je,r<0&&(n+=je),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=je;n<i;)t.d.push(+e.slice(n,n+=je));e=e.slice(n),n=je-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),Ke&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Z8(t,e){var r,n,i,a,o,s,l,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),bk.test(e))return G0(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(j8.test(e))r=16,e=e.toLowerCase();else if(W8.test(e))r=2;else if(G8.test(e))r=8;else throw Error(Ao+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=t.constructor,o&&(e=e.replace(".",""),s=e.length,a=s-a,i=Sk(n,new n(r),a,a*2)),u=rd(e,r,Ai),c=u.length-1,a=c;u[a]===0;--a)u.pop();return a<0?new n(t.s*0):(t.e=pm(u,c),t.d=u,Ke=!1,o&&(t=Bt(t,i,s*4)),l&&(t=t.times(Math.abs(l)<54?fr(2,l):Eo.pow(2,l))),Ke=!0,t)}function X8(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:Hl(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/mm(5,r)),e=Hl(t,2,e,e);for(var i,a=new t(5),o=new t(16),s=new t(20);r--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(s))));return e}function Hl(t,e,r,n,i){var a,o,s,l,u=t.precision,c=Math.ceil(u/je);for(Ke=!1,l=r.times(r),s=new t(n);;){if(o=Bt(s.times(l),new t(e++*e++),u,1),s=i?n.plus(o):n.minus(o),n=Bt(o.times(l),new t(e++*e++),u,1),o=s.plus(n),o.d[c]!==void 0){for(a=c;o.d[a]===s.d[a]&&a--;);if(a==-1)break}a=s,s=n,n=o,o=a}return Ke=!0,o.d.length=c+1,o}function mm(t,e){for(var r=t;--e;)r*=t;return r}function Ak(t,e){var r,n=e.s<0,i=bi(t,t.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return Sa=n?4:1,e;if(r=e.divToInt(i),r.isZero())Sa=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(a))return Sa=xS(r)?n?2:3:n?4:1,e;Sa=xS(r)?n?1:4:n?3:2}return e.minus(i).abs()}function px(t,e,r,n){var i,a,o,s,l,u,c,f,h,d=t.constructor,p=r!==void 0;if(p?(Sn(r,1,Po),n===void 0?n=d.rounding:Sn(n,0,8)):(r=d.precision,n=d.rounding),!t.isFinite())c=Dk(t);else{for(c=ia(t),o=c.indexOf("."),p?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,o>=0&&(c=c.replace(".",""),h=new d(1),h.e=c.length-o,h.d=rd(ia(h),10,i),h.e=h.d.length),f=rd(c,10,i),a=l=f.length;f[--l]==0;)f.pop();if(!f[0])c=p?"0p+0":"0";else{if(o<0?a--:(t=new d(t),t.d=f,t.e=a,t=Bt(t,h,r,n,0,i),f=t.d,a=t.e,u=gk),o=f[r],s=i/2,u=u||f[r+1]!==void 0,u=n<4?(o!==void 0||u)&&(n===0||n===(t.s<0?3:2)):o>s||o===s&&(n===4||u||n===6&&f[r-1]&1||n===(t.s<0?8:7)),f.length=r,u)for(;++f[--r]>i-1;)f[r]=0,r||(++a,f.unshift(1));for(l=f.length;!f[l-1];--l);for(o=0,c="";o<l;o++)c+=H0.charAt(f[o]);if(p){if(l>1)if(e==16||e==8){for(o=e==16?4:3,--l;l%o;l++)c+="0";for(f=rd(c,i,e),l=f.length;!f[l-1];--l);for(o=1,c="1.";o<l;o++)c+=H0.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>l)for(a-=l;a--;)c+="0";else a<l&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return t.s<0?"-"+c:c}function bS(t,e){if(t.length>e)return t.length=e,!0}function Q8(t){return new this(t).abs()}function eL(t){return new this(t).acos()}function tL(t){return new this(t).acosh()}function rL(t,e){return new this(t).plus(e)}function nL(t){return new this(t).asin()}function iL(t){return new this(t).asinh()}function aL(t){return new this(t).atan()}function oL(t){return new this(t).atanh()}function sL(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,a=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=bi(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?bi(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=bi(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan(Bt(t,e,a,1)),e=bi(this,a,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Bt(t,e,a,1)),r}function lL(t){return new this(t).cbrt()}function uL(t){return qe(t=new this(t),t.e+1,2)}function cL(t,e,r){return new this(t).clamp(e,r)}function fL(t){if(!t||typeof t!="object")throw Error(dm+"Object expected");var e,r,n,i=t.defaults===!0,a=["precision",1,Po,"rounding",0,8,"toExpNeg",-ul,0,"toExpPos",0,ul,"maxE",0,ul,"minE",-ul,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],i&&(this[r]=V0[r]),(n=t[r])!==void 0)if(Jr(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Ao+r+": "+n);if(r="crypto",i&&(this[r]=V0[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(yk);else this[r]=!1;else throw Error(Ao+r+": "+n);return this}function hL(t){return new this(t).cos()}function dL(t){return new this(t).cosh()}function Ek(t){var e,r,n;function i(a){var o,s,l,u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,wS(a)){u.s=a.s,Ke?!a.d||a.e>i.maxE?(u.e=NaN,u.d=null):a.e<i.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(o=0,s=a;s>=10;s/=10)o++;Ke?o>i.maxE?(u.e=NaN,u.d=null):o<i.minE?(u.e=0,u.d=[0]):(u.e=o,u.d=[a]):(u.e=o,u.d=[a]);return}else if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return G0(u,a.toString())}else if(l!=="string")throw Error(Ao+a);return(s=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(s===43&&(a=a.slice(1)),u.s=1),bk.test(a)?G0(u,a):Z8(u,a)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=fL,i.clone=Ek,i.isDecimal=wS,i.abs=Q8,i.acos=eL,i.acosh=tL,i.add=rL,i.asin=nL,i.asinh=iL,i.atan=aL,i.atanh=oL,i.atan2=sL,i.cbrt=lL,i.ceil=uL,i.clamp=cL,i.cos=hL,i.cosh=dL,i.div=pL,i.exp=mL,i.floor=gL,i.hypot=vL,i.ln=yL,i.log=xL,i.log10=wL,i.log2=bL,i.max=SL,i.min=CL,i.mod=DL,i.mul=AL,i.pow=EL,i.random=NL,i.round=ML,i.sign=TL,i.sin=kL,i.sinh=OL,i.sqrt=BL,i.sub=FL,i.sum=$L,i.tan=RL,i.tanh=PL,i.trunc=IL,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function pL(t,e){return new this(t).div(e)}function mL(t){return new this(t).exp()}function gL(t){return qe(t=new this(t),t.e+1,3)}function vL(){var t,e,r=new this(0);for(Ke=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return Ke=!0,new this(1/0);r=e}return Ke=!0,r.sqrt()}function wS(t){return t instanceof Eo||t&&t.toStringTag===xk||!1}function yL(t){return new this(t).ln()}function xL(t,e){return new this(t).log(e)}function bL(t){return new this(t).log(2)}function wL(t){return new this(t).log(10)}function SL(){return Ck(this,arguments,"lt")}function CL(){return Ck(this,arguments,"gt")}function DL(t,e){return new this(t).mod(e)}function AL(t,e){return new this(t).mul(e)}function EL(t,e){return new this(t).pow(e)}function NL(t){var e,r,n,i,a=0,o=new this(1),s=[];if(t===void 0?t=this.precision:Sn(t,1,Po),n=Math.ceil(t/je),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(s.push(i%1e7),a+=4);a=n/4}else throw Error(yk);else for(;a<n;)s[a++]=Math.random()*1e7|0;for(n=s[--a],t%=je,n&&t&&(i=fr(10,je-t),s[a]=(n/i|0)*i);s[a]===0;a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;s[0]===0;r-=je)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<je&&(r-=je-n)}return o.e=r,o.d=s,o}function ML(t){return qe(t=new this(t),t.e+1,this.rounding)}function TL(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function kL(t){return new this(t).sin()}function OL(t){return new this(t).sinh()}function BL(t){return new this(t).sqrt()}function FL(t,e){return new this(t).sub(e)}function $L(){var t=0,e=arguments,r=new this(e[t]);for(Ke=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return Ke=!0,qe(r,this.precision,this.rounding)}function RL(t){return new this(t).tan()}function PL(t){return new this(t).tanh()}function IL(t){return qe(t=new this(t),t.e+1,1)}De[Symbol.for("nodejs.util.inspect.custom")]=De.toString;De[Symbol.toStringTag]="Decimal";var Eo=De.constructor=Ek(V0);Xd=new Eo(Xd);Qd=new Eo(Qd);var LL="BigNumber",_L=["?on","config"],Nk=_(LL,_L,t=>{var{on:e,config:r}=t,n=Eo.clone({precision:r.precision,modulo:Eo.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0}),Mk={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(t,e){(function(r){var n=Math.cosh||function(f){return Math.abs(f)<1e-9?1-f:(Math.exp(f)+Math.exp(-f))*.5},i=Math.sinh||function(f){return Math.abs(f)<1e-9?f:(Math.exp(f)-Math.exp(-f))*.5},a=function(f){var h=Math.PI/4;if(-h>f||f>h)return Math.cos(f)-1;var d=f*f;return d*(d*(d*(d*(d*(d*(d*(d/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},o=function(f,h){var d=Math.abs(f),p=Math.abs(h);return d<3e3&&p<3e3?Math.sqrt(d*d+p*p):(d<p?(d=p,p=f/h):p=h/f,d*Math.sqrt(1+p*p))},s=function(){throw SyntaxError("Invalid Param")};function l(f,h){var d=Math.abs(f),p=Math.abs(h);return f===0?Math.log(p):h===0?Math.log(d):d<3e3&&p<3e3?Math.log(f*f+h*h)*.5:(f=f/2,h=h/2,.5*Math.log(f*f+h*h)+Math.LN2)}var u=function(f,h){var d={re:0,im:0};if(f==null)d.re=d.im=0;else if(h!==void 0)d.re=f,d.im=h;else switch(typeof f){case"object":if("im"in f&&"re"in f)d.re=f.re,d.im=f.im;else if("abs"in f&&"arg"in f){if(!Number.isFinite(f.abs)&&Number.isFinite(f.arg))return c.INFINITY;d.re=f.abs*Math.cos(f.arg),d.im=f.abs*Math.sin(f.arg)}else if("r"in f&&"phi"in f){if(!Number.isFinite(f.r)&&Number.isFinite(f.phi))return c.INFINITY;d.re=f.r*Math.cos(f.phi),d.im=f.r*Math.sin(f.phi)}else f.length===2?(d.re=f[0],d.im=f[1]):s();break;case"string":d.im=d.re=0;var p=f.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,v=0;p===null&&s();for(var g=0;g<p.length;g++){var b=p[g];b===" "||b==="	"||b===`
`||(b==="+"?m++:b==="-"?v++:b==="i"||b==="I"?(m+v===0&&s(),p[g+1]!==" "&&!isNaN(p[g+1])?(d.im+=parseFloat((v%2?"-":"")+p[g+1]),g++):d.im+=parseFloat((v%2?"-":"")+"1"),m=v=0):((m+v===0||isNaN(b))&&s(),p[g+1]==="i"||p[g+1]==="I"?(d.im+=parseFloat((v%2?"-":"")+b),g++):d.re+=parseFloat((v%2?"-":"")+b),m=v=0))}m+v>0&&s();break;case"number":d.im=0,d.re=f;break;default:s()}return isNaN(d.re)||isNaN(d.im),d};function c(f,h){if(!(this instanceof c))return new c(f,h);var d=u(f,h);this.re=d.re,this.im=d.im}c.prototype={re:0,im:0,sign:function(){var f=this.abs();return new c(this.re/f,this.im/f)},add:function(f,h){var d=new c(f,h);return this.isInfinite()&&d.isInfinite()?c.NAN:this.isInfinite()||d.isInfinite()?c.INFINITY:new c(this.re+d.re,this.im+d.im)},sub:function(f,h){var d=new c(f,h);return this.isInfinite()&&d.isInfinite()?c.NAN:this.isInfinite()||d.isInfinite()?c.INFINITY:new c(this.re-d.re,this.im-d.im)},mul:function(f,h){var d=new c(f,h);return this.isInfinite()&&d.isZero()||this.isZero()&&d.isInfinite()?c.NAN:this.isInfinite()||d.isInfinite()?c.INFINITY:d.im===0&&this.im===0?new c(this.re*d.re,0):new c(this.re*d.re-this.im*d.im,this.re*d.im+this.im*d.re)},div:function(f,h){var d=new c(f,h);if(this.isZero()&&d.isZero()||this.isInfinite()&&d.isInfinite())return c.NAN;if(this.isInfinite()||d.isZero())return c.INFINITY;if(this.isZero()||d.isInfinite())return c.ZERO;f=this.re,h=this.im;var p=d.re,m=d.im,v,g;return m===0?new c(f/p,h/p):Math.abs(p)<Math.abs(m)?(g=p/m,v=p*g+m,new c((f*g+h)/v,(h*g-f)/v)):(g=m/p,v=m*g+p,new c((f+h*g)/v,(h-f*g)/v))},pow:function(f,h){var d=new c(f,h);if(f=this.re,h=this.im,d.isZero())return c.ONE;if(d.im===0){if(h===0&&f>0)return new c(Math.pow(f,d.re),0);if(f===0)switch((d.re%4+4)%4){case 0:return new c(Math.pow(h,d.re),0);case 1:return new c(0,Math.pow(h,d.re));case 2:return new c(-Math.pow(h,d.re),0);case 3:return new c(0,-Math.pow(h,d.re))}}if(f===0&&h===0&&d.re>0&&d.im>=0)return c.ZERO;var p=Math.atan2(h,f),m=l(f,h);return f=Math.exp(d.re*m-d.im*p),h=d.im*m+d.re*p,new c(f*Math.cos(h),f*Math.sin(h))},sqrt:function(){var f=this.re,h=this.im,d=this.abs(),p,m;if(f>=0){if(h===0)return new c(Math.sqrt(f),0);p=.5*Math.sqrt(2*(d+f))}else p=Math.abs(h)/Math.sqrt(2*(d-f));return f<=0?m=.5*Math.sqrt(2*(d-f)):m=Math.abs(h)/Math.sqrt(2*(d+f)),new c(p,h<0?-m:m)},exp:function(){var f=Math.exp(this.re);return this.im,new c(f*Math.cos(this.im),f*Math.sin(this.im))},expm1:function(){var f=this.re,h=this.im;return new c(Math.expm1(f)*Math.cos(h)+a(h),Math.exp(f)*Math.sin(h))},log:function(){var f=this.re,h=this.im;return new c(l(f,h),Math.atan2(h,f))},abs:function(){return o(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var f=this.re,h=this.im;return new c(Math.sin(f)*n(h),Math.cos(f)*i(h))},cos:function(){var f=this.re,h=this.im;return new c(Math.cos(f)*n(h),-Math.sin(f)*i(h))},tan:function(){var f=2*this.re,h=2*this.im,d=Math.cos(f)+n(h);return new c(Math.sin(f)/d,i(h)/d)},cot:function(){var f=2*this.re,h=2*this.im,d=Math.cos(f)-n(h);return new c(-Math.sin(f)/d,i(h)/d)},sec:function(){var f=this.re,h=this.im,d=.5*n(2*h)+.5*Math.cos(2*f);return new c(Math.cos(f)*n(h)/d,Math.sin(f)*i(h)/d)},csc:function(){var f=this.re,h=this.im,d=.5*n(2*h)-.5*Math.cos(2*f);return new c(Math.sin(f)*n(h)/d,-Math.cos(f)*i(h)/d)},asin:function(){var f=this.re,h=this.im,d=new c(h*h-f*f+1,-2*f*h).sqrt(),p=new c(d.re-h,d.im+f).log();return new c(p.im,-p.re)},acos:function(){var f=this.re,h=this.im,d=new c(h*h-f*f+1,-2*f*h).sqrt(),p=new c(d.re-h,d.im+f).log();return new c(Math.PI/2-p.im,p.re)},atan:function(){var f=this.re,h=this.im;if(f===0){if(h===1)return new c(0,1/0);if(h===-1)return new c(0,-1/0)}var d=f*f+(1-h)*(1-h),p=new c((1-h*h-f*f)/d,-2*f/d).log();return new c(-.5*p.im,.5*p.re)},acot:function(){var f=this.re,h=this.im;if(h===0)return new c(Math.atan2(1,f),0);var d=f*f+h*h;return d!==0?new c(f/d,-h/d).atan():new c(f!==0?f/0:0,h!==0?-h/0:0).atan()},asec:function(){var f=this.re,h=this.im;if(f===0&&h===0)return new c(0,1/0);var d=f*f+h*h;return d!==0?new c(f/d,-h/d).acos():new c(f!==0?f/0:0,h!==0?-h/0:0).acos()},acsc:function(){var f=this.re,h=this.im;if(f===0&&h===0)return new c(Math.PI/2,1/0);var d=f*f+h*h;return d!==0?new c(f/d,-h/d).asin():new c(f!==0?f/0:0,h!==0?-h/0:0).asin()},sinh:function(){var f=this.re,h=this.im;return new c(i(f)*Math.cos(h),n(f)*Math.sin(h))},cosh:function(){var f=this.re,h=this.im;return new c(n(f)*Math.cos(h),i(f)*Math.sin(h))},tanh:function(){var f=2*this.re,h=2*this.im,d=n(f)+Math.cos(h);return new c(i(f)/d,Math.sin(h)/d)},coth:function(){var f=2*this.re,h=2*this.im,d=n(f)-Math.cos(h);return new c(i(f)/d,-Math.sin(h)/d)},csch:function(){var f=this.re,h=this.im,d=Math.cos(2*h)-n(2*f);return new c(-2*i(f)*Math.cos(h)/d,2*n(f)*Math.sin(h)/d)},sech:function(){var f=this.re,h=this.im,d=Math.cos(2*h)+n(2*f);return new c(2*n(f)*Math.cos(h)/d,-2*i(f)*Math.sin(h)/d)},asinh:function(){var f=this.im;this.im=-this.re,this.re=f;var h=this.asin();return this.re=-this.im,this.im=f,f=h.re,h.re=-h.im,h.im=f,h},acosh:function(){var f=this.acos();if(f.im<=0){var h=f.re;f.re=-f.im,f.im=h}else{var h=f.im;f.im=-f.re,f.re=h}return f},atanh:function(){var f=this.re,h=this.im,d=f>1&&h===0,p=1-f,m=1+f,v=p*p+h*h,g=v!==0?new c((m*p-h*h)/v,(h*p+m*h)/v):new c(f!==-1?f/0:0,h!==0?h/0:0),b=g.re;return g.re=l(g.re,g.im)/2,g.im=Math.atan2(g.im,b)/2,d&&(g.im=-g.im),g},acoth:function(){var f=this.re,h=this.im;if(f===0&&h===0)return new c(0,Math.PI/2);var d=f*f+h*h;return d!==0?new c(f/d,-h/d).atanh():new c(f!==0?f/0:0,h!==0?-h/0:0).atanh()},acsch:function(){var f=this.re,h=this.im;if(h===0)return new c(f!==0?Math.log(f+Math.sqrt(f*f+1)):1/0,0);var d=f*f+h*h;return d!==0?new c(f/d,-h/d).asinh():new c(f!==0?f/0:0,h!==0?-h/0:0).asinh()},asech:function(){var f=this.re,h=this.im;if(this.isZero())return c.INFINITY;var d=f*f+h*h;return d!==0?new c(f/d,-h/d).acosh():new c(f!==0?f/0:0,h!==0?-h/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var f=this.re,h=this.im,d=f*f+h*h;return new c(f/d,-h/d)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(f){return f=Math.pow(10,f||0),new c(Math.ceil(this.re*f)/f,Math.ceil(this.im*f)/f)},floor:function(f){return f=Math.pow(10,f||0),new c(Math.floor(this.re*f)/f,Math.floor(this.im*f)/f)},round:function(f){return f=Math.pow(10,f||0),new c(Math.round(this.re*f)/f,Math.round(this.im*f)/f)},equals:function(f,h){var d=new c(f,h);return Math.abs(d.re-this.re)<=c.EPSILON&&Math.abs(d.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var f=this.re,h=this.im,d="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(f)<c.EPSILON&&(f=0),Math.abs(h)<c.EPSILON&&(h=0),h===0?d+f:(f!==0?(d+=f,d+=" ",h<0?(h=-h,d+="-"):d+="+",d+=" "):h<0&&(h=-h,d+="-"),h!==1&&(d+=h),d+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(1/0,1/0),c.NAN=new c(NaN,NaN),c.EPSILON=1e-15,Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Complex=c,t.exports=c})()})(Mk);var zL=Mk.exports;const Ar=As(zL);var UL="Complex",qL=[],Tk=_(UL,qL,()=>(Object.defineProperty(Ar,"name",{value:"Complex"}),Ar.prototype.constructor=Ar,Ar.prototype.type="Complex",Ar.prototype.isComplex=!0,Ar.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ar.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ar.prototype.format=function(t){var e="",r=this.im,n=this.re,i=us(this.re,t),a=us(this.im,t),o=nt(t)?t:t?t.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+a+"i",e},Ar.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Ar(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(nt(r)){if(yi(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),nt(n))return new Ar({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ar.prototype.valueOf=Ar.prototype.toString,Ar.fromJSON=function(t){return new Ar(t)},Ar.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Ar),{isClass:!0}),kk={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(t,e){(function(r){var n=2e3,i={s:1,n:0,d:1};function a(p,m){if(isNaN(p=parseInt(p,10)))throw d.InvalidParameter;return p*m}function o(p,m){if(m===0)throw d.DivisionByZero;var v=Object.create(d.prototype);v.s=p<0?-1:1,p=p<0?-p:p;var g=h(p,m);return v.n=p/g,v.d=m/g,v}function s(p){for(var m={},v=p,g=2,b=4;b<=v;){for(;v%g===0;)v/=g,m[g]=(m[g]||0)+1;b+=1+2*g++}return v!==p?v>1&&(m[v]=(m[v]||0)+1):m[p]=(m[p]||0)+1,m}var l=function(p,m){var v=0,g=1,b=1,y=0,w=0,S=0,x=1,C=1,A=0,E=1,D=1,M=1,k=1e7,$;if(p!=null)if(m!==void 0){if(v=p,g=m,b=v*g,v%1!==0||g%1!==0)throw d.NonIntegerParameter}else switch(typeof p){case"object":{if("d"in p&&"n"in p)v=p.n,g=p.d,"s"in p&&(v*=p.s);else if(0 in p)v=p[0],1 in p&&(g=p[1]);else throw d.InvalidParameter;b=v*g;break}case"number":{if(p<0&&(b=p,p=-p),p%1===0)v=p;else if(p>0){for(p>=1&&(C=Math.pow(10,Math.floor(1+Math.log(p)/Math.LN10)),p/=C);E<=k&&M<=k;)if($=(A+D)/(E+M),p===$){E+M<=k?(v=A+D,g=E+M):M>E?(v=D,g=M):(v=A,g=E);break}else p>$?(A+=D,E+=M):(D+=A,M+=E),E>k?(v=D,g=M):(v=A,g=E);v*=C}else(isNaN(p)||isNaN(m))&&(g=v=NaN);break}case"string":{if(E=p.match(/\d+|./g),E===null)throw d.InvalidParameter;if(E[A]==="-"?(b=-1,A++):E[A]==="+"&&A++,E.length===A+1?w=a(E[A++],b):E[A+1]==="."||E[A]==="."?(E[A]!=="."&&(y=a(E[A++],b)),A++,(A+1===E.length||E[A+1]==="("&&E[A+3]===")"||E[A+1]==="'"&&E[A+3]==="'")&&(w=a(E[A],b),x=Math.pow(10,E[A].length),A++),(E[A]==="("&&E[A+2]===")"||E[A]==="'"&&E[A+2]==="'")&&(S=a(E[A+1],b),C=Math.pow(10,E[A+1].length)-1,A+=3)):E[A+1]==="/"||E[A+1]===":"?(w=a(E[A],b),x=a(E[A+2],1),A+=3):E[A+3]==="/"&&E[A+1]===" "&&(y=a(E[A],b),w=a(E[A+2],b),x=a(E[A+4],1),A+=5),E.length<=A){g=x*C,b=v=S+g*y+C*w;break}}default:throw d.InvalidParameter}if(g===0)throw d.DivisionByZero;i.s=b<0?-1:1,i.n=Math.abs(v),i.d=Math.abs(g)};function u(p,m,v){for(var g=1;m>0;p=p*p%v,m>>=1)m&1&&(g=g*p%v);return g}function c(p,m){for(;m%2===0;m/=2);for(;m%5===0;m/=5);if(m===1)return 0;for(var v=10%m,g=1;v!==1;g++)if(v=v*10%m,g>n)return 0;return g}function f(p,m,v){for(var g=1,b=u(10,v,m),y=0;y<300;y++){if(g===b)return y;g=g*10%m,b=b*10%m}return 0}function h(p,m){if(!p)return m;if(!m)return p;for(;;){if(p%=m,!p)return m;if(m%=p,!m)return p}}function d(p,m){if(l(p,m),this instanceof d)p=h(i.d,i.n),this.s=i.s,this.n=i.n/p,this.d=i.d/p;else return o(i.s*i.n,i.d)}d.DivisionByZero=new Error("Division by Zero"),d.InvalidParameter=new Error("Invalid argument"),d.NonIntegerParameter=new Error("Parameters must be integer"),d.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(p,m){return l(p,m),o(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(p,m){return l(p,m),o(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(p,m){return l(p,m),o(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(p,m){return l(p,m),o(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(p,m){if(isNaN(this.n)||isNaN(this.d))return new d(NaN);if(p===void 0)return o(this.s*this.n%this.d,1);if(l(p,m),i.n===0&&this.d===0)throw d.DivisionByZero;return o(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(p,m){return l(p,m),o(h(i.n,this.n)*h(i.d,this.d),i.d*this.d)},lcm:function(p,m){return l(p,m),i.n===0&&this.n===0?o(0,1):o(i.n*this.n,h(i.n,this.n)*h(i.d,this.d))},ceil:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):o(Math.ceil(p*this.s*this.n/this.d),p)},floor:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):o(Math.floor(p*this.s*this.n/this.d),p)},round:function(p){return p=Math.pow(10,p||0),isNaN(this.n)||isNaN(this.d)?new d(NaN):o(Math.round(p*this.s*this.n/this.d),p)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(p,m){if(l(p,m),i.d===1)return i.s<0?o(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):o(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var v=s(this.n),g=s(this.d),b=1,y=1;for(var w in v)if(w!=="1"){if(w==="0"){b=0;break}if(v[w]*=i.n,v[w]%i.d===0)v[w]/=i.d;else return null;b*=Math.pow(w,v[w])}for(var w in g)if(w!=="1"){if(g[w]*=i.n,g[w]%i.d===0)g[w]/=i.d;else return null;y*=Math.pow(w,g[w])}return i.s<0?o(y,b):o(b,y)},equals:function(p,m){return l(p,m),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(p,m){l(p,m);var v=this.s*this.n*i.d-i.s*i.n*this.d;return(0<v)-(v<0)},simplify:function(p){if(isNaN(this.n)||isNaN(this.d))return this;p=p||.001;for(var m=this.abs(),v=m.toContinued(),g=1;g<v.length;g++){for(var b=o(v[g-1],1),y=g-2;y>=0;y--)b=b.inverse().add(v[y]);if(b.sub(m).abs().valueOf()<p)return b.mul(this.s)}return this},divisible:function(p,m){return l(p,m),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(p){var m,v="",g=this.n,b=this.d;return this.s<0&&(v+="-"),b===1?v+=g:(p&&(m=Math.floor(g/b))>0&&(v+=m,v+=" ",g%=b),v+=g,v+="/",v+=b),v},toLatex:function(p){var m,v="",g=this.n,b=this.d;return this.s<0&&(v+="-"),b===1?v+=g:(p&&(m=Math.floor(g/b))>0&&(v+=m,g%=b),v+="\\frac{",v+=g,v+="}{",v+=b,v+="}"),v},toContinued:function(){var p,m=this.n,v=this.d,g=[];if(isNaN(m)||isNaN(v))return g;do g.push(Math.floor(m/v)),p=m%v,m=v,v=p;while(m!==1);return g},toString:function(p){var m=this.n,v=this.d;if(isNaN(m)||isNaN(v))return"NaN";p=p||15;var g=c(m,v),b=f(m,v,g),y=this.s<0?"-":"";if(y+=m/v|0,m%=v,m*=10,m&&(y+="."),g){for(var w=b;w--;)y+=m/v|0,m%=v,m*=10;y+="(";for(var w=g;w--;)y+=m/v|0,m%=v,m*=10;y+=")"}else for(var w=p;m&&w--;)y+=m/v|0,m%=v,m*=10;return y}},Object.defineProperty(d,"__esModule",{value:!0}),d.default=d,d.Fraction=d,t.exports=d})()})(kk);var HL=kk.exports;const ma=As(HL);var VL="Fraction",WL=[],Ok=_(VL,WL,()=>(Object.defineProperty(ma,"name",{value:"Fraction"}),ma.prototype.constructor=ma,ma.prototype.type="Fraction",ma.prototype.isFraction=!0,ma.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ma.fromJSON=function(t){return new ma(t)},ma),{isClass:!0}),jL="Range",GL=[],KL=_(jL,GL,()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=r!=null,o=n!=null;if(i){if(Qe(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(Qe(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter end must be a number")}if(o){if(Qe(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(r):0,this.step=o?parseFloat(n):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),n=r.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,n=this.step,i=this.end,a=i-r;return oo(n)===oo(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;r<i;)e(r,[a],this),r+=n,a++;else if(n<0)for(;r>i;)e(r,[a],this),r+=n,a++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,i,a){r[i[0]]=e(n,i,a)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=us(this.start,e);return this.step!==1&&(r+=":"+us(this.step,e)),r+=":"+us(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0}),YL="Matrix",JL=[],Bk=_(YL,JL,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function ZL(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),a=0,o=function(l){var u=i[l];if(u&&(delete n[u],delete i[l],--e,r===u)){if(!e){a=0,r=1;return}for(;!hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(l){var u=i[l],c=++a;if(n[c]=l,i[l]=c,!u)return++e,e<=t?void 0:(l=n[r],o(l),l);if(delete n[u],r===u)for(;!hasOwnProperty.call(n,++r););},delete:o,clear:function(){e=a=0,r=1,n=Object.create(null),i=Object.create(null)}}}function ff(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:ZL(r||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var s=t.apply(t,i);return n.cache.values.set(o,s),n.cache.values.delete(n.cache.lru.hit(o)),s}}function Fk(t){return Object.keys(t.signatures||{}).reduce(function(e,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var XL="DenseMatrix",QL=["Matrix"],$k=_(XL,QL,t=>{var{Matrix:e}=t;function r(c,f){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Kr(f))throw new Error("Invalid datatype: "+f);if(We(c))c.type==="DenseMatrix"?(this._data=He(c._data),this._size=He(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&yt(c.data)&&yt(c.size))this._data=c.data,this._size=c.size,mS(this._data,this._size),this._datatype=f||c.datatype;else if(yt(c))this._data=u(c),this._size=tt(this._data),mS(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+Et(c)+")");this._data=[],this._size=[0],this._datatype=f}}r.prototype=new e,r.prototype.createDenseMatrix=function(c,f){return new r(c,f)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Rc(this._data,Et)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(c,f){return new r(c,f)},r.prototype.subset=function(c,f,h){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return a(this,c,f,h);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(c){if(!yt(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new Xe(c.length,this._size.length);for(var f=0;f<c.length;f++)Ct(c[f],this._size[f]);for(var h=this._data,d=0,p=c.length;d<p;d++){var m=c[d];Ct(m,h.length),h=h[m]}return h},r.prototype.set=function(c,f,h){if(!yt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Xe(c.length,this._size.length,"<");var d,p,m,v=c.map(function(b){return b+1});l(this,v,h);var g=this._data;for(d=0,p=c.length-1;d<p;d++)m=c[d],Ct(m,g.length),g=g[m];return m=c[c.length-1],Ct(m,g.length),g[m]=f,this};function n(c,f){if(!uf(f))throw new TypeError("Invalid index");var h=f.isScalar();if(h)return c.get(f.min());var d=f.size();if(d.length!==c._size.length)throw new Xe(d.length,c._size.length);for(var p=f.min(),m=f.max(),v=0,g=c._size.length;v<g;v++)Ct(p[v],c._size[v]),Ct(m[v],c._size[v]);return new r(i(c._data,f,d.length,0),c._datatype)}function i(c,f,h,d){var p=d===h-1,m=f.dimension(d);return p?m.map(function(v){return Ct(v,c.length),c[v]}).valueOf():m.map(function(v){Ct(v,c.length);var g=c[v];return i(g,f,h,d+1)}).valueOf()}function a(c,f,h,d){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var p=f.size(),m=f.isScalar(),v;if(We(h)?(v=h.size(),h=h.valueOf()):v=tt(h),m){if(v.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),h,d)}else{if(p.length<c._size.length)throw new Xe(p.length,c._size.length,"<");if(v.length<p.length){for(var g=0,b=0;p[g]===1&&v[g]===1;)g++;for(;p[g]===1;)b++,g++;h=uk(h,p.length,b,v)}if(!$c(p,v))throw new Xe(p,v,">");var y=f.max().map(function(x){return x+1});l(c,y,d);var w=p.length,S=0;o(c._data,f,h,w,S)}return c}function o(c,f,h,d,p){var m=p===d-1,v=f.dimension(p);m?v.forEach(function(g,b){Ct(g),c[g]=h[b[0]]}):v.forEach(function(g,b){Ct(g),o(c[g],f,h[b[0]],d,p+1)})}r.prototype.resize=function(c,f,h){if(!Mi(c))throw new TypeError("Array or Matrix expected");var d=c.valueOf().map(m=>Array.isArray(m)&&m.length===1?m[0]:m),p=h?this.clone():this;return s(p,d,f)};function s(c,f,h){if(f.length===0){for(var d=c._data;yt(d);)d=d[0];return d}return c._size=f.slice(0),c._data=_l(c._data,c._size,h),c}r.prototype.reshape=function(c,f){var h=f?this.clone():this;h._data=ok(h._data,c);var d=h._size.reduce((p,m)=>p*m);return h._size=ux(c,d),h};function l(c,f,h){for(var d=c._size.slice(0),p=!1;d.length<f.length;)d.push(0),p=!0;for(var m=0,v=f.length;m<v;m++)f[m]>d[m]&&(d[m]=f[m],p=!0);p&&s(c,d,h)}r.prototype.clone=function(){var c=new r({data:He(this._data),size:He(this._size),datatype:this._datatype});return c},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(c){var f=this,h=Fk(c),d=function v(g,b){return yt(g)?g.map(function(y,w){return v(y,b.concat(w))}):h===1?c(g):h===2?c(g,b):c(g,b,f)},p=d(this._data,[]),m=this._datatype!==void 0?Rc(p,Et):void 0;return new r(p,m)},r.prototype.forEach=function(c){var f=this,h=function d(p,m){yt(p)?p.forEach(function(v,g){d(v,m.concat(g))}):c(p,m,f)};h(this._data,[])},r.prototype[Symbol.iterator]=function*(){var c=function*f(h,d){if(yt(h))for(var p=0;p<h.length;p++)yield*f(h[p],d.concat(p));else yield{value:h,index:d}};yield*c(this._data,[])},r.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var d of h)c.push(new r([d],this._datatype));return c},r.prototype.columns=function(){var c=this,f=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,p=function(g){var b=d.map(y=>[y[g]]);f.push(new r(b,c._datatype))},m=0;m<h[1];m++)p(m);return f},r.prototype.toArray=function(){return He(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(c){return Ze(this._data,c)},r.prototype.toString=function(){return Ze(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(c){if(c){if(Qe(c)&&(c=c.toNumber()),!nt(c)||!Ie(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,h=c<0?-c:0,d=this._size[0],p=this._size[1],m=Math.min(d-h,p-f),v=[],g=0;g<m;g++)v[g]=this._data[g+h][g+f];return new r({data:v,size:[m],datatype:this._datatype})},r.diagonal=function(c,f,h,d){if(!yt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(C){if(Qe(C)&&(C=C.toNumber()),!nt(C)||!Ie(C)||C<1)throw new Error("Size values must be positive integers");return C}),h){if(Qe(h)&&(h=h.toNumber()),!nt(h)||!Ie(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var p=h>0?h:0,m=h<0?-h:0,v=c[0],g=c[1],b=Math.min(v-m,g-p),y;if(yt(f)){if(f.length!==b)throw new Error("Invalid value array length");y=function(A){return f[A]}}else if(We(f)){var w=f.size();if(w.length!==1||w[0]!==b)throw new Error("Invalid matrix length");y=function(A){return f.get([A])}}else y=function(){return f};d||(d=Qe(y(0))?y(0).mul(0):0);var S=[];if(c.length>0){S=_l(S,c,d);for(var x=0;x<b;x++)S[x+m][x+p]=y(x)}return new r({data:S,size:[v,g]})},r.fromJSON=function(c){return new r(c)},r.prototype.swapRows=function(c,f){if(!nt(c)||!Ie(c)||!nt(f)||!Ie(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ct(c,this._size[0]),Ct(f,this._size[0]),r._swapRows(c,f,this._data),this},r._swapRows=function(c,f,h){var d=h[c];h[c]=h[f],h[f]=d};function u(c){for(var f=0,h=c.length;f<h;f++){var d=c[f];yt(d)?c[f]=u(d):d&&d.isMatrix===!0&&(c[f]=u(d.valueOf()))}return c}return r},{isClass:!0}),SS="clone",e6=["typed"],t6=_(SS,e6,t=>{var{typed:e}=t;return e(SS,{any:He})});function Rk(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}function cu(t){for(var e=0;e<t.length;e++)if(Mi(t[e]))return!0;return!1}function Fa(t,e){We(t)&&(t=t.valueOf());for(var r=0,n=t.length;r<n;r++){var i=t[r];Array.isArray(i)?Fa(i,e):e(i)}}function et(t,e,r){return t&&typeof t.map=="function"?t.map(function(n){return et(n,e)}):e(t)}function gm(t,e,r){var n=Array.isArray(t)?tt(t):t.size();if(e<0||e>=n.length)throw new ci(e,n.length);return We(t)?t.create(tp(t.valueOf(),e,r)):tp(t,e,r)}function tp(t,e,r){var n,i,a,o;if(e<=0)if(Array.isArray(t[0])){for(o=Rk(t),i=[],n=0;n<o.length;n++)i[n]=tp(o[n],e-1,r);return i}else{for(a=t[0],n=1;n<t.length;n++)a=r(a,t[n]);return a}else{for(i=[],n=0;n<t.length;n++)i[n]=tp(t[n],e-1,r);return i}}function CS(t,e,r,n,i,a,o,s,l,u,c){var f=t._values,h=t._index,d=t._ptr,p,m,v,g;if(n)for(m=d[e],v=d[e+1],p=m;p<v;p++)g=h[p],r[g]!==a?(r[g]=a,o.push(g),u?(n[g]=l?s(f[p],c):s(c,f[p]),i[g]=a):n[g]=f[p]):(n[g]=l?s(f[p],n[g]):s(n[g],f[p]),i[g]=a);else for(m=d[e],v=d[e+1],p=m;p<v;p++)g=h[p],r[g]!==a?(r[g]=a,o.push(g)):i[g]=a}var DS="isInteger",r6=["typed"],Pk=_(DS,r6,t=>{var{typed:e}=t;return e(DS,{number:Ie,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),ki="number",ks="number, number";function Ik(t){return Math.abs(t)}Ik.signature=ki;function Lk(t,e){return t+e}Lk.signature=ks;function _k(t,e){return t*e}_k.signature=ks;function zk(t){return-t}zk.signature=ki;function Uk(t){return t}Uk.signature=ki;function Ku(t){return d8(t)}Ku.signature=ki;function qk(t){return t*t*t}qk.signature=ki;function Hk(t){return Math.exp(t)}Hk.signature=ki;function Vk(t){return p8(t)}Vk.signature=ki;function Wk(t,e){if(!Ie(t)||!Ie(e))throw new Error("Parameters in function gcd must be integer numbers");for(var r;e!==0;)r=t%e,t=e,e=r;return t<0?-t:t}Wk.signature=ks;function jk(t,e){if(!Ie(t)||!Ie(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}jk.signature=ks;function n6(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function Gk(t){return f8(t)}Gk.signature=ki;function Kk(t){return c8(t)}Kk.signature=ki;function Yk(t,e){if(e>0)return t-e*Math.floor(t/e);if(e===0)return t;throw new Error("Cannot calculate mod for a negative divisor")}Yk.signature=ks;function AS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function K0(t){return oo(t)}K0.signature=ki;function Jk(t){return t*t}Jk.signature=ki;function Zk(t,e){var r,n,i,a=0,o=1,s=1,l=0;if(!Ie(t)||!Ie(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),i=t-n*e,r=a,a=o-n*a,o=r,r=s,s=l-n*s,l=r,t=e,e=i;var u;return t<0?u=[-t,-o,-l]:u=[t,t?o:0,l],u}Zk.signature=ks;function Xk(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}Xk.signature=ks;function ES(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Ie(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(rk(t,e))}var i6="number",fu="number, number";function Qk(t,e){if(!Ie(t)||!Ie(e))throw new Error("Integers expected in function bitAnd");return t&e}Qk.signature=fu;function eO(t){if(!Ie(t))throw new Error("Integer expected in function bitNot");return~t}eO.signature=i6;function tO(t,e){if(!Ie(t)||!Ie(e))throw new Error("Integers expected in function bitOr");return t|e}tO.signature=fu;function rO(t,e){if(!Ie(t)||!Ie(e))throw new Error("Integers expected in function bitXor");return t^e}rO.signature=fu;function nO(t,e){if(!Ie(t)||!Ie(e))throw new Error("Integers expected in function leftShift");return t<<e}nO.signature=fu;function iO(t,e){if(!Ie(t)||!Ie(e))throw new Error("Integers expected in function rightArithShift");return t>>e}iO.signature=fu;function aO(t,e){if(!Ie(t)||!Ie(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}aO.signature=fu;function Ca(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return Ca(t,r)*Ca(r+1,e)}function oO(t,e){if(!Ie(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ie(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,i=e<r?r+1:e+1,a=2,o=e<r?e:r,s=i;s<=t;++s)for(n*=s;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=Ca(a,o)),n}oO.signature="number, number";var a6=Math.PI,o6=2*Math.PI,s6=Math.E,l6=1.618033988749895,u6="number",mx="number, number";function sO(t){return!t}sO.signature=u6;function lO(t,e){return!!(t||e)}lO.signature=mx;function uO(t,e){return!!t!=!!e}uO.signature=mx;function cO(t,e){return!!(t&&e)}cO.signature=mx;function rp(t){var e;if(Ie(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:Ca(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*rp(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,i=n*t,a=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*t))}--t,e=Sl[0];for(var o=1;o<Sl.length;++o)e+=Sl[o]/(t+o);var s=t+fO+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}rp.signature="number";var fO=4.7421875,Sl=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],hO=.9189385332046728,c6=5,f6=7,NS=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function np(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-np(1-t);t=t-1;for(var e=t+c6+.5,r=NS[0],n=f6-1;n>=1;n--)r+=NS[n]/(t+n);return hO+(t+.5)*Math.log(e)-e+Math.log(r)}np.signature="number";var Zr="number";function dO(t){return x8(t)}dO.signature=Zr;function pO(t){return Math.atan(1/t)}pO.signature=Zr;function mO(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}mO.signature=Zr;function gO(t){return Math.asin(1/t)}gO.signature=Zr;function vO(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}vO.signature=Zr;function yO(t){return Math.acos(1/t)}yO.signature=Zr;function xO(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}xO.signature=Zr;function bO(t){return b8(t)}bO.signature=Zr;function wO(t){return w8(t)}wO.signature=Zr;function SO(t){return 1/Math.tan(t)}SO.signature=Zr;function CO(t){var e=Math.exp(2*t);return(e+1)/(e-1)}CO.signature=Zr;function DO(t){return 1/Math.sin(t)}DO.signature=Zr;function AO(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*oo(t)}AO.signature=Zr;function EO(t){return 1/Math.cos(t)}EO.signature=Zr;function NO(t){return 2/(Math.exp(t)+Math.exp(-t))}NO.signature=Zr;function MO(t){return C8(t)}MO.signature=Zr;var vm="number";function TO(t){return t<0}TO.signature=vm;function kO(t){return t>0}kO.signature=vm;function OO(t){return t===0}OO.signature=vm;function BO(t){return Number.isNaN(t)}BO.signature=vm;var MS="isNegative",h6=["typed"],d6=_(MS,h6,t=>{var{typed:e}=t;return e(MS,{number:TO,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),TS="isNumeric",p6=["typed"],FO=_(TS,p6,t=>{var{typed:e}=t;return e(TS,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),kS="hasNumericValue",m6=["typed","isNumeric"],g6=_(kS,m6,t=>{var{typed:e,isNumeric:r}=t;return e(kS,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return r(i)}})}),OS="isPositive",v6=["typed"],y6=_(OS,v6,t=>{var{typed:e}=t;return e(OS,{number:kO,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),BS="isZero",x6=["typed"],$O=_(BS,x6,t=>{var{typed:e}=t;return e(BS,{number:OO,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),FS="isNaN",b6=["typed"],w6=_(FS,b6,t=>{var{typed:e}=t;return e(FS,{number:BO,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return et(n,Number.isNaN)}})}),$S="typeOf",S6=["typed"],C6=_($S,S6,t=>{var{typed:e}=t;return e($S,{any:Et})});function aa(t,e,r){if(r==null)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return!1}function D6(t,e,r){return Un(t.re,e.re,r)&&Un(t.im,e.im,r)}var hu=_("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),ip="equalScalar",A6=["typed","config"],RO=_(ip,A6,t=>{var{typed:e,config:r}=t,n=hu({typed:e});return e(ip,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Un(a,o,r.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||aa(a,o,r.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return D6(a,o,r.epsilon)}},n)});_(ip,["typed","config"],t=>{var{typed:e,config:r}=t;return e(ip,{"number, number":function(i,a){return Un(i,a,r.epsilon)}})});var E6="SparseMatrix",N6=["typed","equalScalar","Matrix"],PO=_(E6,N6,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(m,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!Kr(v))throw new Error("Invalid datatype: "+v);if(We(m))a(this,m,v);else if(m&&yt(m.index)&&yt(m.ptr)&&yt(m.size))this._values=m.values,this._index=m.index,this._ptr=m.ptr,this._size=m.size,this._datatype=v||m.datatype;else if(yt(m))o(this,m,v);else{if(m)throw new TypeError("Unsupported type of data ("+Et(m)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function a(m,v,g){v.type==="SparseMatrix"?(m._values=v._values?He(v._values):void 0,m._index=He(v._index),m._ptr=He(v._ptr),m._size=He(v._size),m._datatype=g||v._datatype):o(m,v.valueOf(),g||v._datatype)}function o(m,v,g){m._values=[],m._index=[],m._ptr=[],m._datatype=g;var b=v.length,y=0,w=r,S=0;if(Kr(g)&&(w=e.find(r,[g,g])||r,S=e.convert(0,g)),b>0){var x=0;do{m._ptr.push(m._index.length);for(var C=0;C<b;C++){var A=v[C];if(yt(A)){if(x===0&&y<A.length&&(y=A.length),x<A.length){var E=A[x];w(E,S)||(m._values.push(E),m._index.push(C))}}else x===0&&y<1&&(y=1),w(A,S)||(m._values.push(A),m._index.push(C))}x++}while(x<y)}m._ptr.push(m._index.length),m._size=[b,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(m,v){return new i(m,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Rc(this._values,Et)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(m,v){return new i(m,v)},i.prototype.density=function(){var m=this._size[0],v=this._size[1];return m!==0&&v!==0?this._index.length/(m*v):0},i.prototype.subset=function(m,v,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,m);case 2:case 3:return l(this,m,v,g);default:throw new SyntaxError("Wrong number of arguments")}};function s(m,v){if(!uf(v))throw new TypeError("Invalid index");var g=v.isScalar();if(g)return m.get(v.min());var b=v.size();if(b.length!==m._size.length)throw new Xe(b.length,m._size.length);var y,w,S,x,C=v.min(),A=v.max();for(y=0,w=m._size.length;y<w;y++)Ct(C[y],m._size[y]),Ct(A[y],m._size[y]);var E=m._values,D=m._index,M=m._ptr,k=v.dimension(0),$=v.dimension(1),I=[],F=[];k.forEach(function(O,P){F[O]=P[0],I[O]=!0});var N=E?[]:void 0,T=[],R=[];return $.forEach(function(O){for(R.push(T.length),S=M[O],x=M[O+1];S<x;S++)y=D[S],I[y]===!0&&(T.push(F[y]),N&&N.push(E[S]))}),R.push(T.length),new i({values:N,index:T,ptr:R,size:b,datatype:m._datatype})}function l(m,v,g,b){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var y=v.size(),w=v.isScalar(),S;if(We(g)?(S=g.size(),g=g.toArray()):S=tt(g),w){if(S.length!==0)throw new TypeError("Scalar expected");m.set(v.min(),g,b)}else{if(y.length!==1&&y.length!==2)throw new Xe(y.length,m._size.length,"<");if(S.length<y.length){for(var x=0,C=0;y[x]===1&&S[x]===1;)x++;for(;y[x]===1;)C++,x++;g=uk(g,y.length,C,S)}if(!$c(y,S))throw new Xe(y,S,">");if(y.length===1){var A=v.dimension(0);A.forEach(function(M,k){Ct(M),m.set([M,0],g[k[0]],b)})}else{var E=v.dimension(0),D=v.dimension(1);E.forEach(function(M,k){Ct(M),D.forEach(function($,I){Ct($),m.set([M,$],g[k[0]][I[0]],b)})})}}return m}i.prototype.get=function(m){if(!yt(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new Xe(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=m[0],g=m[1];Ct(v,this._size[0]),Ct(g,this._size[1]);var b=u(v,this._ptr[g],this._ptr[g+1],this._index);return b<this._ptr[g+1]&&this._index[b]===v?this._values[b]:0},i.prototype.set=function(m,v,g){if(!yt(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new Xe(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var b=m[0],y=m[1],w=this._size[0],S=this._size[1],x=r,C=0;Kr(this._datatype)&&(x=e.find(r,[this._datatype,this._datatype])||r,C=e.convert(0,this._datatype)),(b>w-1||y>S-1)&&(h(this,Math.max(b+1,w),Math.max(y+1,S),g),w=this._size[0],S=this._size[1]),Ct(b,w),Ct(y,S);var A=u(b,this._ptr[y],this._ptr[y+1],this._index);return A<this._ptr[y+1]&&this._index[A]===b?x(v,C)?c(A,y,this._values,this._index,this._ptr):this._values[A]=v:x(v,C)||f(A,b,y,v,this._values,this._index,this._ptr),this};function u(m,v,g,b){if(g-v===0)return g;for(var y=v;y<g;y++)if(b[y]===m)return y;return v}function c(m,v,g,b,y){g.splice(m,1),b.splice(m,1);for(var w=v+1;w<y.length;w++)y[w]--}function f(m,v,g,b,y,w,S){y.splice(m,0,b),w.splice(m,0,v);for(var x=g+1;x<S.length;x++)S[x]++}i.prototype.resize=function(m,v,g){if(!Mi(m))throw new TypeError("Array or Matrix expected");var b=m.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(b.length!==2)throw new Error("Only two dimensions matrix are supported");b.forEach(function(w){if(!nt(w)||!Ie(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ze(b)+")")});var y=g?this.clone():this;return h(y,b[0],b[1],v)};function h(m,v,g,b){var y=b||0,w=r,S=0;Kr(m._datatype)&&(w=e.find(r,[m._datatype,m._datatype])||r,S=e.convert(0,m._datatype),y=e.convert(y,m._datatype));var x=!w(y,S),C=m._size[0],A=m._size[1],E,D,M;if(g>A){for(D=A;D<g;D++)if(m._ptr[D]=m._values.length,x)for(E=0;E<C;E++)m._values.push(y),m._index.push(E);m._ptr[g]=m._values.length}else g<A&&(m._ptr.splice(g+1,A-g),m._values.splice(m._ptr[g],m._values.length),m._index.splice(m._ptr[g],m._index.length));if(A=g,v>C){if(x){var k=0;for(D=0;D<A;D++){m._ptr[D]=m._ptr[D]+k,M=m._ptr[D+1]+k;var $=0;for(E=C;E<v;E++,$++)m._values.splice(M+$,0,y),m._index.splice(M+$,0,E),k++}m._ptr[A]=m._values.length}}else if(v<C){var I=0;for(D=0;D<A;D++){m._ptr[D]=m._ptr[D]-I;var F=m._ptr[D],N=m._ptr[D+1]-I;for(M=F;M<N;M++)E=m._index[M],E>v-1&&(m._values.splice(M,1),m._index.splice(M,1),I++)}m._ptr[D]=m._values.length}return m._size[0]=v,m._size[1]=g,m}i.prototype.reshape=function(m,v){if(!yt(m))throw new TypeError("Array expected");if(m.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");m.forEach(function(O){if(!nt(O)||!Ie(O)||O<=-2||O===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ze(m)+")")});var g=this._size[0]*this._size[1];m=ux(m,g);var b=m[0]*m[1];if(g!==b)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=v?this.clone():this;if(this._size[0]===m[0]&&this._size[1]===m[1])return y;for(var w=[],S=0;S<y._ptr.length;S++)for(var x=0;x<y._ptr[S+1]-y._ptr[S];x++)w.push(S);for(var C=y._values.slice(),A=y._index.slice(),E=0;E<y._index.length;E++){var D=A[E],M=w[E],k=D*y._size[1]+M;w[E]=k%m[1],A[E]=Math.floor(k/m[1])}y._values.length=0,y._index.length=0,y._ptr.length=m[1]+1,y._size=m.slice();for(var $=0;$<y._ptr.length;$++)y._ptr[$]=0;for(var I=0;I<C.length;I++){var F=A[I],N=w[I],T=C[I],R=u(F,y._ptr[N],y._ptr[N+1],y._index);f(R,F,N,T,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var m=new i({values:this._values?He(this._values):void 0,index:He(this._index),ptr:He(this._ptr),size:He(this._size),datatype:this._datatype});return m},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(m,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,b=this._size[0],y=this._size[1],w=Fk(m),S=function(C,A,E){return w===1?m(C):w===2?m(C,[A,E]):m(C,[A,E],g)};return d(this,0,b-1,0,y-1,S,v)};function d(m,v,g,b,y,w,S){var x=[],C=[],A=[],E=r,D=0;Kr(m._datatype)&&(E=e.find(r,[m._datatype,m._datatype])||r,D=e.convert(0,m._datatype));for(var M=function(L,G,ee){L=w(L,G,ee),E(L,D)||(x.push(L),C.push(G))},k=b;k<=y;k++){A.push(x.length);var $=m._ptr[k],I=m._ptr[k+1];if(S)for(var F=$;F<I;F++){var N=m._index[F];N>=v&&N<=g&&M(m._values[F],N-v,k-b)}else{for(var T={},R=$;R<I;R++){var O=m._index[R];T[O]=m._values[R]}for(var P=v;P<=g;P++){var V=P in T?T[P]:0;M(V,P-v,k-b)}}}return A.push(x.length),new i({values:x,index:C,ptr:A,size:[g-v+1,y-b+1]})}i.prototype.forEach=function(m,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,b=this._size[0],y=this._size[1],w=0;w<y;w++){var S=this._ptr[w],x=this._ptr[w+1];if(v)for(var C=S;C<x;C++){var A=this._index[C];m(this._values[C],[A,w],g)}else{for(var E={},D=S;D<x;D++){var M=this._index[D];E[M]=this._values[D]}for(var k=0;k<b;k++){var $=k in E?E[k]:0;m($,[k,w],g)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var m=this._size[1],v=0;v<m;v++)for(var g=this._ptr[v],b=this._ptr[v+1],y=g;y<b;y++){var w=this._index[y];yield{value:this._values[y],index:[w,v]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(m,v,g,b,y){var w=b[0],S=b[1],x=[],C,A;for(C=0;C<w;C++)for(x[C]=[],A=0;A<S;A++)x[C][A]=0;for(A=0;A<S;A++)for(var E=g[A],D=g[A+1],M=E;M<D;M++)C=v[M],x[C][A]=m?y?He(m[M]):m[M]:1;return x}return i.prototype.format=function(m){for(var v=this._size[0],g=this._size[1],b=this.density(),y="Sparse Matrix ["+Ze(v,m)+" x "+Ze(g,m)+"] density: "+Ze(b,m)+`
`,w=0;w<g;w++)for(var S=this._ptr[w],x=this._ptr[w+1],C=S;C<x;C++){var A=this._index[C];y+=`
    (`+Ze(A,m)+", "+Ze(w,m)+") ==> "+(this._values?Ze(this._values[C],m):"X")}return y},i.prototype.toString=function(){return Ze(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(m){if(m){if(Qe(m)&&(m=m.toNumber()),!nt(m)||!Ie(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var v=m>0?m:0,g=m<0?-m:0,b=this._size[0],y=this._size[1],w=Math.min(b-g,y-v),S=[],x=[],C=[];C[0]=0;for(var A=v;A<y&&S.length<w;A++)for(var E=this._ptr[A],D=this._ptr[A+1],M=E;M<D;M++){var k=this._index[M];if(k===A-v+g){S.push(this._values[M]),x[S.length-1]=k-g;break}}return C.push(S.length),new i({values:S,index:x,ptr:C,size:[w,1]})},i.fromJSON=function(m){return new i(m)},i.diagonal=function(m,v,g,b,y){if(!yt(m))throw new TypeError("Array expected, size parameter");if(m.length!==2)throw new Error("Only two dimensions matrix are supported");if(m=m.map(function(O){if(Qe(O)&&(O=O.toNumber()),!nt(O)||!Ie(O)||O<1)throw new Error("Size values must be positive integers");return O}),g){if(Qe(g)&&(g=g.toNumber()),!nt(g)||!Ie(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var w=r,S=0;Kr(y)&&(w=e.find(r,[y,y])||r,S=e.convert(0,y));var x=g>0?g:0,C=g<0?-g:0,A=m[0],E=m[1],D=Math.min(A-C,E-x),M;if(yt(v)){if(v.length!==D)throw new Error("Invalid value array length");M=function(P){return v[P]}}else if(We(v)){var k=v.size();if(k.length!==1||k[0]!==D)throw new Error("Invalid matrix length");M=function(P){return v.get([P])}}else M=function(){return v};for(var $=[],I=[],F=[],N=0;N<E;N++){F.push($.length);var T=N-x;if(T>=0&&T<D){var R=M(T);w(R,S)||(I.push(T+C),$.push(R))}}return F.push($.length),new i({values:$,index:I,ptr:F,size:[A,E]})},i.prototype.swapRows=function(m,v){if(!nt(m)||!Ie(m)||!nt(v)||!Ie(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ct(m,this._size[0]),Ct(v,this._size[0]),i._swapRows(m,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(m,v,g,b,y){for(var w=b[m],S=b[m+1],x=w;x<S;x++)y(g[x],v[x])},i._swapRows=function(m,v,g,b,y,w){for(var S=0;S<g;S++){var x=w[S],C=w[S+1],A=u(m,x,C,y),E=u(v,x,C,y);if(A<C&&E<C&&y[A]===m&&y[E]===v){if(b){var D=b[A];b[A]=b[E],b[E]=D}continue}if(A<C&&y[A]===m&&(E>=C||y[E]!==v)){var M=b?b[A]:void 0;y.splice(E,0,v),b&&b.splice(E,0,M),y.splice(E<=A?A+1:A,1),b&&b.splice(E<=A?A+1:A,1);continue}if(E<C&&y[E]===v&&(A>=C||y[A]!==m)){var k=b?b[E]:void 0;y.splice(A,0,m),b&&b.splice(A,0,k),y.splice(A<=E?E+1:E,1),b&&b.splice(A<=E?E+1:E,1)}}},i},{isClass:!0}),M6="number",T6=["typed"];function k6(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function O6(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var a=e+r;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is no valid number');return a}var IO=_(M6,T6,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=k6(i);if(a)return O6(a);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is no valid number');if(s){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),RS="string",B6=["typed"],F6=_(RS,B6,t=>{var{typed:e}=t;return e(RS,{"":function(){return""},number:us,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(r=>n=>et(n,r)),any:function(n){return String(n)}})}),PS="boolean",$6=["typed"],R6=_(PS,$6,t=>{var{typed:e}=t;return e(PS,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),P6="bignumber",I6=["typed","BigNumber"],LO=_(P6,I6,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],s=r(a[1]),l=new r(2).pow(Number(o));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new r(2).pow(Number(o)-1);return s.gte(u)?s.sub(l):s}return new r(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new r(i.n).div(i.d).times(i.s)},null:function(i){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})}),L6="complex",_6=["typed","Complex"],z6=_(L6,_6,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,a){return new r(i,a)},"BigNumber, BigNumber":function(i,a){return new r(i.toNumber(),a.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})}),U6="fraction",q6=["typed","Fraction"],_O=_(U6,q6,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})}),IS="matrix",H6=["typed","Matrix","DenseMatrix","SparseMatrix"],zO=_(IS,H6,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(IS,{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,l){return a([],s,l)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,s,l){if(s==="dense"||s==="default"||s===void 0)return new n(o,l);if(s==="sparse")return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),LS="matrixFromFunction",V6=["typed","matrix","isZero"],W6=_(LS,V6,t=>{var{typed:e,matrix:r,isZero:n}=t;return e(LS,{"Array | Matrix, function, string, string":function(o,s,l,u){return i(o,s,l,u)},"Array | Matrix, function, string":function(o,s,l){return i(o,s,l)},"Matrix, function":function(o,s){return i(o,s,"dense")},"Array, function":function(o,s){return i(o,s,"dense").toArray()},"Array | Matrix, string, function":function(o,s,l){return i(o,l,s)},"Array | Matrix, string, string, function":function(o,s,l,u){return i(o,u,s,l)}});function i(a,o,s,l){var u;return l!==void 0?u=r(s,l):u=r(s),u.resize(a),u.forEach(function(c,f){var h=o(f);n(h)||u.set(f,h)}),u}}),_S="matrixFromRows",j6=["typed","matrix","flatten","size"],G6=_(_S,j6,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(_S,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(u=>u.toArray())))}});function a(s){if(s.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(s[0]),u=[];for(var c of s){var f=o(c);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(f|0));u.push(n(c))}return u}function o(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),zS="matrixFromColumns",K6=["typed","matrix","flatten","size"],Y6=_(zS,K6,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(zS,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(u=>u.toArray())))}});function a(s){if(s.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(s[0]),u=[],c=0;c<l;c++)u[c]=[];for(var f of s){var h=o(f);if(h!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(h|0));for(var d=n(f),p=0;p<l;p++)u[p].push(d[p])}return u}function o(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),US="splitUnit",J6=["typed"],Z6=_(US,J6,t=>{var{typed:e}=t;return e(US,{"Unit, Array":function(n,i){return n.splitUnit(i)}})}),qS="unaryMinus",X6=["typed"],UO=_(qS,X6,t=>{var{typed:e}=t;return e(qS,{number:zk,"Complex | BigNumber | Fraction":r=>r.neg(),Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),HS="unaryPlus",Q6=["typed","config","BigNumber"],e_=_(HS,Q6,t=>{var{typed:e,config:r,BigNumber:n}=t;return e(HS,{number:Uk,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>et(a,i)),"boolean | string":function(a){return r.number==="BigNumber"?new n(+a):+a}})}),VS="abs",t_=["typed"],qO=_(VS,t_,t=>{var{typed:e}=t;return e(VS,{number:Ik,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),WS="apply",r_=["typed","isInteger"],HO=_(WS,r_,t=>{var{typed:e,isInteger:r}=t;return e(WS,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!r(a))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(i)?tt(i):i.size();if(a<0||a>=s.length)throw new ci(a,s.length);return We(i)?i.create(ap(i.valueOf(),a,o)):ap(i,a,o)}})});function ap(t,e,r){var n,i,a;if(e<=0)if(Array.isArray(t[0])){for(a=n_(t),i=[],n=0;n<a.length;n++)i[n]=ap(a[n],e-1,r);return i}else return r(t);else{for(i=[],n=0;n<t.length;n++)i[n]=ap(t[n],e-1,r);return i}}function n_(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}var jS="addScalar",i_=["typed"],VO=_(jS,i_,t=>{var{typed:e}=t;return e(jS,{"number, number":Lk,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),GS="cbrt",a_=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],o_=_(GS,a_,t=>{var{config:e,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:s,Fraction:l}=t;return r(GS,{number:Ku,Complex:u,"Complex, boolean":u,BigNumber:function(h){return h.cbrt()},Unit:c});function u(f,h){var d=f.arg()/3,p=f.abs(),m=new o(Ku(p),0).mul(new o(0,d).exp());if(h){var v=[m,new o(Ku(p),0).mul(new o(0,d+Math.PI*2/3).exp()),new o(Ku(p),0).mul(new o(0,d-Math.PI*2/3).exp())];return e.matrix==="Array"?v:a(v)}else return m}function c(f){if(f.value&&Di(f.value)){var h=f.clone();return h.value=1,h=h.pow(1/3),h.value=u(f.value),h}else{var d=n(f.value);d&&(f.value=i(f.value));var p;Qe(f.value)?p=new s(1).div(3):Ms(f.value)?p=new l(1,3):p=1/3;var m=f.pow(p);return d&&(m.value=i(m.value)),m}}}),s_="matAlgo11xS0s",l_=["typed","equalScalar"],Ir=_(s_,l_,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,s){var l=i._values,u=i._index,c=i._ptr,f=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=f[0],p=f[1],m,v=r,g=0,b=o;typeof h=="string"&&(m=h,v=e.find(r,[m,m]),g=e.convert(0,m),a=e.convert(a,m),b=e.find(o,[m,m]));for(var y=[],w=[],S=[],x=0;x<p;x++){S[x]=w.length;for(var C=c[x],A=c[x+1],E=C;E<A;E++){var D=u[E],M=s?b(a,l[E]):b(l[E],a);v(M,g)||(w.push(D),y.push(M))}}return S[p]=w.length,i.createSparseMatrix({values:y,index:w,ptr:S,size:[d,p],datatype:m})}}),u_="matAlgo12xSfs",c_=["typed","DenseMatrix"],yr=_(u_,c_,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,s){var l=i._values,u=i._index,c=i._ptr,f=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=f[0],p=f[1],m,v=o;typeof h=="string"&&(m=h,a=e.convert(a,m),v=e.find(o,[m,m]));for(var g=[],b=[],y=[],w=0;w<p;w++){for(var S=w+1,x=c[w],C=c[w+1],A=x;A<C;A++){var E=u[A];b[E]=l[A],y[E]=S}for(var D=0;D<d;D++)w===0&&(g[D]=[]),y[D]===S?g[D][w]=s?v(a,b[D]):v(b[D],a):g[D][w]=s?v(a,0):v(0,a)}return new r({data:g,size:[d,p],datatype:m})}}),f_="matAlgo14xDs",h_=["typed"],Oi=_(f_,h_,t=>{var{typed:e}=t;return function(i,a,o,s){var l=i._data,u=i._size,c=i._datatype,f,h=o;typeof c=="string"&&(f=c,a=e.convert(a,f),h=e.find(o,[f,f]));var d=u.length>0?r(h,0,u,u[0],l,a,s):[];return i.createDenseMatrix({data:d,size:He(u),datatype:f})};function r(n,i,a,o,s,l,u){var c=[];if(i===a.length-1)for(var f=0;f<o;f++)c[f]=u?n(l,s[f]):n(s[f],l);else for(var h=0;h<o;h++)c[h]=r(n,i+1,a,a[i+1],s[h],l,u);return c}}),Y0="ceil",d_=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],p_=_(Y0,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;return e(Y0,{number:function(a){return Un(a,n(a),r.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if(Un(a,n(a,o),r.epsilon))return n(a,o);var[s,l]="".concat(a,"e").split("e"),u=Math.ceil(Number("".concat(s,"e").concat(Number(l)+o)));return[s,l]="".concat(u,"e").split("e"),Number("".concat(s,"e").concat(Number(l)-o))}})}),WO=_(Y0,d_,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=t,l=Ir({typed:e,equalScalar:a}),u=yr({typed:e,DenseMatrix:s}),c=Oi({typed:e}),f=p_({typed:e,config:r,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(d){return d.ceil()},"Complex, number":function(d,p){return d.ceil(p)},"Complex, BigNumber":function(d,p){return d.ceil(p.toNumber())},BigNumber:function(d){return aa(d,n(d),r.epsilon)?n(d):d.ceil()},"BigNumber, BigNumber":function(d,p){return aa(d,n(d,p),r.epsilon)?n(d,p):d.toDecimalPlaces(p.toNumber(),Eo.ROUND_CEIL)},Fraction:function(d){return d.ceil()},"Fraction, number":function(d,p){return d.ceil(p)},"Fraction, BigNumber":function(d,p){return d.ceil(p.toNumber())},"Array | Matrix":e.referToSelf(h=>d=>et(d,h)),"Array, number | BigNumber":e.referToSelf(h=>(d,p)=>et(d,m=>h(m,p))),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(d,p)=>l(d,p,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(d,p)=>c(d,p,h,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(d,p)=>c(i(p),d,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(d,p)=>a(d,0)?o(p.size(),p.storage()):p.storage()==="dense"?c(p,d,h,!0):u(p,d,h,!0))})}),KS="cube",m_=["typed"],g_=_(KS,m_,t=>{var{typed:e}=t;return e(KS,{number:qk,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})}),YS="exp",v_=["typed"],y_=_(YS,v_,t=>{var{typed:e}=t;return e(YS,{number:Hk,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),JS="expm1",x_=["typed","Complex"],b_=_(JS,x_,t=>{var{typed:e,Complex:r}=t;return e(JS,{number:Vk,Complex:function(i){var a=Math.exp(i.re);return new r(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),J0="fix",w_=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],S_=_(J0,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:n}=t;return e(J0,{number:function(a){return a>0?n(a):r(a)},"number, number":function(a,o){return a>0?n(a,o):r(a,o)}})}),jO=_(J0,w_,t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:s,DenseMatrix:l}=t,u=yr({typed:e,DenseMatrix:l}),c=Oi({typed:e}),f=S_({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(d){return new r(d.re>0?Math.floor(d.re):Math.ceil(d.re),d.im>0?Math.floor(d.im):Math.ceil(d.im))},"Complex, number":function(d,p){return new r(d.re>0?a(d.re,p):i(d.re,p),d.im>0?a(d.im,p):i(d.im,p))},"Complex, BigNumber":function(d,p){var m=p.toNumber();return new r(d.re>0?a(d.re,m):i(d.re,m),d.im>0?a(d.im,m):i(d.im,m))},BigNumber:function(d){return d.isNegative()?i(d):a(d)},"BigNumber, number | BigNumber":function(d,p){return d.isNegative()?i(d,p):a(d,p)},Fraction:function(d){return d.s<0?d.ceil():d.floor()},"Fraction, number | BigNumber":function(d,p){return d.s<0?i(d,p):a(d,p)},"Array | Matrix":e.referToSelf(h=>d=>et(d,h)),"Array | Matrix, number | BigNumber":e.referToSelf(h=>(d,p)=>et(d,m=>h(m,p))),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(d,p)=>c(n(p),d,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(d,p)=>o(d,0)?s(p.size(),p.storage()):p.storage()==="dense"?c(p,d,h,!0):u(p,d,h,!0))})}),Z0="floor",C_=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],D_=_(Z0,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;return e(Z0,{number:function(a){return Un(a,n(a),r.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if(Un(a,n(a,o),r.epsilon))return n(a,o);var[s,l]="".concat(a,"e").split("e"),u=Math.floor(Number("".concat(s,"e").concat(Number(l)+o)));return[s,l]="".concat(u,"e").split("e"),Number("".concat(s,"e").concat(Number(l)-o))}})}),GO=_(Z0,C_,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=t,l=Ir({typed:e,equalScalar:a}),u=yr({typed:e,DenseMatrix:s}),c=Oi({typed:e}),f=D_({typed:e,config:r,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(d){return d.floor()},"Complex, number":function(d,p){return d.floor(p)},"Complex, BigNumber":function(d,p){return d.floor(p.toNumber())},BigNumber:function(d){return aa(d,n(d),r.epsilon)?n(d):d.floor()},"BigNumber, BigNumber":function(d,p){return aa(d,n(d,p),r.epsilon)?n(d,p):d.toDecimalPlaces(p.toNumber(),Eo.ROUND_FLOOR)},Fraction:function(d){return d.floor()},"Fraction, number":function(d,p){return d.floor(p)},"Fraction, BigNumber":function(d,p){return d.floor(p.toNumber())},"Array | Matrix":e.referToSelf(h=>d=>et(d,h)),"Array, number | BigNumber":e.referToSelf(h=>(d,p)=>et(d,m=>h(m,p))),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(d,p)=>l(d,p,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(d,p)=>c(d,p,h,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(d,p)=>c(i(p),d,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(d,p)=>a(d,0)?o(p.size(),p.storage()):p.storage()==="dense"?c(p,d,h,!0):u(p,d,h,!0))})}),A_="matAlgo01xDSid",E_=["typed"],Io=_(A_,E_,t=>{var{typed:e}=t;return function(n,i,a,o){var s=n._data,l=n._size,u=n._datatype,c=i._values,f=i._index,h=i._ptr,d=i._size,p=i._datatype;if(l.length!==d.length)throw new Xe(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=l[0],v=l[1],g=typeof u=="string"&&u===p?u:void 0,b=g?e.find(a,[g,g]):a,y,w,S=[];for(y=0;y<m;y++)S[y]=[];var x=[],C=[];for(w=0;w<v;w++){for(var A=w+1,E=h[w],D=h[w+1],M=E;M<D;M++)y=f[M],x[y]=o?b(c[M],s[y][w]):b(s[y][w],c[M]),C[y]=A;for(y=0;y<m;y++)C[y]===A?S[y][w]=x[y]:S[y][w]=s[y][w]}return n.createDenseMatrix({data:S,size:[m,v],datatype:g})}}),N_="matAlgo04xSidSid",M_=["typed","equalScalar"],gx=_(N_,M_,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype,h=a._values,d=a._index,p=a._ptr,m=a._size,v=a._datatype;if(c.length!==m.length)throw new Xe(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var g=c[0],b=c[1],y,w=r,S=0,x=o;typeof f=="string"&&f===v&&(y=f,w=e.find(r,[y,y]),S=e.convert(0,y),x=e.find(o,[y,y]));var C=s&&h?[]:void 0,A=[],E=[],D=s&&h?[]:void 0,M=s&&h?[]:void 0,k=[],$=[],I,F,N,T,R;for(F=0;F<b;F++){E[F]=A.length;var O=F+1;for(T=u[F],R=u[F+1],N=T;N<R;N++)I=l[N],A.push(I),k[I]=O,D&&(D[I]=s[N]);for(T=p[F],R=p[F+1],N=T;N<R;N++)if(I=d[N],k[I]===O){if(D){var P=x(D[I],h[N]);w(P,S)?k[I]=null:D[I]=P}}else A.push(I),$[I]=O,M&&(M[I]=h[N]);if(D&&M)for(N=E[F];N<A.length;)I=A[N],k[I]===O?(C[N]=D[I],N++):$[I]===O?(C[N]=M[I],N++):A.splice(N,1)}return E[b]=A.length,i.createSparseMatrix({values:C,index:A,ptr:E,size:[g,b],datatype:y})}}),T_="matAlgo10xSids",k_=["typed","DenseMatrix"],Os=_(T_,k_,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,s){var l=i._values,u=i._index,c=i._ptr,f=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=f[0],p=f[1],m,v=o;typeof h=="string"&&(m=h,a=e.convert(a,m),v=e.find(o,[m,m]));for(var g=[],b=[],y=[],w=0;w<p;w++){for(var S=w+1,x=c[w],C=c[w+1],A=x;A<C;A++){var E=u[A];b[E]=l[A],y[E]=S}for(var D=0;D<d;D++)w===0&&(g[D]=[]),y[D]===S?g[D][w]=s?v(a,b[D]):v(b[D],a):g[D][w]=a}return new r({data:g,size:[d,p],datatype:m})}}),O_="matAlgo13xDD",B_=["typed"],F_=_(O_,B_,t=>{var{typed:e}=t;return function(i,a,o){var s=i._data,l=i._size,u=i._datatype,c=a._data,f=a._size,h=a._datatype,d=[];if(l.length!==f.length)throw new Xe(l.length,f.length);for(var p=0;p<l.length;p++){if(l[p]!==f[p])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");d[p]=l[p]}var m,v=o;typeof u=="string"&&u===h&&(m=u,v=e.find(o,[m,m]));var g=d.length>0?r(v,0,d,d[0],s,c):[];return i.createDenseMatrix({data:g,size:d,datatype:m})};function r(n,i,a,o,s,l){var u=[];if(i===a.length-1)for(var c=0;c<o;c++)u[c]=n(s[c],l[c]);else for(var f=0;f<o;f++)u[f]=r(n,i+1,a,a[i+1],s[f],l[f]);return u}}),$_="broadcast",R_=["concat"],P_=_($_,R_,t=>{var{concat:e}=t;return function(a,o){var s=Math.max(a._size.length,o._size.length);if(a._size.length===o._size.length&&a._size.every((v,g)=>v===o._size[g]))return[a,o];for(var l=r(a._size,s,0),u=r(o._size,s,0),c=[],f=0;f<s;f++)c[f]=Math.max(l[f],u[f]);for(var h=0;h<s;h++)i(l,c,h),i(u,c,h);var d=a.clone(),p=o.clone();d._size.length<s?d.reshape(r(d._size,s,1)):p._size.length<s&&p.reshape(r(p._size,s,1));for(var m=0;m<s;m++)d._size[m]<c[m]&&(d=n(d,c[m],m)),p._size[m]<c[m]&&(p=n(p,c[m],m));return[d,p]};function r(a,o,s){return[...Array(o-a.length).fill(s),...a]}function n(a,o,s){return e(...Array(o).fill(a),s)}function i(a,o,s){if(a[s]<o[s]&a[s]>1)throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(a,") not possible to broadcast dimension ").concat(s," with size ").concat(a[s]," to size ").concat(o[s]))}}),I_="matrixAlgorithmSuite",L_=["typed","matrix","concat"],Ot=_(I_,L_,t=>{var{typed:e,matrix:r,concat:n}=t,i=F_({typed:e}),a=Oi({typed:e}),o=P_({concat:n});return function(l){var u=l.elop,c=l.SD||l.DS,f;u?(f={"DenseMatrix, DenseMatrix":(m,v)=>i(...o(m,v),u),"Array, Array":(m,v)=>i(...o(r(m),r(v)),u).valueOf(),"Array, DenseMatrix":(m,v)=>i(...o(r(m),v),u),"DenseMatrix, Array":(m,v)=>i(...o(m,r(v)),u)},l.SS&&(f["SparseMatrix, SparseMatrix"]=(m,v)=>l.SS(...o(m,v),u,!1)),l.DS&&(f["DenseMatrix, SparseMatrix"]=(m,v)=>l.DS(...o(m,v),u,!1),f["Array, SparseMatrix"]=(m,v)=>l.DS(...o(r(m),v),u,!1)),c&&(f["SparseMatrix, DenseMatrix"]=(m,v)=>c(...o(v,m),u,!0),f["SparseMatrix, Array"]=(m,v)=>c(...o(r(v),m),u,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(v,g)=>i(...o(v,g),m)),"Array, Array":e.referToSelf(m=>(v,g)=>i(...o(r(v),r(g)),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(v,g)=>i(...o(r(v),g),m)),"DenseMatrix, Array":e.referToSelf(m=>(v,g)=>i(...o(v,r(g)),m))},l.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(v,g)=>l.SS(...o(v,g),m,!1))),l.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(v,g)=>l.DS(...o(v,g),m,!1)),f["Array, SparseMatrix"]=e.referToSelf(m=>(v,g)=>l.DS(...o(r(v),g),m,!1))),c&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(v,g)=>c(...o(g,v),m,!0)),f["SparseMatrix, Array"]=e.referToSelf(m=>(v,g)=>c(...o(r(g),v),m,!0))));var h=l.scalar||"any",d=l.Ds||l.Ss;d&&(u?(f["DenseMatrix,"+h]=(m,v)=>a(m,v,u,!1),f[h+", DenseMatrix"]=(m,v)=>a(v,m,u,!0),f["Array,"+h]=(m,v)=>a(r(m),v,u,!1).valueOf(),f[h+", Array"]=(m,v)=>a(r(v),m,u,!0).valueOf()):(f["DenseMatrix,"+h]=e.referToSelf(m=>(v,g)=>a(v,g,m,!1)),f[h+", DenseMatrix"]=e.referToSelf(m=>(v,g)=>a(g,v,m,!0)),f["Array,"+h]=e.referToSelf(m=>(v,g)=>a(r(v),g,m,!1).valueOf()),f[h+", Array"]=e.referToSelf(m=>(v,g)=>a(r(g),v,m,!0).valueOf())));var p=l.sS!==void 0?l.sS:l.Ss;return u?(l.Ss&&(f["SparseMatrix,"+h]=(m,v)=>l.Ss(m,v,u,!1)),p&&(f[h+", SparseMatrix"]=(m,v)=>p(v,m,u,!0))):(l.Ss&&(f["SparseMatrix,"+h]=e.referToSelf(m=>(v,g)=>l.Ss(v,g,m,!1))),p&&(f[h+", SparseMatrix"]=e.referToSelf(m=>(v,g)=>p(g,v,m,!0)))),u&&u.signatures&&XT(f,u.signatures),f}});function Ua(t,e,r,n){if(!(this instanceof Ua))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}Ua.prototype=new Error;Ua.prototype.constructor=Error;Ua.prototype.name="ArgumentsError";Ua.prototype.isArgumentsError=!0;var ZS="gcd",__=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],ev="number | BigNumber | Fraction | Matrix | Array",z_="".concat(ev,", ").concat(ev,", ...").concat(ev);function XS(t){return!t.some(e=>Array.isArray(e))}var U_=_(ZS,__,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=t,s=Io({typed:e}),l=gx({typed:e,equalScalar:n}),u=Os({typed:e,DenseMatrix:a}),c=Ot({typed:e,matrix:r,concat:o});return e(ZS,{"number, number":Wk,"BigNumber, BigNumber":f,"Fraction, Fraction":(h,d)=>h.gcd(d)},c({SS:l,DS:s,Ss:u}),{[z_]:e.referToSelf(h=>(d,p,m)=>{for(var v=h(d,p),g=0;g<m.length;g++)v=h(v,m[g]);return v}),Array:e.referToSelf(h=>d=>{if(d.length===1&&Array.isArray(d[0])&&XS(d[0]))return h(...d[0]);if(XS(d))return h(...d);throw new Ua("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(h=>d=>h(d.toArray()))});function f(h,d){if(!h.isInt()||!d.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var p=new i(0);!d.isZero();){var m=h.mod(d);h=d,d=m}return h.lt(p)?h.neg():h}}),q_="matAlgo02xDS0",H_=["typed","equalScalar"],Bi=_(q_,H_,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,s){var l=i._data,u=i._size,c=i._datatype,f=a._values,h=a._index,d=a._ptr,p=a._size,m=a._datatype;if(u.length!==p.length)throw new Xe(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=u[0],g=u[1],b,y=r,w=0,S=o;typeof c=="string"&&c===m&&(b=c,y=e.find(r,[b,b]),w=e.convert(0,b),S=e.find(o,[b,b]));for(var x=[],C=[],A=[],E=0;E<g;E++){A[E]=C.length;for(var D=d[E],M=d[E+1],k=D;k<M;k++){var $=h[k],I=s?S(f[k],l[$][E]):S(l[$][E],f[k]);y(I,w)||(C.push($),x.push(I))}}return A[g]=C.length,a.createSparseMatrix({values:x,index:C,ptr:A,size:[v,g],datatype:b})}}),V_="matAlgo06xS0S0",W_=["typed","equalScalar"],ym=_(V_,W_,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._size,u=i._datatype,c=a._values,f=a._size,h=a._datatype;if(l.length!==f.length)throw new Xe(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var d=l[0],p=l[1],m,v=r,g=0,b=o;typeof u=="string"&&u===h&&(m=u,v=e.find(r,[m,m]),g=e.convert(0,m),b=e.find(o,[m,m]));for(var y=s&&c?[]:void 0,w=[],S=[],x=y?[]:void 0,C=[],A=[],E=0;E<p;E++){S[E]=w.length;var D=E+1;if(CS(i,E,C,x,A,D,w,b),CS(a,E,C,x,A,D,w,b),x)for(var M=S[E];M<w.length;){var k=w[M];if(A[k]===D){var $=x[k];v($,g)?w.splice(M,1):(y.push($),M++)}else w.splice(M,1)}else for(var I=S[E];I<w.length;){var F=w[I];A[F]!==D?w.splice(I,1):I++}}return S[p]=w.length,i.createSparseMatrix({values:y,index:w,ptr:S,size:[d,p],datatype:m})}}),QS="lcm",j_=["typed","matrix","equalScalar","concat"],G_=_(QS,j_,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=Bi({typed:e,equalScalar:n}),o=ym({typed:e,equalScalar:n}),s=Ir({typed:e,equalScalar:n}),l=Ot({typed:e,matrix:r,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(h=>(d,p,m)=>{for(var v=h(d,p),g=0;g<m.length;g++)v=h(v,m[g]);return v}),e(QS,{"number, number":jk,"BigNumber, BigNumber":f,"Fraction, Fraction":(h,d)=>h.lcm(d)},l({SS:o,DS:a,Ss:s}),c);function f(h,d){if(!h.isInt()||!d.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(h.isZero())return h;if(d.isZero())return d;for(var p=h.times(d);!d.isZero();){var m=d;d=h.mod(m),h=m}return p.div(h).abs()}}),eC="log10",K_=["typed","config","Complex"],Y_=_(eC,K_,t=>{var{typed:e,config:r,Complex:n}=t;return e(eC,{number:function(a){return a>=0||r.predictable?Gk(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||r.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>et(a,i))})}),tC="log2",J_=["typed","config","Complex"],Z_=_(tC,J_,t=>{var{typed:e,config:r,Complex:n}=t;return e(tC,{number:function(o){return o>=0||r.predictable?Kk(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>et(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}}),X_="matAlgo03xDSf",Q_=["typed"],un=_(X_,Q_,t=>{var{typed:e}=t;return function(n,i,a,o){var s=n._data,l=n._size,u=n._datatype,c=i._values,f=i._index,h=i._ptr,d=i._size,p=i._datatype;if(l.length!==d.length)throw new Xe(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=l[0],v=l[1],g,b=0,y=a;typeof u=="string"&&u===p&&(g=u,b=e.convert(0,g),y=e.find(a,[g,g]));for(var w=[],S=0;S<m;S++)w[S]=[];for(var x=[],C=[],A=0;A<v;A++){for(var E=A+1,D=h[A],M=h[A+1],k=D;k<M;k++){var $=f[k];x[$]=o?y(c[k],s[$][A]):y(s[$][A],c[k]),C[$]=E}for(var I=0;I<m;I++)C[I]===E?w[I][A]=x[I]:w[I][A]=o?y(b,s[I][A]):y(s[I][A],b)}return n.createDenseMatrix({data:w,size:[m,v],datatype:g})}}),e9="matAlgo05xSfSf",t9=["typed","equalScalar"],xm=_(e9,t9,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype,h=a._values,d=a._index,p=a._ptr,m=a._size,v=a._datatype;if(c.length!==m.length)throw new Xe(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var g=c[0],b=c[1],y,w=r,S=0,x=o;typeof f=="string"&&f===v&&(y=f,w=e.find(r,[y,y]),S=e.convert(0,y),x=e.find(o,[y,y]));var C=s&&h?[]:void 0,A=[],E=[],D=C?[]:void 0,M=C?[]:void 0,k=[],$=[],I,F,N,T;for(F=0;F<b;F++){E[F]=A.length;var R=F+1;for(N=u[F],T=u[F+1];N<T;N++)I=l[N],A.push(I),k[I]=R,D&&(D[I]=s[N]);for(N=p[F],T=p[F+1];N<T;N++)I=d[N],k[I]!==R&&A.push(I),$[I]=R,M&&(M[I]=h[N]);if(C)for(N=E[F];N<A.length;){I=A[N];var O=k[I],P=$[I];if(O===R||P===R){var V=O===R?D[I]:S,W=P===R?M[I]:S,L=x(V,W);w(L,S)?A.splice(N,1):(C.push(L),N++)}}}return E[b]=A.length,i.createSparseMatrix({values:C,index:A,ptr:E,size:[g,b],datatype:y})}}),rC="mod",r9=["typed","matrix","equalScalar","DenseMatrix","concat"],n9=_(rC,r9,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Bi({typed:e,equalScalar:n}),s=un({typed:e}),l=xm({typed:e,equalScalar:n}),u=Ir({typed:e,equalScalar:n}),c=yr({typed:e,DenseMatrix:i}),f=Ot({typed:e,matrix:r,concat:a});return e(rC,{"number, number":Yk,"BigNumber, BigNumber":function(d,p){if(p.isNeg())throw new Error("Cannot calculate mod for a negative divisor");return p.isZero()?d:d.mod(p)},"Fraction, Fraction":function(d,p){if(p.compare(0)<0)throw new Error("Cannot calculate mod for a negative divisor");return d.compare(0)>=0?d.mod(p):d.mod(p).add(p).mod(p)}},f({SS:l,DS:s,SD:o,Ss:u,sS:c}))}),i9="multiplyScalar",a9=["typed"],KO=_(i9,a9,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":_k,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),nC="multiply",o9=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],YO=_(nC,o9,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=t,s=Ir({typed:e,equalScalar:a}),l=Oi({typed:e});function u(S,x){switch(S.length){case 1:switch(x.length){case 1:if(S[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(S[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+S[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(S[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+S[1]+") must match Vector length ("+x[0]+")");break;case 2:if(S[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+S[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+S.length+" dimensions)")}}function c(S,x,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return o(S,x)}function f(S,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return h(S,x)}function h(S,x){var C=S._data,A=S._size,E=S._datatype,D=x._data,M=x._size,k=x._datatype,$=A[0],I=M[1],F,N=n,T=i;E&&k&&E===k&&typeof E=="string"&&(F=E,N=e.find(n,[F,F]),T=e.find(i,[F,F]));for(var R=[],O=0;O<I;O++){for(var P=T(C[0],D[0][O]),V=1;V<$;V++)P=N(P,T(C[V],D[V][O]));R[O]=P}return S.createDenseMatrix({data:R,size:[I],datatype:F})}var d=e("_multiplyMatrixVector",{"DenseMatrix, any":m,"SparseMatrix, any":b}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":w});function m(S,x){var C=S._data,A=S._size,E=S._datatype,D=x._data,M=x._datatype,k=A[0],$=A[1],I,F=n,N=i;E&&M&&E===M&&typeof E=="string"&&(I=E,F=e.find(n,[I,I]),N=e.find(i,[I,I]));for(var T=[],R=0;R<k;R++){for(var O=C[R],P=N(O[0],D[0]),V=1;V<$;V++)P=F(P,N(O[V],D[V]));T[R]=P}return S.createDenseMatrix({data:T,size:[k],datatype:I})}function v(S,x){var C=S._data,A=S._size,E=S._datatype,D=x._data,M=x._size,k=x._datatype,$=A[0],I=A[1],F=M[1],N,T=n,R=i;E&&k&&E===k&&typeof E=="string"&&(N=E,T=e.find(n,[N,N]),R=e.find(i,[N,N]));for(var O=[],P=0;P<$;P++){var V=C[P];O[P]=[];for(var W=0;W<F;W++){for(var L=R(V[0],D[0][W]),G=1;G<I;G++)L=T(L,R(V[G],D[G][W]));O[P][W]=L}}return S.createDenseMatrix({data:O,size:[$,F],datatype:N})}function g(S,x){var C=S._data,A=S._size,E=S._datatype,D=x._values,M=x._index,k=x._ptr,$=x._size,I=x._datatype;if(!D)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var F=A[0],N=$[1],T,R=n,O=i,P=a,V=0;E&&I&&E===I&&typeof E=="string"&&(T=E,R=e.find(n,[T,T]),O=e.find(i,[T,T]),P=e.find(a,[T,T]),V=e.convert(0,T));for(var W=[],L=[],G=[],ee=x.createSparseMatrix({values:W,index:L,ptr:G,size:[F,N],datatype:T}),Z=0;Z<N;Z++){G[Z]=L.length;var se=k[Z],he=k[Z+1];if(he>se)for(var le=0,ne=0;ne<F;ne++){for(var xe=ne+1,Se=void 0,me=se;me<he;me++){var Ce=M[me];le!==xe?(Se=O(C[ne][Ce],D[me]),le=xe):Se=R(Se,O(C[ne][Ce],D[me]))}le===xe&&!P(Se,V)&&(L.push(ne),W.push(Se))}}return G[N]=L.length,ee}function b(S,x){var C=S._values,A=S._index,E=S._ptr,D=S._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=x._data,k=x._datatype,$=S._size[0],I=x._size[0],F=[],N=[],T=[],R,O=n,P=i,V=a,W=0;D&&k&&D===k&&typeof D=="string"&&(R=D,O=e.find(n,[R,R]),P=e.find(i,[R,R]),V=e.find(a,[R,R]),W=e.convert(0,R));var L=[],G=[];T[0]=0;for(var ee=0;ee<I;ee++){var Z=M[ee];if(!V(Z,W))for(var se=E[ee],he=E[ee+1],le=se;le<he;le++){var ne=A[le];G[ne]?L[ne]=O(L[ne],P(Z,C[le])):(G[ne]=!0,N.push(ne),L[ne]=P(Z,C[le]))}}for(var xe=N.length,Se=0;Se<xe;Se++){var me=N[Se];F[Se]=L[me]}return T[1]=N.length,S.createSparseMatrix({values:F,index:N,ptr:T,size:[$,1],datatype:R})}function y(S,x){var C=S._values,A=S._index,E=S._ptr,D=S._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=x._data,k=x._datatype,$=S._size[0],I=x._size[0],F=x._size[1],N,T=n,R=i,O=a,P=0;D&&k&&D===k&&typeof D=="string"&&(N=D,T=e.find(n,[N,N]),R=e.find(i,[N,N]),O=e.find(a,[N,N]),P=e.convert(0,N));for(var V=[],W=[],L=[],G=S.createSparseMatrix({values:V,index:W,ptr:L,size:[$,F],datatype:N}),ee=[],Z=[],se=0;se<F;se++){L[se]=W.length;for(var he=se+1,le=0;le<I;le++){var ne=M[le][se];if(!O(ne,P))for(var xe=E[le],Se=E[le+1],me=xe;me<Se;me++){var Ce=A[me];Z[Ce]!==he?(Z[Ce]=he,W.push(Ce),ee[Ce]=R(ne,C[me])):ee[Ce]=T(ee[Ce],R(ne,C[me]))}}for(var q=L[se],j=W.length,re=q;re<j;re++){var H=W[re];V[re]=ee[H]}}return L[F]=W.length,G}function w(S,x){var C=S._values,A=S._index,E=S._ptr,D=S._datatype,M=x._values,k=x._index,$=x._ptr,I=x._datatype,F=S._size[0],N=x._size[1],T=C&&M,R,O=n,P=i;D&&I&&D===I&&typeof D=="string"&&(R=D,O=e.find(n,[R,R]),P=e.find(i,[R,R]));for(var V=T?[]:void 0,W=[],L=[],G=S.createSparseMatrix({values:V,index:W,ptr:L,size:[F,N],datatype:R}),ee=T?[]:void 0,Z=[],se,he,le,ne,xe,Se,me,Ce,q=0;q<N;q++){L[q]=W.length;var j=q+1;for(xe=$[q],Se=$[q+1],ne=xe;ne<Se;ne++)if(Ce=k[ne],T)for(he=E[Ce],le=E[Ce+1],se=he;se<le;se++)me=A[se],Z[me]!==j?(Z[me]=j,W.push(me),ee[me]=P(M[ne],C[se])):ee[me]=O(ee[me],P(M[ne],C[se]));else for(he=E[Ce],le=E[Ce+1],se=he;se<le;se++)me=A[se],Z[me]!==j&&(Z[me]=j,W.push(me));if(T)for(var re=L[q],H=W.length,Y=re;Y<H;Y++){var Q=W[Y];V[Y]=ee[Q]}}return L[N]=W.length,G}return e(nC,i,{"Array, Array":e.referTo("Matrix, Matrix",S=>(x,C)=>{u(tt(x),tt(C));var A=S(r(x),r(C));return We(A)?A.valueOf():A}),"Matrix, Matrix":function(x,C){var A=x.size(),E=C.size();return u(A,E),A.length===1?E.length===1?c(x,C,A[0]):f(x,C):E.length===1?d(x,C):p(x,C)},"Matrix, Array":e.referTo("Matrix,Matrix",S=>(x,C)=>S(x,r(C))),"Array, Matrix":e.referToSelf(S=>(x,C)=>S(r(x,C.storage()),C)),"SparseMatrix, any":function(x,C){return s(x,C,i,!1)},"DenseMatrix, any":function(x,C){return l(x,C,i,!1)},"any, SparseMatrix":function(x,C){return s(C,x,i,!0)},"any, DenseMatrix":function(x,C){return l(C,x,i,!0)},"Array, any":function(x,C){return l(r(x),C,i,!1).valueOf()},"any, Array":function(x,C){return l(r(C),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(S=>(x,C,A)=>{for(var E=S(x,C),D=0;D<A.length;D++)E=S(E,A[D]);return E})})}),iC="nthRoot",s9=["typed","matrix","equalScalar","BigNumber","concat"],l9=_(iC,s9,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,concat:a}=t,o=Io({typed:e}),s=Bi({typed:e,equalScalar:n}),l=ym({typed:e,equalScalar:n}),u=Ir({typed:e,equalScalar:n}),c=Ot({typed:e,matrix:r,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(iC,{number:AS,"number, number":AS,BigNumber:d=>h(d,new i(2)),"BigNumber, BigNumber":h,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",d=>p=>d(r(p),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",d=>p=>d(p,2)),SparseMatrix:e.referTo("SparseMatrix,number",d=>p=>d(p,2)),"SparseMatrix, SparseMatrix":e.referToSelf(d=>(p,m)=>{if(m.density()===1)return l(p,m,d);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(d=>(p,m)=>{if(m.density()===1)return o(p,m,d,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",d=>(p,m)=>d(r(p),m)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(p,m)=>{if(m.density()===1)return u(m,p,d,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:s,Ss:u,sS:!1}));function h(d,p){var m=i.precision,v=i.clone({precision:m+2}),g=new i(0),b=new v(1),y=p.isNegative();if(y&&(p=p.neg()),p.isZero())throw new Error("Root must be non-zero");if(d.isNegative()&&!p.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(d.isZero())return y?new v(1/0):0;if(!d.isFinite())return y?g:d;var w=d.abs().pow(b.div(p));return w=d.isNeg()?w.neg():w,new i((y?b.div(w):w).toPrecision(m))}}),aC="sign",u9=["typed","BigNumber","Fraction","complex"],c9=_(aC,u9,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:i}=t;return e(aC,{number:K0,Complex:function(o){return o.im===0?n(K0(o.re)):o.sign()},BigNumber:function(o){return new r(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>et(o,a)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})}),f9="sqrt",h9=["config","typed","Complex"],d9=_(f9,h9,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}}),oC="square",p9=["typed"],m9=_(oC,p9,t=>{var{typed:e}=t;return e(oC,{number:Jk,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),sC="subtract",g9=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix","concat"],JO=_(sC,g9,t=>{var{typed:e,matrix:r,equalScalar:n,addScalar:i,unaryMinus:a,DenseMatrix:o,concat:s}=t,l=Io({typed:e}),u=un({typed:e}),c=xm({typed:e,equalScalar:n}),f=Os({typed:e,DenseMatrix:o}),h=yr({typed:e,DenseMatrix:o}),d=Ot({typed:e,matrix:r,concat:s});return e(sC,{"number, number":(p,m)=>p-m,"Complex, Complex":(p,m)=>p.sub(m),"BigNumber, BigNumber":(p,m)=>p.minus(m),"Fraction, Fraction":(p,m)=>p.sub(m),"Unit, Unit":e.referToSelf(p=>(m,v)=>{if(m.value===null)throw new Error("Parameter x contains a unit with undefined value");if(v.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!m.equalBase(v))throw new Error("Units do not match");var g=m.clone();return g.value=e.find(p,[g.valueType(),v.valueType()])(g.value,v.value),g.fixPrefix=!1,g})},d({SS:c,DS:l,SD:u,Ss:h,sS:f}))}),lC="xgcd",v9=["typed","config","matrix","BigNumber"],y9=_(lC,v9,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(lC,{"number, number":function(s,l){var u=Zk(s,l);return r.matrix==="Array"?u:n(u)},"BigNumber, BigNumber":a});function a(o,s){var l,u,c,f=new i(0),h=new i(1),d=f,p=h,m=h,v=f;if(!o.isInt()||!s.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!s.isZero();)u=o.div(s).floor(),c=o.mod(s),l=d,d=p.minus(u.times(d)),p=l,l=m,m=v.minus(u.times(m)),v=l,o=s,s=c;var g;return o.lt(f)?g=[o.neg(),p.neg(),v.neg()]:g=[o,o.isZero()?0:p,v],r.matrix==="Array"?g:n(g)}}),uC="invmod",x9=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],b9=_(uC,x9,t=>{var{typed:e,config:r,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:s,add:l,isInteger:u}=t;return e(uC,{"number, number":c,"BigNumber, BigNumber":c});function c(f,h){if(!u(f)||!u(h))throw new Error("Parameters in function invmod must be integer numbers");if(f=s(f,h),a(h,0))throw new Error("Divisor must be non zero");var d=i(f,h);d=d.valueOf();var[p,m]=d;return a(p,n(1))?(m=s(m,h),o(m,n(0))&&(m=l(m,h)),m):NaN}}),w9="matAlgo09xS0Sf",S9=["typed","equalScalar"],ZO=_(w9,S9,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype,h=a._values,d=a._index,p=a._ptr,m=a._size,v=a._datatype;if(c.length!==m.length)throw new Xe(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var g=c[0],b=c[1],y,w=r,S=0,x=o;typeof f=="string"&&f===v&&(y=f,w=e.find(r,[y,y]),S=e.convert(0,y),x=e.find(o,[y,y]));var C=s&&h?[]:void 0,A=[],E=[],D=C?[]:void 0,M=[],k,$,I,F,N;for($=0;$<b;$++){E[$]=A.length;var T=$+1;if(D)for(F=p[$],N=p[$+1],I=F;I<N;I++)k=d[I],M[k]=T,D[k]=h[I];for(F=u[$],N=u[$+1],I=F;I<N;I++)if(k=l[I],D){var R=M[k]===T?D[k]:S,O=x(s[I],R);w(O,S)||(A.push(k),C.push(O))}else A.push(k)}return E[b]=A.length,i.createSparseMatrix({values:C,index:A,ptr:E,size:[g,b],datatype:y})}}),cC="dotMultiply",C9=["typed","matrix","equalScalar","multiplyScalar","concat"],D9=_(cC,C9,t=>{var{typed:e,matrix:r,equalScalar:n,multiplyScalar:i,concat:a}=t,o=Bi({typed:e,equalScalar:n}),s=ZO({typed:e,equalScalar:n}),l=Ir({typed:e,equalScalar:n}),u=Ot({typed:e,matrix:r,concat:a});return e(cC,u({elop:i,SS:s,DS:o,Ss:l}))});function A9(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return vx(t,e,function(n,i){return n&i})}function Ic(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var n=t.plus(new e(1));return n.s=-n.s||null,e.config({precision:r}),n}function E9(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var n=new r(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:vx(t,e,function(i,a){return i|a})}function vx(t,e,r){var n=t.constructor,i,a,o=+(t.s<0),s=+(e.s<0);if(o){i=nh(Ic(t));for(var l=0;l<i.length;++l)i[l]^=1}else i=nh(t);if(s){a=nh(Ic(e));for(var u=0;u<a.length;++u)a[u]^=1}else a=nh(e);var c,f,h;i.length<=a.length?(c=i,f=a,h=o):(c=a,f=i,h=s);var d=c.length,p=f.length,m=r(o,s)^1,v=new n(m^1),g=new n(1),b=new n(2),y=n.precision;for(n.config({precision:1e9});d>0;)r(c[--d],f[--p])===m&&(v=v.plus(g)),g=g.times(b);for(;p>0;)r(h,f[--p])===m&&(v=v.plus(g)),g=g.times(b);return n.config({precision:y}),m===0&&(v.s=-v.s),v}function nh(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;r.charAt(o)==="0";)o--;var s=t.e,l=r.slice(0,o+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var c=[0],f=0;f<l.length;){for(var h=c.length;h--;)c[h]*=10;c[0]+=parseInt(l.charAt(f++));for(var d=0;d<c.length;++d)c[d]>1&&((c[d+1]===null||c[d+1]===void 0)&&(c[d+1]=0),c[d+1]+=c[d]>>1,c[d]&=1)}return c.reverse()}function N9(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var n=new r(-1);return t.eq(n)?Ic(e):e.eq(n)?Ic(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?n:new r(t.isNegative()===e.isNegative()?1/0:-1/0):vx(t,e,function(i,a){return i^a})}function M9(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function T9(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var fC="bitAnd",k9=["typed","matrix","equalScalar","concat"],O9=_(fC,k9,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=Bi({typed:e,equalScalar:n}),o=ym({typed:e,equalScalar:n}),s=Ir({typed:e,equalScalar:n}),l=Ot({typed:e,matrix:r,concat:i});return e(fC,{"number, number":Qk,"BigNumber, BigNumber":A9},l({SS:o,DS:a,Ss:s}))}),hC="bitNot",B9=["typed"],F9=_(hC,B9,t=>{var{typed:e}=t;return e(hC,{number:eO,BigNumber:Ic,"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),dC="bitOr",$9=["typed","matrix","equalScalar","DenseMatrix","concat"],R9=_(dC,$9,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Io({typed:e}),s=gx({typed:e,equalScalar:n}),l=Os({typed:e,DenseMatrix:i}),u=Ot({typed:e,matrix:r,concat:a});return e(dC,{"number, number":tO,"BigNumber, BigNumber":E9},u({SS:s,DS:o,Ss:l}))}),P9="matAlgo07xSSf",I9=["typed","DenseMatrix"],la=_(P9,I9,t=>{var{typed:e,DenseMatrix:r}=t;return function(a,o,s){var l=a._size,u=a._datatype,c=o._size,f=o._datatype;if(l.length!==c.length)throw new Xe(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var h=l[0],d=l[1],p,m=0,v=s;typeof u=="string"&&u===f&&(p=u,m=e.convert(0,p),v=e.find(s,[p,p]));var g,b,y=[];for(g=0;g<h;g++)y[g]=[];var w=[],S=[],x=[],C=[];for(b=0;b<d;b++){var A=b+1;for(n(a,b,x,w,A),n(o,b,C,S,A),g=0;g<h;g++){var E=x[g]===A?w[g]:m,D=C[g]===A?S[g]:m;y[g][b]=v(E,D)}}return new r({data:y,size:[h,d],datatype:p})};function n(i,a,o,s,l){for(var u=i._values,c=i._index,f=i._ptr,h=f[a],d=f[a+1];h<d;h++){var p=c[h];o[p]=l,s[p]=u[h]}}}),pC="bitXor",L9=["typed","matrix","DenseMatrix","concat"],_9=_(pC,L9,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i}=t,a=un({typed:e}),o=la({typed:e,DenseMatrix:n}),s=yr({typed:e,DenseMatrix:n}),l=Ot({typed:e,matrix:r,concat:i});return e(pC,{"number, number":rO,"BigNumber, BigNumber":N9},l({SS:o,DS:a,Ss:s}))}),mC="arg",z9=["typed"],U9=_(mC,z9,t=>{var{typed:e}=t;return e(mC,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),gC="conj",q9=["typed"],XO=_(gC,q9,t=>{var{typed:e}=t;return e(gC,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),vC="im",H9=["typed"],V9=_(vC,H9,t=>{var{typed:e}=t;return e(vC,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),yC="re",W9=["typed"],j9=_(yC,W9,t=>{var{typed:e}=t;return e(yC,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),xC="not",G9=["typed"],K9=_(xC,G9,t=>{var{typed:e}=t;return e(xC,{"null | undefined":()=>!0,number:sO,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),bC="or",Y9=["typed","matrix","equalScalar","DenseMatrix","concat"],J9=_(bC,Y9,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=un({typed:e}),s=xm({typed:e,equalScalar:n}),l=yr({typed:e,DenseMatrix:i}),u=Ot({typed:e,matrix:r,concat:a});return e(bC,{"number, number":lO,"Complex, Complex":function(f,h){return f.re!==0||f.im!==0||h.re!==0||h.im!==0},"BigNumber, BigNumber":function(f,h){return!f.isZero()&&!f.isNaN()||!h.isZero()&&!h.isNaN()},"Unit, Unit":e.referToSelf(c=>(f,h)=>c(f.value||0,h.value||0))},u({SS:s,DS:o,Ss:l}))}),wC="xor",Z9=["typed","matrix","DenseMatrix","concat"],X9=_(wC,Z9,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i}=t,a=un({typed:e}),o=la({typed:e,DenseMatrix:n}),s=yr({typed:e,DenseMatrix:n}),l=Ot({typed:e,matrix:r,concat:i});return e(wC,{"number, number":uO,"Complex, Complex":function(c,f){return(c.re!==0||c.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(c,f){return(!c.isZero()&&!c.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(u=>(c,f)=>u(c.value||0,f.value||0))},l({SS:o,DS:a,Ss:s}))}),SC="concat",Q9=["typed","matrix","isInteger"],yx=_(SC,Q9,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(SC,{"...Array | Matrix | number | BigNumber":function(a){var o,s=a.length,l=-1,u,c=!1,f=[];for(o=0;o<s;o++){var h=a[o];if(We(h)&&(c=!0),nt(h)||Qe(h)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=h.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>u)throw new ci(l,u+1)}else{var d=He(h).valueOf(),p=tt(d);if(f[o]=d,u=l,l=p.length-1,o>0&&l!==u)throw new Xe(u+1,l+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var m=f.shift();f.length;)m=QO(m,f.shift(),l,0);return c?r(m):m},"...string":function(a){return a.join("")}})});function QO(t,e,r,n){if(n<r){if(t.length!==e.length)throw new Xe(t.length,e.length);for(var i=[],a=0;a<t.length;a++)i[a]=QO(t[a],e[a],r,n+1);return i}else return t.concat(e)}var CC="column",e7=["typed","Index","matrix","range"],eB=_(CC,e7,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(CC,{"Matrix, number":a,"Array, number":function(s,l){return a(n(He(s)),l).valueOf()}});function a(o,s){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Ct(s,o.size()[1]);var l=i(0,o.size()[0]),u=new r(l,s),c=o.subset(u);return We(c)?c:n([[c]])}}),DC="count",t7=["typed","size","prod"],r7=_(DC,t7,t=>{var{typed:e,size:r,prod:n}=t;return e(DC,{string:function(a){return a.length},"Matrix | Array":function(a){return n(r(a))}})}),AC="cross",n7=["typed","matrix","subtract","multiply"],i7=_(AC,n7,t=>{var{typed:e,matrix:r,subtract:n,multiply:i}=t;return e(AC,{"Matrix, Matrix":function(s,l){return r(a(s.toArray(),l.toArray()))},"Matrix, Array":function(s,l){return r(a(s.toArray(),l))},"Array, Matrix":function(s,l){return r(a(s,l.toArray()))},"Array, Array":a});function a(o,s){var l=Math.max(tt(o).length,tt(s).length);o=Yd(o),s=Yd(s);var u=tt(o),c=tt(s);if(u.length!==1||c.length!==1||u[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(i(o[1],s[2]),i(o[2],s[1])),n(i(o[2],s[0]),i(o[0],s[2])),n(i(o[0],s[1]),i(o[1],s[0]))];return l>1?[f]:f}}),EC="diag",a7=["typed","matrix","DenseMatrix","SparseMatrix"],o7=_(EC,a7,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(EC,{Array:function(u){return a(u,0,tt(u),null)},"Array, number":function(u,c){return a(u,c,tt(u),null)},"Array, BigNumber":function(u,c){return a(u,c.toNumber(),tt(u),null)},"Array, string":function(u,c){return a(u,0,tt(u),c)},"Array, number, string":function(u,c,f){return a(u,c,tt(u),f)},"Array, BigNumber, string":function(u,c,f){return a(u,c.toNumber(),tt(u),f)},Matrix:function(u){return a(u,0,u.size(),u.storage())},"Matrix, number":function(u,c){return a(u,c,u.size(),u.storage())},"Matrix, BigNumber":function(u,c){return a(u,c.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,c){return a(u,0,u.size(),c)},"Matrix, number, string":function(u,c,f){return a(u,c,u.size(),f)},"Matrix, BigNumber, string":function(u,c,f){return a(u,c.toNumber(),u.size(),f)}});function a(l,u,c,f){if(!Ie(u))throw new TypeError("Second parameter in function diag must be an integer");var h=u>0?u:0,d=u<0?-u:0;switch(c.length){case 1:return o(l,u,f,c[0],d,h);case 2:return s(l,u,f,c,d,h)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(l,u,c,f,h,d){var p=[f+h,f+d];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var m=c==="sparse"?i.diagonal(p,l,u):n.diagonal(p,l,u);return c!==null?m:m.valueOf()}function s(l,u,c,f,h,d){if(We(l)){var p=l.diagonal(u);return c!==null?c!==p.storage()?r(p,c):p:p.valueOf()}for(var m=Math.min(f[0]-h,f[1]-d),v=[],g=0;g<m;g++)v[g]=l[g+h][g+d];return c!==null?r(v):v}});function du(t,e,r,n,i){if(is.isTypedFunction(t)){var a=[e,r,n],o=is.resolve(t,a);if(o)return f(o.implementation,a);var s=[e,r],l=is.resolve(t,s);if(l)return f(l.implementation,s);var u=[e],c=is.resolve(t,u);return c?f(c.implementation,u):f(t,a)}else return t(e,r,n);function f(h,d){try{return h.apply(h,d)}catch(v){var p;if(v instanceof TypeError&&((p=v.data)===null||p===void 0?void 0:p.category)==="wrongType"){var m=[];throw m.push("value: ".concat(Et(e))),d.length>=2&&m.push("index: ".concat(Et(r))),d.length>=3&&m.push("array: ".concat(Et(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(t.name,"(").concat(m.join(", "),") at index ").concat(JSON.stringify(r)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(t.name,": ").concat(v.message))}}}var s7="filter",l7=["typed"],u7=_(s7,l7,t=>{var{typed:e}=t;return e("filter",{"Array, function":NC,"Matrix, function":function(n,i){return n.create(NC(n.toArray(),i))},"Array, RegExp":Jd,"Matrix, RegExp":function(n,i){return n.create(Jd(n.toArray(),i))}})});function NC(t,e){return fk(t,function(r,n,i){return du(e,r,[n],i,"filter")})}var MC="flatten",c7=["typed","matrix"],f7=_(MC,c7,t=>{var{typed:e,matrix:r}=t;return e(MC,{Array:function(i){return ft(i)},Matrix:function(i){var a=ft(i.toArray());return r(a)}})}),TC="forEach",h7=["typed"],d7=_(TC,h7,t=>{var{typed:e}=t;return e(TC,{"Array, function":p7,"Matrix, function":function(n,i){n.forEach(i)}})});function p7(t,e){var r=function n(i,a){if(Array.isArray(i))hm(i,function(o,s){n(o,a.concat(s))});else return du(e,i,a,t,"forEach")};r(t,[])}var kC="getMatrixDataType",m7=["typed"],g7=_(kC,m7,t=>{var{typed:e}=t;return e(kC,{Array:function(n){return Rc(n,Et)},Matrix:function(n){return n.getDataType()}})}),OC="identity",v7=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],tB=_(OC,v7,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=t;return e(OC,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return l(c,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return l(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return l(c,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,h){return l(c,f,h)},Array:function(c){return s(c)},"Array, string":function(c,f){return s(c,f)},Matrix:function(c){return s(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return s(c.valueOf(),f)}});function s(u,c){switch(u.length){case 0:return c?n(c):[];case 1:return l(u[0],u[0],c);case 2:return l(u[0],u[1],c);default:throw new Error("Vector containing two values expected")}}function l(u,c,f){var h=Qe(u)||Qe(c)?i:null;if(Qe(u)&&(u=u.toNumber()),Qe(c)&&(c=c.toNumber()),!Ie(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!Ie(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var d=h?new i(1):1,p=h?new h(0):0,m=[u,c];if(f){if(f==="sparse")return o.diagonal(m,d,0,p);if(f==="dense")return a.diagonal(m,d,0,p);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var v=_l([],m,p),g=u<c?u:c,b=0;b<g;b++)v[b][b]=d;return v}}),BC="kron",y7=["typed","matrix","multiplyScalar"],x7=_(BC,y7,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(BC,{"Matrix, Matrix":function(o,s){return r(i(o.toArray(),s.toArray()))},"Matrix, Array":function(o,s){return r(i(o.toArray(),s))},"Array, Matrix":function(o,s){return r(i(o,s.toArray()))},"Array, Array":i});function i(a,o){if(tt(a).length===1&&(a=[a]),tt(o).length===1&&(o=[o]),tt(a).length>2||tt(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var s=[],l=[];return a.map(function(u){return o.map(function(c){return l=[],s.push(l),u.map(function(f){return c.map(function(h){return l.push(n(f,h))})})})})&&s}}),FC="map",b7=["typed"],w7=_(FC,b7,t=>{var{typed:e}=t;return e(FC,{"Array, function":S7,"Matrix, function":function(n,i){return n.map(i)}})});function S7(t,e){var r=function n(i,a){return Array.isArray(i)?i.map(function(o,s){return n(o,a.concat(s))}):du(e,i,a,t,"map")};return r(t,[])}var $C="diff",C7=["typed","matrix","subtract","number"],rB=_($C,C7,t=>{var{typed:e,matrix:r,subtract:n,number:i}=t;return e($C,{"Array | Matrix":function(c){return We(c)?r(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,f){if(!Ie(f))throw new RangeError("Dimension must be a whole number");return We(c)?r(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":e.referTo("Array,number",u=>(c,f)=>u(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(c,f)=>u(c,i(f)))});function a(u,c){if(We(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return u.forEach(h=>{f.push(a(h,c-1))}),f}else{if(c===0)return o(u);throw RangeError("Cannot have negative dimension")}}function o(u){for(var c=[],f=u.length,h=1;h<f;h++)c.push(s(u[h-1],u[h]));return c}function s(u,c){We(u)&&(u=u.toArray()),We(c)&&(c=c.toArray());var f=Array.isArray(u),h=Array.isArray(c);if(f&&h)return l(u,c);if(!f&&!h)return n(c,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,c){if(u.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],h=u.length,d=0;d<h;d++)f.push(s(u[d],c[d]));return f}}),D7="ones",A7=["typed","config","matrix","BigNumber"],E7=_(D7,A7,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("ones",{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return a(u,f)}else return r.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=o(l),f=c?new i(1):1;if(s(l),u){var h=n(u);return l.length>0?h.resize(l,f):h}else{var d=[];return l.length>0?_l(d,l,f):d}}function o(l){var u=!1;return l.forEach(function(c,f,h){Qe(c)&&(u=!0,h[f]=c.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!Ie(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function xx(){throw new Error('No "bignumber" implementation available')}function nB(){throw new Error('No "fraction" implementation available')}function iB(){throw new Error('No "matrix" implementation available')}var RC="range",N7=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],aB=_(RC,N7,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l}=t;return e(RC,{string:c,"string, boolean":c,"number, number":function(g,b){return u(f(g,b,1))},"number, number, number":function(g,b,y){return u(f(g,b,y))},"number, number, boolean":function(g,b,y){return u(y?h(g,b,1):f(g,b,1))},"number, number, number, boolean":function(g,b,y,w){return u(w?h(g,b,y):f(g,b,y))},"BigNumber, BigNumber":function(g,b){var y=g.constructor;return u(d(g,b,new y(1)))},"BigNumber, BigNumber, BigNumber":function(g,b,y){return u(d(g,b,y))},"BigNumber, BigNumber, boolean":function(g,b,y){var w=g.constructor;return u(y?p(g,b,new w(1)):d(g,b,new w(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(g,b,y,w){return u(w?p(g,b,y):d(g,b,y))}});function u(v){return r.matrix==="Matrix"?n?n(v):iB():v}function c(v,g){var b=m(v);if(!b)throw new SyntaxError('String "'+v+'" is no valid range');var y;return r.number==="BigNumber"?(i===void 0&&xx(),y=g?p:d,u(y(i(b.start),i(b.end),i(b.step)))):(y=g?h:f,u(y(b.start,b.end,b.step)))}function f(v,g,b){var y=[],w=v;if(b>0)for(;a(w,g);)y.push(w),w+=b;else if(b<0)for(;s(w,g);)y.push(w),w+=b;return y}function h(v,g,b){var y=[],w=v;if(b>0)for(;o(w,g);)y.push(w),w+=b;else if(b<0)for(;l(w,g);)y.push(w),w+=b;return y}function d(v,g,b){var y=i(0),w=[],S=v;if(b.gt(y))for(;a(S,g);)w.push(S),S=S.plus(b);else if(b.lt(y))for(;s(S,g);)w.push(S),S=S.plus(b);return w}function p(v,g,b){var y=i(0),w=[],S=v;if(b.gt(y))for(;o(S,g);)w.push(S),S=S.plus(b);else if(b.lt(y))for(;l(S,g);)w.push(S),S=S.plus(b);return w}function m(v){var g=v.split(":"),b=g.map(function(w){return Number(w)}),y=b.some(function(w){return isNaN(w)});if(y)return null;switch(b.length){case 2:return{start:b[0],end:b[1],step:1};case 3:return{start:b[0],end:b[2],step:b[1]};default:return null}}}),PC="reshape",M7=["typed","isInteger","matrix"],T7=_(PC,M7,t=>{var{typed:e,isInteger:r}=t;return e(PC,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!r(o))throw new TypeError("Invalid size for dimension: "+o)}),ok(i,a)}})}),k7="resize",O7=["config","matrix"],B7=_(k7,O7,t=>{var{config:e,matrix:r}=t;return function(a,o,s){if(arguments.length!==2&&arguments.length!==3)throw new Ua("resize",arguments.length,2,3);if(We(o)&&(o=o.valueOf()),Qe(o[0])&&(o=o.map(function(c){return Qe(c)?c.toNumber():c})),We(a))return a.resize(o,s,!0);if(typeof a=="string")return n(a,o,s);var l=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return He(a)}else{Array.isArray(a)||(a=[a]),a=He(a);var u=_l(a,o,s);return l?r(u):u}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new Xe(a.length,1);var s=a[0];if(typeof s!="number"||!Ie(s))throw new TypeError("Invalid size, must contain positive integers (size: "+Ze(a)+")");if(i.length>s)return i.substring(0,s);if(i.length<s){for(var l=i,u=0,c=s-i.length;u<c;u++)l+=o;return l}else return i}}),IC="rotate",F7=["typed","multiply","rotationMatrix"],$7=_(IC,F7,t=>{var{typed:e,multiply:r,rotationMatrix:n}=t;return e(IC,{"Array , number | BigNumber | Complex | Unit":function(o,s){i(o,2);var l=r(n(s),o);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,s){return i(o,2),r(n(s),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){i(o,3);var u=r(n(s,l),o);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){return i(o,3),r(n(s,l),o)}});function i(a,o){var s=Array.isArray(a)?tt(a):a.size();if(s.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s.length===2&&s[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),LC="rotationMatrix",R7=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],P7=_(LC,R7,t=>{var{typed:e,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:s,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:f,sin:h}=t;return e(LC,{"":function(){return r.matrix==="Matrix"?l([]):[]},string:function(y){return l(y)},"number | BigNumber | Complex | Unit":function(y){return d(y,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(y,w){return d(y,w)},"number | BigNumber | Complex | Unit, Array":function(y,w){var S=l(w);return p(S),g(y,S,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(y,w){p(w);var S=w.storage()||(r.matrix==="Matrix"?"dense":void 0);return g(y,w,S)},"number | BigNumber | Complex | Unit, Array, string":function(y,w,S){var x=l(w);return p(x),g(y,x,S)},"number | BigNumber | Complex | Unit, Matrix, string":function(y,w,S){return p(w),g(y,w,S)}});function d(b,y){var w=Qe(b),S=w?new s(-1):-1,x=f(b),C=h(b),A=[[x,n(S,C)],[C,x]];return v(A,y)}function p(b){var y=b.size();if(y.length<1||y[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function m(b){return b.reduce((y,w)=>n(y,w))}function v(b,y){if(y){if(y==="sparse")return new c(b);if(y==="dense")return new u(b);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}return b}function g(b,y,w){var S=o(y);if(S===0)throw new RangeError("Rotation around zero vector");var x=Qe(b)?s:null,C=x?new x(1):1,A=x?new x(-1):-1,E=x?new x(y.get([0])/S):y.get([0])/S,D=x?new x(y.get([1])/S):y.get([1])/S,M=x?new x(y.get([2])/S):y.get([2])/S,k=f(b),$=i(C,a(k)),I=h(b),F=i(k,m([E,E,$])),N=i(m([E,D,$]),m([A,M,I])),T=i(m([E,M,$]),m([D,I])),R=i(m([E,D,$]),m([M,I])),O=i(k,m([D,D,$])),P=i(m([D,M,$]),m([A,E,I])),V=i(m([E,M,$]),m([A,D,I])),W=i(m([D,M,$]),m([E,I])),L=i(k,m([M,M,$])),G=[[F,N,T],[R,O,P],[V,W,L]];return v(G,w)}}),_C="row",I7=["typed","Index","matrix","range"],oB=_(_C,I7,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(_C,{"Matrix, number":a,"Array, number":function(s,l){return a(n(He(s)),l).valueOf()}});function a(o,s){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Ct(s,o.size()[0]);var l=i(0,o.size()[1]),u=new r(s,l),c=o.subset(u);return We(c)?c:n([[c]])}}),zC="size",L7=["typed","config","?matrix"],sB=_(zC,L7,t=>{var{typed:e,config:r,matrix:n}=t;return e(zC,{Matrix:function(a){return a.create(a.size())},Array:tt,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([]):iB()}})}),UC="squeeze",_7=["typed","matrix"],z7=_(UC,_7,t=>{var{typed:e,matrix:r}=t;return e(UC,{Array:function(i){return Yd(He(i))},Matrix:function(i){var a=Yd(i.toArray());return Array.isArray(a)?r(a):a},any:function(i){return He(i)}})}),qC="subset",U7=["typed","matrix"],lB=_(qC,U7,t=>{var{typed:e,matrix:r}=t;return e(qC,{"Array, Index":function(i,a){var o=r(i),s=o.subset(a);return a.isScalar()?s:s.valueOf()},"Matrix, Index":function(i,a){return i.subset(a)},"Object, Index":H7,"string, Index":q7,"Array, Index, any":function(i,a,o){return r(He(i)).subset(a,o,void 0).valueOf()},"Array, Index, any, any":function(i,a,o,s){return r(He(i)).subset(a,o,s).valueOf()},"Matrix, Index, any":function(i,a,o){return i.clone().subset(a,o)},"Matrix, Index, any, any":function(i,a,o,s){return i.clone().subset(a,o,s)},"string, Index, string":HC,"string, Index, string, string":HC,"Object, Index, any":V7})});function q7(t,e){if(!uf(e))throw new TypeError("Index expected");if(e.size().length!==1)throw new Xe(e.size().length,1);var r=t.length;Ct(e.min()[0],r),Ct(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(a){i+=t.charAt(a)}),i}function HC(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(e.size().length!==1)throw new Xe(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==r.length)throw new Xe(i.size()[0],r.length);var o=t.length;Ct(e.min()[0]),Ct(e.max()[0]);for(var s=[],l=0;l<o;l++)s[l]=t.charAt(l);if(i.forEach(function(f,h){s[f]=r.charAt(h[0])}),s.length>o)for(var u=o-1,c=s.length;u<c;u++)s[u]||(s[u]=n);return s.join("")}function H7(t,e){if(e.size().length!==1)throw new Xe(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return si(t,r)}function V7(t,e,r){if(e.size().length!==1)throw new Xe(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=He(t);return Ul(i,n,r),i}var VC="transpose",W7=["typed","matrix"],j7=_(VC,W7,t=>{var{typed:e,matrix:r}=t;return e(VC,{Array:o=>n(r(o)).valueOf(),Matrix:n,any:He});function n(o){var s=o.size(),l;switch(s.length){case 1:l=o.clone();break;case 2:{var u=s[0],c=s[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Ze(s)+")");switch(o.storage()){case"dense":l=i(o,u,c);break;case"sparse":l=a(o,u,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Ze(s)+")")}return l}function i(o,s,l){for(var u=o._data,c=[],f,h=0;h<l;h++){f=c[h]=[];for(var d=0;d<s;d++)f[d]=He(u[d][h])}return o.createDenseMatrix({data:c,size:[l,s],datatype:o._datatype})}function a(o,s,l){for(var u=o._values,c=o._index,f=o._ptr,h=u?[]:void 0,d=[],p=[],m=[],v=0;v<s;v++)m[v]=0;var g,b,y;for(g=0,b=c.length;g<b;g++)m[c[g]]++;for(var w=0,S=0;S<s;S++)p.push(w),w+=m[S],m[S]=p[S];for(p.push(w),y=0;y<l;y++)for(var x=f[y],C=f[y+1],A=x;A<C;A++){var E=m[c[A]]++;d[E]=y,u&&(h[E]=He(u[A]))}return o.createSparseMatrix({values:h,index:d,ptr:p,size:[l,s],datatype:o._datatype})}}),WC="ctranspose",G7=["typed","transpose","conj"],K7=_(WC,G7,t=>{var{typed:e,transpose:r,conj:n}=t;return e(WC,{any:function(a){return n(r(a))}})}),jC="zeros",Y7=["typed","config","matrix","BigNumber"],uB=_(jC,Y7,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(jC,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return a(u,f)}else return r.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var c=u.storage();return a(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return a(u.valueOf(),c)}});function a(l,u){var c=o(l),f=c?new i(0):0;if(s(l),u){var h=n(u);return l.length>0?h.resize(l,f):h}else{var d=[];return l.length>0?_l(d,l,f):d}}function o(l){var u=!1;return l.forEach(function(c,f,h){Qe(c)&&(u=!0,h[f]=c.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!Ie(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),GC="fft",J7=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],Z7=_(GC,J7,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:s,i:l,dotDivide:u,conj:c,pow:f,ceil:h,log2:d}=t;return e(GC,{Array:p,Matrix:function(y){return y.create(p(y.toArray()))}});function p(b){var y=tt(b);return y.length===1?g(b,y[0]):m(b.map(w=>p(w,y.slice(1))),0)}function m(b,y){var w=tt(b);if(y!==0)return new Array(w[0]).fill(0).map((x,C)=>m(b[C],y-1));if(w.length===1)return g(b);function S(x){var C=tt(x);return new Array(C[1]).fill(0).map((A,E)=>new Array(C[0]).fill(0).map((D,M)=>x[M][E]))}return S(m(S(b),1))}function v(b){for(var y=b.length,w=o(a(i(-1,i(l,s)),y)),S=[],x=1-y;x<y;x++)S.push(f(w,a(f(x,2),2)));for(var C=f(2,h(d(y+y-1))),A=[...new Array(y).fill(0).map((N,T)=>i(b[T],S[y-1+T])),...new Array(C-y).fill(0)],E=[...new Array(y+y-1).fill(0).map((N,T)=>a(1,S[T])),...new Array(C-(y+y-1)).fill(0)],D=g(A),M=g(E),k=new Array(C).fill(0).map((N,T)=>i(D[T],M[T])),$=u(c(p(c(k))),C),I=[],F=y-1;F<y+y-1;F++)I.push(i($[F],S[F]));return I}function g(b){var y=b.length;if(y===1)return[b[0]];if(y%2===0){for(var w=[...g(b.filter((A,E)=>E%2===0)),...g(b.filter((A,E)=>E%2===1))],S=0;S<y/2;S++){var x=w[S],C=i(w[S+y/2],o(i(i(s,l),a(-S,y))));w[S]=n(x,C),w[S+y/2]=n(x,i(-1,C))}return w}else return v(b)}}),KC="ifft",X7=["typed","fft","dotDivide","conj"],Q7=_(KC,X7,t=>{var{typed:e,fft:r,dotDivide:n,conj:i}=t;return e(KC,{"Array | Matrix":function(o){var s=We(o)?o.size():tt(o);return n(i(r(i(o))),s.reduce((l,u)=>l*u,1))}})}),ez="erf",tz=["typed"],rz=_(ez,tz,t=>{var{typed:e}=t;return e("name",{number:function(o){var s=Math.abs(o);return s>=az?oo(o):s<=nz?oo(o)*r(s):s<=4?oo(o)*(1-n(s)):oo(o)*(1-i(s))},"Array | Matrix":e.referToSelf(a=>o=>et(o,a))});function r(a){var o=a*a,s=ga[0][4]*o,l=o,u;for(u=0;u<3;u+=1)s=(s+ga[0][u])*o,l=(l+Us[0][u])*o;return a*(s+ga[0][3])/(l+Us[0][3])}function n(a){var o=ga[1][8]*a,s=a,l;for(l=0;l<7;l+=1)o=(o+ga[1][l])*a,s=(s+Us[1][l])*a;var u=(o+ga[1][7])/(s+Us[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*u}function i(a){var o=1/(a*a),s=ga[2][5]*o,l=o,u;for(u=0;u<4;u+=1)s=(s+ga[2][u])*o,l=(l+Us[2][u])*o;var c=o*(s+ga[2][4])/(l+Us[2][4]);c=(iz-c)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*c}}),nz=.46875,iz=.5641895835477563,ga=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Us=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],az=Math.pow(2,53),YC="mode",oz=["typed","isNaN","isNumeric"],sz=_(YC,oz,t=>{var{typed:e,isNaN:r,isNumeric:n}=t;return e(YC,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=ft(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var s={},l=[],u=0,c=0;c<a.length;c++){var f=a[c];if(n(f)&&r(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in s||(s[f]=0),s[f]++,s[f]===u?l.push(f):s[f]>u&&(u=s[f],l=[f])}return l}});function on(t,e,r){var n;return String(t).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+Et(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+Et(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var JC="prod",lz=["typed","config","multiplyScalar","numeric"],uz=_(JC,lz,t=>{var{typed:e,config:r,multiplyScalar:n,numeric:i}=t;return e(JC,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(s,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(s){return a(s)}});function a(o){var s;if(Fa(o,function(l){try{s=s===void 0?l:n(s,l)}catch(u){throw on(u,"prod",l)}}),typeof s=="string"&&(s=i(s,r.number)),s===void 0)throw new Error("Cannot calculate prod of an empty array");return s}}),ZC="format",cz=["typed"],cB=_(ZC,cz,t=>{var{typed:e}=t;return e(ZC,{any:Ze,"any, Object | function | number":Ze})}),XC="bin",fz=["typed","format"],hz=_(XC,fz,t=>{var{typed:e,format:r}=t;return e(XC,{"number | BigNumber":function(i){return r(i,{notation:"bin"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"bin",wordSize:a})}})}),QC="oct",dz=["typed","format"],pz=_(QC,dz,t=>{var{typed:e,format:r}=t;return e(QC,{"number | BigNumber":function(i){return r(i,{notation:"oct"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"oct",wordSize:a})}})}),e2="hex",mz=["typed","format"],gz=_(e2,mz,t=>{var{typed:e,format:r}=t;return e(e2,{"number | BigNumber":function(i){return r(i,{notation:"hex"})},"number | BigNumber, number":function(i,a){return r(i,{notation:"hex",wordSize:a})}})}),t2="print",vz=["typed"],yz=_(t2,vz,t=>{var{typed:e}=t;return e(t2,{"string, Object | Array":r2,"string, Object | Array, number | Object":r2})});function r2(t,e,r){return t.replace(/\$([\w.]+)/g,function(n,i){for(var a=i.split("."),o=e[a.shift()];a.length&&o!==void 0;){var s=a.shift();o=s?o[s]:o+"."}return o!==void 0?Kr(o)?o:Ze(o,r):n})}var n2="to",xz=["typed","matrix","concat"],bz=_(n2,xz,t=>{var{typed:e,matrix:r,concat:n}=t,i=Ot({typed:e,matrix:r,concat:n});return e(n2,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))}),i2="isPrime",wz=["typed"],Sz=_(i2,wz,t=>{var{typed:e}=t;return e(i2,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(b,y,w){for(var S=1;!y.eq(0);)y.mod(2).eq(0)?(y=y.div(2),b=b.mul(b).mod(w)):(y=y.sub(1),S=b.mul(S).mod(w));return S}var s=n.constructor.clone({precision:n.toFixed(0).length*2});n=new s(n);for(var l=0,u=n.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(b=>b<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var h=2;h<=f;h+=1)c.push(f)}for(var d=0;d<c.length;d+=1){var p=c[d],m=o(n.sub(n).add(p),u,n);if(!m.eq(1)){for(var v=0,g=m;!g.eq(n.sub(1));v+=1,g=g.mul(g).mod(n))if(v===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(r=>n=>et(n,r))})}),Cz="numeric",Dz=["number","?bignumber","?fraction"],fB=_(Cz,Dz,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:r?o=>r(o):xx,Fraction:n?o=>n(o):nB};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=Et(s);if(!(c in i))throw new TypeError("Cannot convert "+s+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===c?s:a[l](s)}}),a2="divideScalar",Az=["typed","numeric"],hB=_(a2,Az,t=>{var{typed:e,numeric:r}=t;return e(a2,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),o2="pow",Ez=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],dB=_(o2,Ez,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:a,inv:o,number:s,fraction:l,Complex:u}=t;return e(o2,{"number, number":c,"Complex, Complex":function(p,m){return p.pow(m)},"BigNumber, BigNumber":function(p,m){return m.isInteger()||p>=0||r.predictable?p.pow(m):new u(p.toNumber(),0).pow(m.toNumber(),0)},"Fraction, Fraction":function(p,m){var v=p.pow(m);if(v!=null)return v;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(p.valueOf(),m.valueOf())},"Array, number":f,"Array, BigNumber":function(p,m){return f(p,m.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(p,m){return h(p,m.toNumber())},"Unit, number | BigNumber":function(p,m){return p.pow(m)}});function c(d,p){if(r.predictable&&!Ie(p)&&d<0)try{var m=l(p),v=s(m);if((p===v||Math.abs((p-v)/p)<1e-14)&&m.d%2===1)return(m.n%2===0?1:-1)*Math.pow(-d,p)}catch{}return r.predictable&&(d<-1&&p===1/0||d>-1&&d<0&&p===-1/0)?NaN:Ie(p)||d>=0||r.predictable?Xk(d,p):d*d<1&&p===1/0||d*d>1&&p===-1/0?0:new u(d,0).pow(p,0)}function f(d,p){if(!Ie(p))throw new TypeError("For A^b, b must be an integer (value is "+p+")");var m=tt(d);if(m.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+m.length+" dimensions)");if(m[0]!==m[1])throw new Error("For A^b, A must be square (size is "+m[0]+"x"+m[1]+")");if(p<0)try{return f(o(d),-p)}catch(b){throw b.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+p+")"):b}for(var v=n(m[0]).valueOf(),g=d;p>=1;)(p&1)===1&&(v=i(g,v)),p>>=1,g=i(g,g);return v}function h(d,p){return a(f(d.valueOf(),p))}}),qs="Number of decimals in function round must be an integer",s2="round",Nz=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],pB=_(s2,Nz,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,BigNumber:a,DenseMatrix:o}=t,s=Ir({typed:e,equalScalar:n}),l=yr({typed:e,DenseMatrix:o}),u=Oi({typed:e});return e(s2,{number:ES,"number, number":ES,"number, BigNumber":function(f,h){if(!h.isInteger())throw new TypeError(qs);return new a(f).toDecimalPlaces(h.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,h){if(h%1)throw new TypeError(qs);return f.round(h)},"Complex, BigNumber":function(f,h){if(!h.isInteger())throw new TypeError(qs);var d=h.toNumber();return f.round(d)},BigNumber:function(f){return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,h){if(!h.isInteger())throw new TypeError(qs);return f.toDecimalPlaces(h.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,h){if(h%1)throw new TypeError(qs);return f.round(h)},"Fraction, BigNumber":function(f,h){if(!h.isInteger())throw new TypeError(qs);return f.round(h.toNumber())},"Array | Matrix":e.referToSelf(c=>f=>et(f,c)),"SparseMatrix, number | BigNumber":e.referToSelf(c=>(f,h)=>s(f,h,c,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(c=>(f,h)=>u(f,h,c,!1)),"Array, number | BigNumber":e.referToSelf(c=>(f,h)=>u(r(f),h,c,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(c=>(f,h)=>n(f,0)?i(h.size(),h.storage()):l(h,f,c,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(c=>(f,h)=>n(f,0)?i(h.size(),h.storage()):u(h,f,c,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(c=>(f,h)=>u(r(h),f,c,!0).valueOf())})}),l2="log",Mz=["config","typed","divideScalar","Complex"],Tz=_(l2,Mz,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t;return e(l2,{number:function(o){return o>=0||r.predictable?n6(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||r.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,s)=>n(a(o),a(s)))})}),u2="log1p",kz=["typed","config","divideScalar","log","Complex"],Oz=_(u2,kz,t=>{var{typed:e,config:r,divideScalar:n,log:i,Complex:a}=t;return e(u2,{number:function(l){return l>=-1||r.predictable?h8(l):o(new a(l,0))},Complex:o,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||r.predictable?u.ln():o(new a(l.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>l=>et(l,s)),"any, any":e.referToSelf(s=>(l,u)=>n(s(l),i(u)))});function o(s){var l=s.re+1;return new a(Math.log(Math.sqrt(l*l+s.im*s.im)),Math.atan2(s.im,l))}}),c2="nthRoots",Bz=["config","typed","divideScalar","Complex"],Fz=_(c2,Bz,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t,a=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(s,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(s===0||s.abs()===0)return[new i(0,0)];var u=typeof s=="number",c;(u||s.re===0||s.im===0)&&(u?c=2*+(s<0):s.im===0?c=2*+(s.re<0):c=2*+(s.im<0)+1);for(var f=s.arg(),h=s.abs(),d=[],p=Math.pow(h,1/l),m=0;m<l;m++){var v=(c+4*m)/l;if(v===Math.round(v)){d.push(a[v%4](p));continue}d.push(new i({r:p,phi:(f+2*Math.PI*m)/l}))}return d}return e(c2,{Complex:function(l){return o(l,2)},"Complex, number":o})}),f2="dotPow",$z=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],Rz=_(f2,$z,t=>{var{typed:e,equalScalar:r,matrix:n,pow:i,DenseMatrix:a,concat:o}=t,s=un({typed:e}),l=la({typed:e,DenseMatrix:a}),u=Ir({typed:e,equalScalar:r}),c=yr({typed:e,DenseMatrix:a}),f=Ot({typed:e,matrix:n,concat:o}),h={};for(var d in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,d)&&!d.includes("Matrix")&&!d.includes("Array")&&(h[d]=i.signatures[d]);var p=e(h);return e(f2,f({elop:p,SS:l,DS:s,Ss:u,sS:c}))}),h2="dotDivide",Pz=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],Iz=_(h2,Pz,t=>{var{typed:e,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=t,s=Bi({typed:e,equalScalar:n}),l=un({typed:e}),u=la({typed:e,DenseMatrix:a}),c=Ir({typed:e,equalScalar:n}),f=yr({typed:e,DenseMatrix:a}),h=Ot({typed:e,matrix:r,concat:o});return e(h2,h({elop:i,SS:u,DS:l,SD:s,Ss:c,sS:f}))});function hf(t){var{DenseMatrix:e}=t;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Ze(o)+")");var s=o[0],l=o[1];if(s!==l)throw new RangeError("Matrix must be square (size: "+Ze(o)+")");var u=[];if(We(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var h=0;h<s;h++)u[h]=[f[h]];return new e({data:u,size:[s,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==s||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Fc(i)){if(a){u=[];for(var d=0;d<s;d++)u[d]=[f[d][0]];return new e({data:u,size:[s,1],datatype:i._datatype})}return i}if(ao(i)){for(var p=0;p<s;p++)u[p]=[0];for(var m=i._values,v=i._index,g=i._ptr,b=g[1],y=g[0];y<b;y++){var w=v[y];u[w][0]=m[y]}return new e({data:u,size:[s,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(yt(i)){var S=tt(i);if(S.length===1){if(S[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<s;x++)u[x]=[i[x]];return new e({data:u,size:[s,1]})}if(S.length===2){if(S[0]!==s||S[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<s;C++)u[C]=[i[C][0]];return new e({data:u,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var d2="lsolve",Lz=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],_z=_(d2,Lz,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:s}=t,l=hf({DenseMatrix:s});return e(d2,{"SparseMatrix, Array | Matrix":function(h,d){return c(h,d)},"DenseMatrix, Array | Matrix":function(h,d){return u(h,d)},"Array, Array | Matrix":function(h,d){var p=r(h),m=u(p,d);return m.valueOf()}});function u(f,h){h=l(f,h,!0);for(var d=h._data,p=f._size[0],m=f._size[1],v=[],g=f._data,b=0;b<m;b++){var y=d[b][0]||0,w=void 0;if(o(y,0))w=0;else{var S=g[b][b];if(o(S,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(y,S);for(var x=b+1;x<p;x++)d[x]=[a(d[x][0]||0,i(w,g[x][b]))]}v[b]=[w]}return new s({data:v,size:[p,1]})}function c(f,h){h=l(f,h,!0);for(var d=h._data,p=f._size[0],m=f._size[1],v=f._values,g=f._index,b=f._ptr,y=[],w=0;w<m;w++){var S=d[w][0]||0;if(o(S,0))y[w]=[0];else{for(var x=0,C=[],A=[],E=b[w],D=b[w+1],M=E;M<D;M++){var k=g[M];k===w?x=v[M]:k>w&&(C.push(v[M]),A.push(k))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var $=n(S,x),I=0,F=A.length;I<F;I++){var N=A[I];d[N]=[a(d[N][0]||0,i($,C[I]))]}y[w]=[$]}}return new s({data:y,size:[p,1]})}}),p2="usolve",zz=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Uz=_(p2,zz,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:s}=t,l=hf({DenseMatrix:s});return e(p2,{"SparseMatrix, Array | Matrix":function(h,d){return c(h,d)},"DenseMatrix, Array | Matrix":function(h,d){return u(h,d)},"Array, Array | Matrix":function(h,d){var p=r(h),m=u(p,d);return m.valueOf()}});function u(f,h){h=l(f,h,!0);for(var d=h._data,p=f._size[0],m=f._size[1],v=[],g=f._data,b=m-1;b>=0;b--){var y=d[b][0]||0,w=void 0;if(o(y,0))w=0;else{var S=g[b][b];if(o(S,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(y,S);for(var x=b-1;x>=0;x--)d[x]=[a(d[x][0]||0,i(w,g[x][b]))]}v[b]=[w]}return new s({data:v,size:[p,1]})}function c(f,h){h=l(f,h,!0);for(var d=h._data,p=f._size[0],m=f._size[1],v=f._values,g=f._index,b=f._ptr,y=[],w=m-1;w>=0;w--){var S=d[w][0]||0;if(o(S,0))y[w]=[0];else{for(var x=0,C=[],A=[],E=b[w],D=b[w+1],M=D-1;M>=E;M--){var k=g[M];k===w?x=v[M]:k<w&&(C.push(v[M]),A.push(k))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var $=n(S,x),I=0,F=A.length;I<F;I++){var N=A[I];d[N]=[a(d[N][0],i($,C[I]))]}y[w]=[$]}}return new s({data:y,size:[p,1]})}}),m2="lsolveAll",qz=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Hz=_(m2,qz,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:s}=t,l=hf({DenseMatrix:s});return e(m2,{"SparseMatrix, Array | Matrix":function(h,d){return c(h,d)},"DenseMatrix, Array | Matrix":function(h,d){return u(h,d)},"Array, Array | Matrix":function(h,d){var p=r(h),m=u(p,d);return m.map(v=>v.valueOf())}});function u(f,h){for(var d=[l(f,h,!0)._data.map(A=>A[0])],p=f._data,m=f._size[0],v=f._size[1],g=0;g<v;g++)for(var b=d.length,y=0;y<b;y++){var w=d[y];if(o(p[g][g],0))if(o(w[g],0)){if(y===0){var x=[...w];x[g]=1;for(var C=g+1;C<v;C++)x[C]=a(x[C],p[C][g]);d.push(x)}}else{if(y===0)return[];d.splice(y,1),y-=1,b-=1}else{w[g]=n(w[g],p[g][g]);for(var S=g+1;S<v;S++)w[S]=a(w[S],i(w[g],p[S][g]))}}return d.map(A=>new s({data:A.map(E=>[E]),size:[m,1]}))}function c(f,h){for(var d=[l(f,h,!0)._data.map(V=>V[0])],p=f._size[0],m=f._size[1],v=f._values,g=f._index,b=f._ptr,y=0;y<m;y++)for(var w=d.length,S=0;S<w;S++){for(var x=d[S],C=[],A=[],E=b[y],D=b[y+1],M=0,k=E;k<D;k++){var $=g[k];$===y?M=v[k]:$>y&&(C.push(v[k]),A.push($))}if(o(M,0))if(o(x[y],0)){if(S===0){var T=[...x];T[y]=1;for(var R=0,O=A.length;R<O;R++){var P=A[R];T[P]=a(T[P],C[R])}d.push(T)}}else{if(S===0)return[];d.splice(S,1),S-=1,w-=1}else{x[y]=n(x[y],M);for(var I=0,F=A.length;I<F;I++){var N=A[I];x[N]=a(x[N],i(x[y],C[I]))}}}return d.map(V=>new s({data:V.map(W=>[W]),size:[p,1]}))}}),g2="usolveAll",Vz=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Wz=_(g2,Vz,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:s}=t,l=hf({DenseMatrix:s});return e(g2,{"SparseMatrix, Array | Matrix":function(h,d){return c(h,d)},"DenseMatrix, Array | Matrix":function(h,d){return u(h,d)},"Array, Array | Matrix":function(h,d){var p=r(h),m=u(p,d);return m.map(v=>v.valueOf())}});function u(f,h){for(var d=[l(f,h,!0)._data.map(A=>A[0])],p=f._data,m=f._size[0],v=f._size[1],g=v-1;g>=0;g--)for(var b=d.length,y=0;y<b;y++){var w=d[y];if(o(p[g][g],0))if(o(w[g],0)){if(y===0){var x=[...w];x[g]=1;for(var C=g-1;C>=0;C--)x[C]=a(x[C],p[C][g]);d.push(x)}}else{if(y===0)return[];d.splice(y,1),y-=1,b-=1}else{w[g]=n(w[g],p[g][g]);for(var S=g-1;S>=0;S--)w[S]=a(w[S],i(w[g],p[S][g]))}}return d.map(A=>new s({data:A.map(E=>[E]),size:[m,1]}))}function c(f,h){for(var d=[l(f,h,!0)._data.map(V=>V[0])],p=f._size[0],m=f._size[1],v=f._values,g=f._index,b=f._ptr,y=m-1;y>=0;y--)for(var w=d.length,S=0;S<w;S++){for(var x=d[S],C=[],A=[],E=b[y],D=b[y+1],M=0,k=D-1;k>=E;k--){var $=g[k];$===y?M=v[k]:$<y&&(C.push(v[k]),A.push($))}if(o(M,0))if(o(x[y],0)){if(S===0){var T=[...x];T[y]=1;for(var R=0,O=A.length;R<O;R++){var P=A[R];T[P]=a(T[P],C[R])}d.push(T)}}else{if(S===0)return[];d.splice(S,1),S-=1,w-=1}else{x[y]=n(x[y],M);for(var I=0,F=A.length;I<F;I++){var N=A[I];x[N]=a(x[N],i(x[y],C[I]))}}}return d.map(V=>new s({data:V.map(W=>[W]),size:[p,1]}))}}),jz="matAlgo08xS0Sid",Gz=["typed","equalScalar"],bx=_(jz,Gz,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype,h=a._values,d=a._index,p=a._ptr,m=a._size,v=a._datatype;if(c.length!==m.length)throw new Xe(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!s||!h)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var g=c[0],b=c[1],y,w=r,S=0,x=o;typeof f=="string"&&f===v&&(y=f,w=e.find(r,[y,y]),S=e.convert(0,y),x=e.find(o,[y,y]));for(var C=[],A=[],E=[],D=[],M=[],k,$,I,F,N=0;N<b;N++){E[N]=A.length;var T=N+1;for($=u[N],I=u[N+1],k=$;k<I;k++)F=l[k],M[F]=T,D[F]=s[k],A.push(F);for($=p[N],I=p[N+1],k=$;k<I;k++)F=d[k],M[F]===T&&(D[F]=x(D[F],h[k]));for(k=E[N];k<A.length;){F=A[k];var R=D[F];w(R,S)?A.splice(k,1):(C.push(R),k++)}}return E[b]=A.length,i.createSparseMatrix({values:C,index:A,ptr:E,size:[g,b],datatype:y})}}),wx=_("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:r}=t;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(r(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(r(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf())}}),v2="leftShift",Kz=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Yz=_(v2,Kz,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,s=Io({typed:e}),l=Bi({typed:e,equalScalar:n}),u=bx({typed:e,equalScalar:n}),c=Os({typed:e,DenseMatrix:a}),f=Ir({typed:e,equalScalar:n}),h=Oi({typed:e}),d=Ot({typed:e,matrix:r,concat:o}),p=wx({typed:e,matrix:r});return e(v2,{"number, number":nO,"BigNumber, BigNumber":M9,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>n(g,0)?v.clone():f(v,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>n(g,0)?v.clone():h(v,g,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(v,g)=>n(v,0)?i(g.size(),g.storage()):c(g,v,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(v,g)=>n(v,0)?i(g.size(),g.storage()):h(g,v,m,!0))},p,d({SS:u,DS:s,SD:l}))}),y2="rightArithShift",Jz=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Zz=_(y2,Jz,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,s=Io({typed:e}),l=Bi({typed:e,equalScalar:n}),u=bx({typed:e,equalScalar:n}),c=Os({typed:e,DenseMatrix:a}),f=Ir({typed:e,equalScalar:n}),h=Oi({typed:e}),d=Ot({typed:e,matrix:r,concat:o}),p=wx({typed:e,matrix:r});return e(y2,{"number, number":iO,"BigNumber, BigNumber":T9,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>n(g,0)?v.clone():f(v,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>n(g,0)?v.clone():h(v,g,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(v,g)=>n(v,0)?i(g.size(),g.storage()):c(g,v,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(v,g)=>n(v,0)?i(g.size(),g.storage()):h(g,v,m,!0))},p,d({SS:u,DS:s,SD:l}))}),x2="rightLogShift",Xz=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Qz=_(x2,Xz,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,s=Io({typed:e}),l=Bi({typed:e,equalScalar:n}),u=bx({typed:e,equalScalar:n}),c=Os({typed:e,DenseMatrix:a}),f=Ir({typed:e,equalScalar:n}),h=Oi({typed:e}),d=Ot({typed:e,matrix:r,concat:o}),p=wx({typed:e,matrix:r});return e(x2,{"number, number":aO,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>n(g,0)?v.clone():f(v,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>n(g,0)?v.clone():h(v,g,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(v,g)=>n(v,0)?i(g.size(),g.storage()):c(g,v,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(v,g)=>n(v,0)?i(g.size(),g.storage()):h(g,v,m,!0))},p,d({SS:u,DS:s,SD:l}))}),b2="and",eU=["typed","matrix","equalScalar","zeros","not","concat"],tU=_(b2,eU,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,s=Bi({typed:e,equalScalar:n}),l=ym({typed:e,equalScalar:n}),u=Ir({typed:e,equalScalar:n}),c=Oi({typed:e}),f=Ot({typed:e,matrix:r,concat:o});return e(b2,{"number, number":cO,"Complex, Complex":function(d,p){return(d.re!==0||d.im!==0)&&(p.re!==0||p.im!==0)},"BigNumber, BigNumber":function(d,p){return!d.isZero()&&!p.isZero()&&!d.isNaN()&&!p.isNaN()},"Unit, Unit":e.referToSelf(h=>(d,p)=>h(d.value||0,p.value||0)),"SparseMatrix, any":e.referToSelf(h=>(d,p)=>a(p)?i(d.size(),d.storage()):u(d,p,h,!1)),"DenseMatrix, any":e.referToSelf(h=>(d,p)=>a(p)?i(d.size(),d.storage()):c(d,p,h,!1)),"any, SparseMatrix":e.referToSelf(h=>(d,p)=>a(d)?i(d.size(),d.storage()):u(p,d,h,!0)),"any, DenseMatrix":e.referToSelf(h=>(d,p)=>a(d)?i(d.size(),d.storage()):c(p,d,h,!0)),"Array, any":e.referToSelf(h=>(d,p)=>h(r(d),p).valueOf()),"any, Array":e.referToSelf(h=>(d,p)=>h(d,r(p)).valueOf())},f({SS:l,DS:s}))}),op="compare",rU=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],nU=_(op,rU,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:s,concat:l}=t,u=un({typed:e}),c=xm({typed:e,equalScalar:n}),f=yr({typed:e,DenseMatrix:s}),h=Ot({typed:e,matrix:i,concat:l}),d=hu({typed:e});return e(op,iU({typed:e,config:r}),{"boolean, boolean":function(m,v){return m===v?0:m>v?1:-1},"BigNumber, BigNumber":function(m,v){return aa(m,v,r.epsilon)?new a(0):new a(m.cmp(v))},"Fraction, Fraction":function(m,v){return new o(m.compare(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,h({SS:c,DS:u,Ss:f}))}),iU=_(op,["typed","config"],t=>{var{typed:e,config:r}=t;return e(op,{"number, number":function(i,a){return Un(i,a,r.epsilon)?0:i>a?1:-1}})}),aU=function t(e,r){var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,s=/^0/,l=function(y){return t.insensitive&&(""+y).toLowerCase()||""+y},u=l(e).replace(i,"")||"",c=l(r).replace(i,"")||"",f=u.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=parseInt(u.match(o),16)||f.length!==1&&u.match(a)&&Date.parse(u),p=parseInt(c.match(o),16)||d&&c.match(a)&&Date.parse(c)||null,m,v;if(p){if(d<p)return-1;if(d>p)return 1}for(var g=0,b=Math.max(f.length,h.length);g<b;g++){if(m=!(f[g]||"").match(s)&&parseFloat(f[g])||f[g]||0,v=!(h[g]||"").match(s)&&parseFloat(h[g])||h[g]||0,isNaN(m)!==isNaN(v))return isNaN(m)?1:-1;if(typeof m!=typeof v&&(m+="",v+=""),m<v)return-1;if(m>v)return 1}return 0};const Hs=As(aU);var w2="compareNatural",oU=["typed","compare"],sU=_(w2,oU,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(w2,{"any, any":i});function i(l,u){var c=Et(l),f=Et(u),h;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return h=r(l,u),h.toString()!=="0"?h>0?1:-1:Hs(c,f);var d=["Array","DenseMatrix","SparseMatrix"];if(d.includes(c)||d.includes(f))return h=a(i,l,u),h!==0?h:Hs(c,f);if(c!==f)return Hs(c,f);if(c==="Complex")return lU(l,u);if(c==="Unit")return l.equalBase(u)?i(l.value,u.value):o(i,l.formatUnits(),u.formatUnits());if(c==="boolean")return n(l,u);if(c==="string")return Hs(l,u);if(c==="Object")return s(i,l,u);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(l,u,c){return ao(u)&&ao(c)?o(l,u.toJSON().values,c.toJSON().values):ao(u)?a(l,u.toArray(),c):ao(c)?a(l,u,c.toArray()):Fc(u)?a(l,u.toJSON().data,c):Fc(c)?a(l,u,c.toJSON().data):Array.isArray(u)?Array.isArray(c)?o(l,u,c):a(l,u,[c]):a(l,[u],c)}function o(l,u,c){for(var f=0,h=Math.min(u.length,c.length);f<h;f++){var d=l(u[f],c[f]);if(d!==0)return d}return u.length>c.length?1:u.length<c.length?-1:0}function s(l,u,c){var f=Object.keys(u),h=Object.keys(c);f.sort(Hs),h.sort(Hs);var d=o(l,f,h);if(d!==0)return d;for(var p=0;p<f.length;p++){var m=l(u[f[p]],c[h[p]]);if(m!==0)return m}return 0}});function lU(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var S2="compareText",uU=["typed","matrix","concat"];U0.signature="any, any";var cU=_(S2,uU,t=>{var{typed:e,matrix:r,concat:n}=t,i=Ot({typed:e,matrix:r,concat:n});return e(S2,U0,i({elop:U0,Ds:!0}))}),sp="equal",fU=["typed","matrix","equalScalar","DenseMatrix","concat"],mB=_(sp,fU,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=un({typed:e}),s=la({typed:e,DenseMatrix:i}),l=yr({typed:e,DenseMatrix:i}),u=Ot({typed:e,matrix:r,concat:a});return e(sp,hU({typed:e,equalScalar:n}),u({elop:n,SS:s,DS:o,Ss:l}))}),hU=_(sp,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(sp,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:r(i,a)}})}),C2="equalText",dU=["typed","compareText","isZero"],pU=_(C2,dU,t=>{var{typed:e,compareText:r,isZero:n}=t;return e(C2,{"any, any":function(a,o){return n(r(a,o))}})}),lp="smaller",mU=["typed","config","matrix","DenseMatrix","concat"],gU=_(lp,mU,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=un({typed:e}),s=la({typed:e,DenseMatrix:i}),l=yr({typed:e,DenseMatrix:i}),u=Ot({typed:e,matrix:n,concat:a}),c=hu({typed:e});return e(lp,vU({typed:e,config:r}),{"boolean, boolean":(f,h)=>f<h,"BigNumber, BigNumber":function(h,d){return h.lt(d)&&!aa(h,d,r.epsilon)},"Fraction, Fraction":(f,h)=>f.compare(h)===-1,"Complex, Complex":function(h,d){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),vU=_(lp,["typed","config"],t=>{var{typed:e,config:r}=t;return e(lp,{"number, number":function(i,a){return i<a&&!Un(i,a,r.epsilon)}})}),up="smallerEq",yU=["typed","config","matrix","DenseMatrix","concat"],xU=_(up,yU,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=un({typed:e}),s=la({typed:e,DenseMatrix:i}),l=yr({typed:e,DenseMatrix:i}),u=Ot({typed:e,matrix:n,concat:a}),c=hu({typed:e});return e(up,bU({typed:e,config:r}),{"boolean, boolean":(f,h)=>f<=h,"BigNumber, BigNumber":function(h,d){return h.lte(d)||aa(h,d,r.epsilon)},"Fraction, Fraction":(f,h)=>f.compare(h)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),bU=_(up,["typed","config"],t=>{var{typed:e,config:r}=t;return e(up,{"number, number":function(i,a){return i<=a||Un(i,a,r.epsilon)}})}),cp="larger",wU=["typed","config","matrix","DenseMatrix","concat"],SU=_(cp,wU,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=un({typed:e}),s=la({typed:e,DenseMatrix:i}),l=yr({typed:e,DenseMatrix:i}),u=Ot({typed:e,matrix:n,concat:a}),c=hu({typed:e});return e(cp,CU({typed:e,config:r}),{"boolean, boolean":(f,h)=>f>h,"BigNumber, BigNumber":function(h,d){return h.gt(d)&&!aa(h,d,r.epsilon)},"Fraction, Fraction":(f,h)=>f.compare(h)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),CU=_(cp,["typed","config"],t=>{var{typed:e,config:r}=t;return e(cp,{"number, number":function(i,a){return i>a&&!Un(i,a,r.epsilon)}})}),fp="largerEq",DU=["typed","config","matrix","DenseMatrix","concat"],AU=_(fp,DU,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a}=t,o=un({typed:e}),s=la({typed:e,DenseMatrix:i}),l=yr({typed:e,DenseMatrix:i}),u=Ot({typed:e,matrix:n,concat:a}),c=hu({typed:e});return e(fp,EU({typed:e,config:r}),{"boolean, boolean":(f,h)=>f>=h,"BigNumber, BigNumber":function(h,d){return h.gte(d)||aa(h,d,r.epsilon)},"Fraction, Fraction":(f,h)=>f.compare(h)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:o,Ss:l}))}),EU=_(fp,["typed","config"],t=>{var{typed:e,config:r}=t;return e(fp,{"number, number":function(i,a){return i>=a||Un(i,a,r.epsilon)}})}),D2="deepEqual",NU=["typed","equal"],MU=_(D2,NU,t=>{var{typed:e,equal:r}=t;return e(D2,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var s=0;s<o;s++)if(!n(i[s],a[s]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:r(i,a)}}),hp="unequal",TU=["typed","config","equalScalar","matrix","DenseMatrix","concat"],kU=_(hp,TU,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=t,s=un({typed:e}),l=la({typed:e,DenseMatrix:a}),u=yr({typed:e,DenseMatrix:a}),c=Ot({typed:e,matrix:i,concat:o});return e(hp,OU({typed:e,equalScalar:n}),c({elop:f,SS:l,DS:s,Ss:u}));function f(h,d){return!n(h,d)}}),OU=_(hp,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(hp,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!r(i,a)}})}),A2="partitionSelect",BU=["typed","isNumeric","isNaN","compare"],FU=_(A2,BU,t=>{var{typed:e,isNumeric:r,isNaN:n,compare:i}=t,a=i,o=(u,c)=>-i(u,c);return e(A2,{"Array | Matrix, number":function(c,f){return s(c,f,a)},"Array | Matrix, number, string":function(c,f,h){if(h==="asc")return s(c,f,a);if(h==="desc")return s(c,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(u,c,f){if(!Ie(c)||c<0)throw new Error("k must be a non-negative integer");if(We(u)){var h=u.size();if(h.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),c,f)}if(Array.isArray(u))return l(u,c,f)}function l(u,c,f){if(c>=u.length)throw new Error("k out of bounds");for(var h=0;h<u.length;h++)if(r(u[h])&&n(u[h]))return u[h];for(var d=0,p=u.length-1;d<p;){for(var m=d,v=p,g=u[Math.floor(Math.random()*(p-d+1))+d];m<v;)if(f(u[m],g)>=0){var b=u[v];u[v]=u[m],u[m]=b,--v}else++m;f(u[m],g)>0&&--m,c<=m?p=m:d=m+1}return u[c]}}),E2="sort",$U=["typed","matrix","compare","compareNatural"],RU=_(E2,$U,t=>{var{typed:e,matrix:r,compare:n,compareNatural:i}=t,a=n,o=(c,f)=>-n(c,f);return e(E2,{Array:function(f){return l(f),f.sort(a)},Matrix:function(f){return u(f),r(f.toArray().sort(a),f.storage())},"Array, function":function(f,h){return l(f),f.sort(h)},"Matrix, function":function(f,h){return u(f),r(f.toArray().sort(h),f.storage())},"Array, string":function(f,h){return l(f),f.sort(s(h))},"Matrix, string":function(f,h){return u(f),r(f.toArray().sort(s(h)),f.storage())}});function s(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(tt(c).length!==1)throw new Error("One dimensional array expected")}function u(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),N2="max",PU=["typed","config","numeric","larger"],gB=_(N2,PU,t=>{var{typed:e,config:r,numeric:n,larger:i}=t;return e(N2,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,u){return gm(l,u.valueOf(),a)},"...":function(l){if(cu(l))throw new TypeError("Scalar values expected in function max");return o(l)}});function a(s,l){try{return i(s,l)?s:l}catch(u){throw on(u,"max",l)}}function o(s){var l;if(Fa(s,function(u){try{isNaN(u)&&typeof u=="number"?l=NaN:(l===void 0||i(u,l))&&(l=u)}catch(c){throw on(c,"max",u)}}),l===void 0)throw new Error("Cannot calculate max of an empty array");return typeof l=="string"&&(l=n(l,r.number)),l}}),M2="min",IU=["typed","config","numeric","smaller"],vB=_(M2,IU,t=>{var{typed:e,config:r,numeric:n,smaller:i}=t;return e(M2,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(l,u){return gm(l,u.valueOf(),a)},"...":function(l){if(cu(l))throw new TypeError("Scalar values expected in function min");return o(l)}});function a(s,l){try{return i(s,l)?s:l}catch(u){throw on(u,"min",l)}}function o(s){var l;if(Fa(s,function(u){try{isNaN(u)&&typeof u=="number"?l=NaN:(l===void 0||i(u,l))&&(l=u)}catch(c){throw on(c,"min",u)}}),l===void 0)throw new Error("Cannot calculate min of an empty array");return typeof l=="string"&&(l=n(l,r.number)),l}}),LU="ImmutableDenseMatrix",_U=["smaller","DenseMatrix"],zU=_(LU,_U,t=>{var{smaller:e,DenseMatrix:r}=t;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Kr(a))throw new Error("Invalid datatype: "+a);if(We(i)||yt(i)){var o=new r(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&yt(i.data)&&yt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Et(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,i);return We(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:He(this._data),size:He(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0}),UU="Index",qU=["ImmutableDenseMatrix"],HU=_(UU,qU,t=>{var{ImmutableDenseMatrix:e}=t;function r(i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var a=0,o=arguments.length;a<o;a++){var s=arguments[a];if(lm(s))this._dimensions.push(s),this._isScalar=!1;else if(Array.isArray(s)||We(s)){var l=n(s.valueOf());this._dimensions.push(l);var u=l.size();(u.length!==1||u[0]!==1)&&(this._isScalar=!1)}else if(typeof s=="number")this._dimensions.push(n([s]));else if(typeof s=="string")this._dimensions.push(s);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range")}}r.prototype.type="Index",r.prototype.isIndex=!0;function n(i){for(var a=0,o=i.length;a<o;a++)if(typeof i[a]!="number"||!Ie(i[a]))throw new TypeError("Index parameters must be positive integer numbers");return new e(i)}return r.prototype.clone=function(){var i=new r;return i._dimensions=He(this._dimensions),i._isScalar=this._isScalar,i},r.create=function(i){var a=new r;return r.apply(a,i),a},r.prototype.size=function(){for(var i=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];i[a]=typeof s=="string"?1:s.size()[0]}return i},r.prototype.max=function(){for(var i=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];i[a]=typeof s=="string"?s:s.max()}return i},r.prototype.min=function(){for(var i=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];i[a]=typeof s=="string"?s:s.min()}return i},r.prototype.forEach=function(i){for(var a=0,o=this._dimensions.length;a<o;a++)i(this._dimensions[a],a,this)},r.prototype.dimension=function(i){return this._dimensions[i]||null},r.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var i=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];i.push(typeof s=="string"?s:s.toArray())}return i},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var i=[],a=0,o=this._dimensions.length;a<o;a++){var s=this._dimensions[a];typeof s=="string"?i.push(JSON.stringify(s)):i.push(s.toString())}return"["+i.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(i){return r.create(i.dimensions)},r},{isClass:!0}),VU="FibonacciHeap",WU=["smaller","larger"],jU=_(VU,WU,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var h={key:c,value:f,degree:0};if(this._minimum){var d=this._minimum;h.left=d,h.right=d.right,d.right=h,h.right.left=h,e(c,d.key)&&(this._minimum=h)}else h.left=h,h.right=h,this._minimum=h;return this._size++,h},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,h=c.degree,d=c.child;h>0;){var p=d.right;d.left.right=d.right,d.right.left=d.left,d.left=f,d.right=f.right,f.right=d,d.right.left=d,d.parent=null,d=p,h--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=u(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,h){f.key=h;var d=f.parent;return d&&e(f.key,d.key)&&(o(c,f,d),s(c,d)),e(f.key,c.key)&&(c=f),c}function o(c,f,h){f.left.right=f.right,f.right.left=f.left,h.degree--,h.child===f&&(h.child=f.right),h.degree===0&&(h.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function s(c,f){var h=f.parent;h&&(f.mark?(o(c,f,h),s(h)):f.mark=!0)}var l=function(f,h){f.left.right=f.right,f.right.left=f.left,f.parent=h,h.child?(f.left=h.child,f.right=h.child.right,h.child.right=f,f.right.left=f):(h.child=f,f.right=f,f.left=f),h.degree++,f.mark=!1};function u(c,f){var h=Math.floor(Math.log(f)*n)+1,d=new Array(h),p=0,m=c;if(m)for(p++,m=m.right;m!==c;)p++,m=m.right;for(var v;p>0;){for(var g=m.degree,b=m.right;v=d[g],!!v;){if(r(m.key,v.key)){var y=v;v=m,m=y}l(v,m),d[g]=null,g++}d[g]=m,m=b,p--}c=null;for(var w=0;w<h;w++)v=d[w],v&&(c?(v.left.right=v.right,v.right.left=v.left,v.left=c,v.right=c.right,c.right=v,v.right.left=v,e(v.key,c.key)&&(c=v)):c=v);return c}return i},{isClass:!0}),GU="Spa",KU=["addScalar","equalScalar","FibonacciHeap"],YU=_(GU,KU,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var s=this._heap.insert(a,o);this._values[a]=s}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var s=this._values[a];s?s.value=e(s.value,o):(s=this._heap.insert(a,o),this._values[a]=s)},i.prototype.forEach=function(a,o,s){var l=this._heap,u=this._values,c=[],f=l.extractMinimum();for(f&&c.push(f);f&&f.key<=o;)f.key>=a&&(r(f.value,0)||s(f.key,f.value,this)),f=l.extractMinimum(),f&&c.push(f);for(var h=0;h<c.length;h++){var d=c[h];f=l.insert(d.key,d.value),u[f.key]=f}},i.prototype.swap=function(a,o){var s=this._values[a],l=this._values[o];if(!s&&l)s=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=s,this._values[o]=void 0;else if(s&&!l)l=this._heap.insert(o,s.value),this._heap.remove(s),this._values[o]=l,this._values[a]=void 0;else if(s&&l){var u=s.value;s.value=l.value,l.value=u}},i},{isClass:!0});function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function JU(t,e){if(Lc(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZU(t){var e=JU(t,"string");return Lc(e)==="symbol"?e:String(e)}function Sr(t,e,r){return e=ZU(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var XU=ff(function(t){return new t(1).exp()},{hasher:bm}),QU=ff(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:bm}),Sx=ff(function(t){return t.acos(-1)},{hasher:bm}),eq=ff(function(t){return Sx(t).times(2)},{hasher:bm});function bm(t){return t[0].precision}function T2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(r),!0).forEach(function(n){Sr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var tq="Unit",rq=["?on","config","addScalar","subtract","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],yB=_(tq,rq,t=>{var{on:e,config:r,addScalar:n,subtract:i,multiplyScalar:a,divideScalar:o,pow:s,abs:l,fix:u,round:c,equal:f,isNumeric:h,format:d,number:p,Complex:m,BigNumber:v,Fraction:g}=t,b=p;function y(q,j){if(!(this instanceof y))throw new Error("Constructor must be called with the new operator");if(!(q==null||h(q)||Di(q)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,j===void 0)this.units=[],this.dimensions=R.map(H=>0);else if(typeof j=="string"){var re=y.parse(j);this.units=re.units,this.dimensions=re.dimensions}else if(yi(j)&&j.value===null)this.fixPrefix=j.fixPrefix,this.skipAutomaticSimplification=j.skipAutomaticSimplification,this.dimensions=j.dimensions.slice(0),this.units=j.units.map(H=>te({},H));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(q)}Object.defineProperty(y,"name",{value:"Unit"}),y.prototype.constructor=y,y.prototype.type="Unit",y.prototype.isUnit=!0;var w,S,x;function C(){for(;x===" "||x==="	";)D()}function A(q){return q>="0"&&q<="9"||q==="."}function E(q){return q>="0"&&q<="9"}function D(){S++,x=w.charAt(S)}function M(q){S=q,x=w.charAt(S)}function k(){var q="",j=S;if(x==="+"?D():x==="-"&&(q+=x,D()),!A(x))return M(j),null;if(x==="."){if(q+=x,D(),!E(x))return M(j),null}else{for(;E(x);)q+=x,D();x==="."&&(q+=x,D())}for(;E(x);)q+=x,D();if(x==="E"||x==="e"){var re="",H=S;if(re+=x,D(),(x==="+"||x==="-")&&(re+=x,D()),!E(x))return M(H),q;for(q=q+re;E(x);)q+=x,D()}return q}function $(){for(var q="";E(x)||y.isValidAlpha(x);)q+=x,D();var j=q.charAt(0);return y.isValidAlpha(j)?q:null}function I(q){return x===q?(D(),q):null}y.parse=function(q,j){if(j=j||{},w=q,S=-1,x="",typeof w!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var re=new y;re.units=[];var H=1,Y=!1;D(),C();var Q=k(),ge=null;if(Q){if(r.number==="BigNumber")ge=new v(Q);else if(r.number==="Fraction")try{ge=new g(Q)}catch{ge=parseFloat(Q)}else ge=parseFloat(Q);C(),I("*")?(H=1,Y=!0):I("/")&&(H=-1,Y=!0)}for(var ce=[],z=1;;){for(C();x==="(";)ce.push(H),z*=H,H=1,D(),C();var U=void 0;if(x){var X=x;if(U=$(),U===null)throw new SyntaxError('Unexpected "'+X+'" in "'+w+'" at index '+S.toString())}else break;var oe=F(U);if(oe===null)throw new SyntaxError('Unit "'+U+'" not found.');var de=H*z;if(C(),I("^")){C();var fe=k();if(fe===null)throw new SyntaxError('In "'+q+'", "^" must be followed by a floating-point number');de*=fe}re.units.push({unit:oe.unit,prefix:oe.prefix,power:de});for(var ve=0;ve<R.length;ve++)re.dimensions[ve]+=(oe.unit.dimensions[ve]||0)*de;for(C();x===")";){if(ce.length===0)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+S.toString());z/=ce.pop(),D(),C()}if(Y=!1,I("*")?(H=1,Y=!0):I("/")?(H=-1,Y=!0):H=1,oe.unit.base){var pe=oe.unit.base.key;Z.auto[pe]={unit:oe.unit,prefix:oe.prefix}}}if(C(),x)throw new SyntaxError('Could not parse: "'+q+'"');if(Y)throw new SyntaxError('Trailing characters: "'+q+'"');if(ce.length!==0)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(re.units.length===0&&!j.allowNoUnits)throw new SyntaxError('"'+q+'" contains no units');return re.value=ge!==void 0?re._normalize(ge):null,re},y.prototype.clone=function(){var q=new y;q.fixPrefix=this.fixPrefix,q.skipAutomaticSimplification=this.skipAutomaticSimplification,q.value=He(this.value),q.dimensions=this.dimensions.slice(0),q.units=[];for(var j=0;j<this.units.length;j++){q.units[j]={};for(var re in this.units[j])Oe(this.units[j],re)&&(q.units[j][re]=this.units[j][re])}return q},y.prototype.valueType=function(){return Et(this.value)},y.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},y.prototype._normalize=function(q){if(q==null||this.units.length===0)return q;for(var j=q,re=y._getNumberConverter(Et(q)),H=0;H<this.units.length;H++){var Y=re(this.units[H].unit.value),Q=re(this.units[H].prefix.value),ge=re(this.units[H].power);j=a(j,s(a(Y,Q),ge))}return j},y.prototype._denormalize=function(q,j){if(q==null||this.units.length===0)return q;for(var re=q,H=y._getNumberConverter(Et(q)),Y=0;Y<this.units.length;Y++){var Q=H(this.units[Y].unit.value),ge=H(this.units[Y].prefix.value),ce=H(this.units[Y].power);re=o(re,s(a(Q,ge),ce))}return re};var F=ff(q=>{if(Oe(L,q)){var j=L[q],re=j.prefixes[""];return{unit:j,prefix:re}}for(var H in L)if(Oe(L,H)&&T8(q,H)){var Y=L[H],Q=q.length-H.length,ge=q.substring(0,Q),ce=Oe(Y.prefixes,ge)?Y.prefixes[ge]:void 0;if(ce!==void 0)return{unit:Y,prefix:ce}}return null},{hasher:q=>q[0],limit:100});y.isValuelessUnit=function(q){return F(q)!==null},y.prototype.hasBase=function(q){if(typeof q=="string"&&(q=O[q]),!q)return!1;for(var j=0;j<R.length;j++)if(Math.abs((this.dimensions[j]||0)-(q.dimensions[j]||0))>1e-12)return!1;return!0},y.prototype.equalBase=function(q){for(var j=0;j<R.length;j++)if(Math.abs((this.dimensions[j]||0)-(q.dimensions[j]||0))>1e-12)return!1;return!0},y.prototype.equals=function(q){return this.equalBase(q)&&f(this.value,q.value)},y.prototype.multiply=function(q){for(var j=this.clone(),re=yi(q)?q:new y(q),H=0;H<R.length;H++)j.dimensions[H]=(this.dimensions[H]||0)+(re.dimensions[H]||0);for(var Y=0;Y<re.units.length;Y++){var Q=tv({},re.units[Y]);j.units.push(Q)}if(this.value!==null||re.value!==null){var ge=this.value===null?this._normalize(1):this.value,ce=re.value===null?re._normalize(1):re.value;j.value=a(ge,ce)}else j.value=null;return yi(q)&&(j.skipAutomaticSimplification=!1),N(j)},y.prototype.divideInto=function(q){return new y(q).divide(this)},y.prototype.divide=function(q){for(var j=this.clone(),re=yi(q)?q:new y(q),H=0;H<R.length;H++)j.dimensions[H]=(this.dimensions[H]||0)-(re.dimensions[H]||0);for(var Y=0;Y<re.units.length;Y++){var Q=tv(tv({},re.units[Y]),{},{power:-re.units[Y].power});j.units.push(Q)}if(this.value!==null||re.value!==null){var ge=this.value===null?this._normalize(1):this.value,ce=re.value===null?re._normalize(1):re.value;j.value=o(ge,ce)}else j.value=null;return yi(q)&&(j.skipAutomaticSimplification=!1),N(j)},y.prototype.pow=function(q){for(var j=this.clone(),re=0;re<R.length;re++)j.dimensions[re]=(this.dimensions[re]||0)*q;for(var H=0;H<j.units.length;H++)j.units[H].power*=q;return j.value!==null?j.value=s(j.value,q):j.value=null,j.skipAutomaticSimplification=!1,N(j)};function N(q){return q.equalBase(O.NONE)&&q.value!==null&&!r.predictable?q.value:q}y.prototype.abs=function(){var q=this.clone();if(q.value!==null)if(q._isDerived()||q.units[0].unit.offset===0)q.value=l(q.value);else{var j=q._numberConverter(),re=j(q.units[0].unit.value),H=j(q.units[0].unit.offset),Y=a(re,H);q.value=i(l(n(q.value,Y)),Y)}for(var Q in q.units)(q.units[Q].unit.name==="VA"||q.units[Q].unit.name==="VAR")&&(q.units[Q].unit=L.W);return q},y.prototype.to=function(q){var j=this.value===null?this._normalize(1):this.value,re;if(typeof q=="string")re=y.parse(q);else if(yi(q))re=q.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(re))throw new Error("Units do not match ('".concat(re.toString(),"' != '").concat(this.toString(),"')"));if(re.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===re.units[0].unit.offset)re.value=He(j);else{var H=y._getNumberConverter(Et(j)),Y=H(this.units[0].unit.value),Q=H(this.units[0].unit.offset),ge=a(Y,Q),ce=H(re.units[0].unit.value),z=H(re.units[0].unit.offset),U=a(ce,z);re.value=i(n(j,ge),U)}return re.fixPrefix=!0,re.skipAutomaticSimplification=!0,re},y.prototype.toNumber=function(q){return b(this.toNumeric(q))},y.prototype.toNumeric=function(q){var j;return q?j=this.to(q):j=this.clone(),j._isDerived()||j.units.length===0?j._denormalize(j.value):j._denormalize(j.value,j.units[0].prefix.value)},y.prototype.toString=function(){return this.format()},y.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},y.fromJSON=function(q){var j=new y(q.value,q.unit);return j.fixPrefix=q.fixPrefix||!1,j},y.prototype.valueOf=y.prototype.toString,y.prototype.simplify=function(){var q=this.clone(),j=[],re;for(var H in se)if(Oe(se,H)&&q.hasBase(O[H])){re=H;break}if(re==="NONE")q.units=[];else{var Y;if(re&&Oe(se,re)&&(Y=se[re]),Y)q.units=[{unit:Y.unit,prefix:Y.prefix,power:1}];else{for(var Q=!1,ge=0;ge<R.length;ge++){var ce=R[ge];Math.abs(q.dimensions[ge]||0)>1e-12&&(Oe(se,ce)?j.push({unit:se[ce].unit,prefix:se[ce].prefix,power:q.dimensions[ge]||0}):Q=!0)}j.length<q.units.length&&!Q&&(q.units=j)}}return q},y.prototype.toSI=function(){for(var q=this.clone(),j=[],re=0;re<R.length;re++){var H=R[re];if(Math.abs(q.dimensions[re]||0)>1e-12)if(Oe(Z.si,H))j.push({unit:Z.si[H].unit,prefix:Z.si[H].prefix,power:q.dimensions[re]||0});else throw new Error("Cannot express custom unit "+H+" in SI units")}return q.units=j,q.fixPrefix=!0,q.skipAutomaticSimplification=!0,q},y.prototype.formatUnits=function(){for(var q="",j="",re=0,H=0,Y=0;Y<this.units.length;Y++)this.units[Y].power>0?(re++,q+=" "+this.units[Y].prefix.name+this.units[Y].unit.name,Math.abs(this.units[Y].power-1)>1e-15&&(q+="^"+this.units[Y].power)):this.units[Y].power<0&&H++;if(H>0)for(var Q=0;Q<this.units.length;Q++)this.units[Q].power<0&&(re>0?(j+=" "+this.units[Q].prefix.name+this.units[Q].unit.name,Math.abs(this.units[Q].power+1)>1e-15&&(j+="^"+-this.units[Q].power)):(j+=" "+this.units[Q].prefix.name+this.units[Q].unit.name,j+="^"+this.units[Q].power));q=q.substr(1),j=j.substr(1),re>1&&H>0&&(q="("+q+")"),H>1&&re>0&&(j="("+j+")");var ge=q;return re>0&&H>0&&(ge+=" / "),ge+=j,ge},y.prototype.format=function(q){var j=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),re=!1;typeof j.value<"u"&&j.value!==null&&Di(j.value)&&(re=Math.abs(j.value.re)<1e-14);for(var H in j.units)Oe(j.units,H)&&j.units[H].unit&&(j.units[H].unit.name==="VA"&&re?j.units[H].unit=L.VAR:j.units[H].unit.name==="VAR"&&!re&&(j.units[H].unit=L.VA));j.units.length===1&&!j.fixPrefix&&Math.abs(j.units[0].power-Math.round(j.units[0].power))<1e-14&&(j.units[0].prefix=j._bestPrefix());var Y=j._denormalize(j.value),Q=j.value!==null?d(Y,q||{}):"",ge=j.formatUnits();return j.value&&Di(j.value)&&(Q="("+Q+")"),ge.length>0&&Q.length>0&&(Q+=" "),Q+=ge,Q},y.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var q=this.value!==null?l(this.value):0,j=l(this.units[0].unit.value),re=this.units[0].prefix;if(q===0)return re;var H=this.units[0].power,Y=Math.log(q/Math.pow(re.value*j,H))/Math.LN10-1.2;if(Y>-2.200001&&Y<1.800001)return re;Y=Math.abs(Y);var Q=this.units[0].unit.prefixes;for(var ge in Q)if(Oe(Q,ge)){var ce=Q[ge];if(ce.scientific){var z=Math.abs(Math.log(q/Math.pow(ce.value*j,H))/Math.LN10-1.2);(z<Y||z===Y&&ce.name.length<re.name.length)&&(re=ce,Y=z)}}return re},y.prototype.splitUnit=function(q){for(var j=this.clone(),re=[],H=0;H<q.length&&(j=j.to(q[H]),H!==q.length-1);H++){var Y=j.toNumeric(),Q=c(Y),ge=void 0,ce=f(Q,Y);ce?ge=Q:ge=u(j.toNumeric());var z=new y(ge,q[H].toString());re.push(z),j=i(j,z)}for(var U=0,X=0;X<re.length;X++)U=n(U,re[X].value);return f(U,this.value)&&(j.value=0),re.push(j),re};var T={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};T.SHORTLONG=te({},T.SHORT,T.LONG),T.BINARY_SHORT=te({},T.BINARY_SHORT_SI,T.BINARY_SHORT_IEC),T.BINARY_LONG=te({},T.BINARY_LONG_SI,T.BINARY_LONG_IEC);var R=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],O={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var P in O)Oe(O,P)&&(O[P].key=P);var V={},W={name:"",base:V,value:1,offset:0,dimensions:R.map(q=>0)},L={meter:{name:"meter",base:O.LENGTH,prefixes:T.LONG,value:1,offset:0},inch:{name:"inch",base:O.LENGTH,prefixes:T.NONE,value:.0254,offset:0},foot:{name:"foot",base:O.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yard:{name:"yard",base:O.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mile:{name:"mile",base:O.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},link:{name:"link",base:O.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rod:{name:"rod",base:O.LENGTH,prefixes:T.NONE,value:5.0292,offset:0},chain:{name:"chain",base:O.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:O.LENGTH,prefixes:T.NONE,value:1e-10,offset:0},m:{name:"m",base:O.LENGTH,prefixes:T.SHORT,value:1,offset:0},in:{name:"in",base:O.LENGTH,prefixes:T.NONE,value:.0254,offset:0},ft:{name:"ft",base:O.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yd:{name:"yd",base:O.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mi:{name:"mi",base:O.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},li:{name:"li",base:O.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rd:{name:"rd",base:O.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},ch:{name:"ch",base:O.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},mil:{name:"mil",base:O.LENGTH,prefixes:T.NONE,value:254e-7,offset:0},m2:{name:"m2",base:O.SURFACE,prefixes:T.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:O.SURFACE,prefixes:T.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:O.SURFACE,prefixes:T.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:O.SURFACE,prefixes:T.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:O.SURFACE,prefixes:T.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:O.SURFACE,prefixes:T.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:O.SURFACE,prefixes:T.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:O.SURFACE,prefixes:T.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:O.SURFACE,prefixes:T.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:O.SURFACE,prefixes:T.NONE,value:1e4,offset:0},m3:{name:"m3",base:O.VOLUME,prefixes:T.CUBIC,value:1,offset:0},L:{name:"L",base:O.VOLUME,prefixes:T.SHORT,value:.001,offset:0},l:{name:"l",base:O.VOLUME,prefixes:T.SHORT,value:.001,offset:0},litre:{name:"litre",base:O.VOLUME,prefixes:T.LONG,value:.001,offset:0},cuin:{name:"cuin",base:O.VOLUME,prefixes:T.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:O.VOLUME,prefixes:T.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:O.VOLUME,prefixes:T.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:O.VOLUME,prefixes:T.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:O.VOLUME,prefixes:T.NONE,value:15e-6,offset:0},drop:{name:"drop",base:O.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:O.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},minim:{name:"minim",base:O.VOLUME,prefixes:T.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:O.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:O.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:O.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:O.VOLUME,prefixes:T.NONE,value:1e-6,offset:0},cup:{name:"cup",base:O.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:O.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:O.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:O.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:O.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:O.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:O.VOLUME,prefixes:T.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:O.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:O.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:O.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:O.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:O.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:O.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:O.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:O.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},obl:{name:"obl",base:O.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},g:{name:"g",base:O.MASS,prefixes:T.SHORT,value:.001,offset:0},gram:{name:"gram",base:O.MASS,prefixes:T.LONG,value:.001,offset:0},ton:{name:"ton",base:O.MASS,prefixes:T.SHORT,value:907.18474,offset:0},t:{name:"t",base:O.MASS,prefixes:T.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:O.MASS,prefixes:T.LONG,value:1e3,offset:0},grain:{name:"grain",base:O.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:O.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:O.MASS,prefixes:T.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:O.MASS,prefixes:T.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:O.MASS,prefixes:T.NONE,value:45.359237,offset:0},stick:{name:"stick",base:O.MASS,prefixes:T.NONE,value:.115,offset:0},stone:{name:"stone",base:O.MASS,prefixes:T.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:O.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:O.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:O.MASS,prefixes:T.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:O.MASS,prefixes:T.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:O.MASS,prefixes:T.NONE,value:45.359237,offset:0},s:{name:"s",base:O.TIME,prefixes:T.SHORT,value:1,offset:0},min:{name:"min",base:O.TIME,prefixes:T.NONE,value:60,offset:0},h:{name:"h",base:O.TIME,prefixes:T.NONE,value:3600,offset:0},second:{name:"second",base:O.TIME,prefixes:T.LONG,value:1,offset:0},sec:{name:"sec",base:O.TIME,prefixes:T.LONG,value:1,offset:0},minute:{name:"minute",base:O.TIME,prefixes:T.NONE,value:60,offset:0},hour:{name:"hour",base:O.TIME,prefixes:T.NONE,value:3600,offset:0},day:{name:"day",base:O.TIME,prefixes:T.NONE,value:86400,offset:0},week:{name:"week",base:O.TIME,prefixes:T.NONE,value:7*86400,offset:0},month:{name:"month",base:O.TIME,prefixes:T.NONE,value:2629800,offset:0},year:{name:"year",base:O.TIME,prefixes:T.NONE,value:31557600,offset:0},decade:{name:"decade",base:O.TIME,prefixes:T.NONE,value:315576e3,offset:0},century:{name:"century",base:O.TIME,prefixes:T.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:O.TIME,prefixes:T.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:O.FREQUENCY,prefixes:T.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:O.FREQUENCY,prefixes:T.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:O.ANGLE,prefixes:T.SHORT,value:1,offset:0},radian:{name:"radian",base:O.ANGLE,prefixes:T.LONG,value:1,offset:0},deg:{name:"deg",base:O.ANGLE,prefixes:T.SHORT,value:null,offset:0},degree:{name:"degree",base:O.ANGLE,prefixes:T.LONG,value:null,offset:0},grad:{name:"grad",base:O.ANGLE,prefixes:T.SHORT,value:null,offset:0},gradian:{name:"gradian",base:O.ANGLE,prefixes:T.LONG,value:null,offset:0},cycle:{name:"cycle",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},A:{name:"A",base:O.CURRENT,prefixes:T.SHORT,value:1,offset:0},ampere:{name:"ampere",base:O.CURRENT,prefixes:T.LONG,value:1,offset:0},K:{name:"K",base:O.TEMPERATURE,prefixes:T.SHORT,value:1,offset:0},degC:{name:"degC",base:O.TEMPERATURE,prefixes:T.SHORT,value:1,offset:273.15},degF:{name:"degF",base:O.TEMPERATURE,prefixes:T.SHORT,value:1/1.8,offset:459.67},degR:{name:"degR",base:O.TEMPERATURE,prefixes:T.SHORT,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:O.TEMPERATURE,prefixes:T.LONG,value:1,offset:0},celsius:{name:"celsius",base:O.TEMPERATURE,prefixes:T.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:O.TEMPERATURE,prefixes:T.LONG,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:O.TEMPERATURE,prefixes:T.LONG,value:1/1.8,offset:0},mol:{name:"mol",base:O.AMOUNT_OF_SUBSTANCE,prefixes:T.SHORT,value:1,offset:0},mole:{name:"mole",base:O.AMOUNT_OF_SUBSTANCE,prefixes:T.LONG,value:1,offset:0},cd:{name:"cd",base:O.LUMINOUS_INTENSITY,prefixes:T.SHORT,value:1,offset:0},candela:{name:"candela",base:O.LUMINOUS_INTENSITY,prefixes:T.LONG,value:1,offset:0},N:{name:"N",base:O.FORCE,prefixes:T.SHORT,value:1,offset:0},newton:{name:"newton",base:O.FORCE,prefixes:T.LONG,value:1,offset:0},dyn:{name:"dyn",base:O.FORCE,prefixes:T.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:O.FORCE,prefixes:T.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:O.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:O.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:O.FORCE,prefixes:T.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:O.FORCE,prefixes:T.NONE,value:9.80665,offset:0},J:{name:"J",base:O.ENERGY,prefixes:T.SHORT,value:1,offset:0},joule:{name:"joule",base:O.ENERGY,prefixes:T.SHORT,value:1,offset:0},erg:{name:"erg",base:O.ENERGY,prefixes:T.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:O.ENERGY,prefixes:T.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:O.ENERGY,prefixes:T.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:O.ENERGY,prefixes:T.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:O.ENERGY,prefixes:T.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:O.POWER,prefixes:T.SHORT,value:1,offset:0},watt:{name:"watt",base:O.POWER,prefixes:T.LONG,value:1,offset:0},hp:{name:"hp",base:O.POWER,prefixes:T.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:O.POWER,prefixes:T.SHORT,value:m.I,offset:0},VA:{name:"VA",base:O.POWER,prefixes:T.SHORT,value:1,offset:0},Pa:{name:"Pa",base:O.PRESSURE,prefixes:T.SHORT,value:1,offset:0},psi:{name:"psi",base:O.PRESSURE,prefixes:T.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:O.PRESSURE,prefixes:T.NONE,value:101325,offset:0},bar:{name:"bar",base:O.PRESSURE,prefixes:T.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:O.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:O.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:O.PRESSURE,prefixes:T.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:O.PRESSURE,prefixes:T.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:O.ELECTRIC_CHARGE,prefixes:T.LONG,value:1,offset:0},C:{name:"C",base:O.ELECTRIC_CHARGE,prefixes:T.SHORT,value:1,offset:0},farad:{name:"farad",base:O.ELECTRIC_CAPACITANCE,prefixes:T.LONG,value:1,offset:0},F:{name:"F",base:O.ELECTRIC_CAPACITANCE,prefixes:T.SHORT,value:1,offset:0},volt:{name:"volt",base:O.ELECTRIC_POTENTIAL,prefixes:T.LONG,value:1,offset:0},V:{name:"V",base:O.ELECTRIC_POTENTIAL,prefixes:T.SHORT,value:1,offset:0},ohm:{name:"ohm",base:O.ELECTRIC_RESISTANCE,prefixes:T.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:O.ELECTRIC_INDUCTANCE,prefixes:T.LONG,value:1,offset:0},H:{name:"H",base:O.ELECTRIC_INDUCTANCE,prefixes:T.SHORT,value:1,offset:0},siemens:{name:"siemens",base:O.ELECTRIC_CONDUCTANCE,prefixes:T.LONG,value:1,offset:0},S:{name:"S",base:O.ELECTRIC_CONDUCTANCE,prefixes:T.SHORT,value:1,offset:0},weber:{name:"weber",base:O.MAGNETIC_FLUX,prefixes:T.LONG,value:1,offset:0},Wb:{name:"Wb",base:O.MAGNETIC_FLUX,prefixes:T.SHORT,value:1,offset:0},tesla:{name:"tesla",base:O.MAGNETIC_FLUX_DENSITY,prefixes:T.LONG,value:1,offset:0},T:{name:"T",base:O.MAGNETIC_FLUX_DENSITY,prefixes:T.SHORT,value:1,offset:0},b:{name:"b",base:O.BIT,prefixes:T.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:O.BIT,prefixes:T.BINARY_LONG,value:1,offset:0},B:{name:"B",base:O.BIT,prefixes:T.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:O.BIT,prefixes:T.BINARY_LONG,value:8,offset:0}},G={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ee(q){if(q.number==="BigNumber"){var j=Sx(v);L.rad.value=new v(1),L.deg.value=j.div(180),L.grad.value=j.div(200),L.cycle.value=j.times(2),L.arcsec.value=j.div(648e3),L.arcmin.value=j.div(10800)}else L.rad.value=1,L.deg.value=Math.PI/180,L.grad.value=Math.PI/200,L.cycle.value=Math.PI*2,L.arcsec.value=Math.PI/648e3,L.arcmin.value=Math.PI/10800;L.radian.value=L.rad.value,L.degree.value=L.deg.value,L.gradian.value=L.grad.value}ee(r),e&&e("config",function(q,j){q.number!==j.number&&ee(q)});var Z={si:{NONE:{unit:W,prefix:T.NONE[""]},LENGTH:{unit:L.m,prefix:T.SHORT[""]},MASS:{unit:L.g,prefix:T.SHORT.k},TIME:{unit:L.s,prefix:T.SHORT[""]},CURRENT:{unit:L.A,prefix:T.SHORT[""]},TEMPERATURE:{unit:L.K,prefix:T.SHORT[""]},LUMINOUS_INTENSITY:{unit:L.cd,prefix:T.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:L.mol,prefix:T.SHORT[""]},ANGLE:{unit:L.rad,prefix:T.SHORT[""]},BIT:{unit:L.bits,prefix:T.SHORT[""]},FORCE:{unit:L.N,prefix:T.SHORT[""]},ENERGY:{unit:L.J,prefix:T.SHORT[""]},POWER:{unit:L.W,prefix:T.SHORT[""]},PRESSURE:{unit:L.Pa,prefix:T.SHORT[""]},ELECTRIC_CHARGE:{unit:L.C,prefix:T.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:L.F,prefix:T.SHORT[""]},ELECTRIC_POTENTIAL:{unit:L.V,prefix:T.SHORT[""]},ELECTRIC_RESISTANCE:{unit:L.ohm,prefix:T.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:L.H,prefix:T.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:L.S,prefix:T.SHORT[""]},MAGNETIC_FLUX:{unit:L.Wb,prefix:T.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:L.T,prefix:T.SHORT[""]},FREQUENCY:{unit:L.Hz,prefix:T.SHORT[""]}}};Z.cgs=JSON.parse(JSON.stringify(Z.si)),Z.cgs.LENGTH={unit:L.m,prefix:T.SHORT.c},Z.cgs.MASS={unit:L.g,prefix:T.SHORT[""]},Z.cgs.FORCE={unit:L.dyn,prefix:T.SHORT[""]},Z.cgs.ENERGY={unit:L.erg,prefix:T.NONE[""]},Z.us=JSON.parse(JSON.stringify(Z.si)),Z.us.LENGTH={unit:L.ft,prefix:T.NONE[""]},Z.us.MASS={unit:L.lbm,prefix:T.NONE[""]},Z.us.TEMPERATURE={unit:L.degF,prefix:T.NONE[""]},Z.us.FORCE={unit:L.lbf,prefix:T.NONE[""]},Z.us.ENERGY={unit:L.BTU,prefix:T.BTU[""]},Z.us.POWER={unit:L.hp,prefix:T.NONE[""]},Z.us.PRESSURE={unit:L.psi,prefix:T.NONE[""]},Z.auto=JSON.parse(JSON.stringify(Z.si));var se=Z.auto;y.setUnitSystem=function(q){if(Oe(Z,q))se=Z[q];else throw new Error("Unit system "+q+" does not exist. Choices are: "+Object.keys(Z).join(", "))},y.getUnitSystem=function(){for(var q in Z)if(Oe(Z,q)&&Z[q]===se)return q},y.typeConverters={BigNumber:function(j){return new v(j+"")},Fraction:function(j){return new g(j)},Complex:function(j){return j},number:function(j){return j}},y.prototype._numberConverter=function(){var q=y.typeConverters[this.valueType()];if(q)return q;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},y._getNumberConverter=function(q){if(!y.typeConverters[q])throw new TypeError('Unsupported type "'+q+'"');return y.typeConverters[q]};for(var he in L)if(Oe(L,he)){var le=L[he];le.dimensions=le.base.dimensions}for(var ne in G)if(Oe(G,ne)){var xe=L[G[ne]],Se={};for(var me in xe)Oe(xe,me)&&(Se[me]=xe[me]);Se.name=ne,L[ne]=Se}y.isValidAlpha=function(j){return/^[a-zA-Z]$/.test(j)};function Ce(q){for(var j=0;j<q.length;j++){if(x=q.charAt(j),j===0&&!y.isValidAlpha(x))throw new Error('Invalid unit name (must begin with alpha character): "'+q+'"');if(j>0&&!(y.isValidAlpha(x)||E(x)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+q+'"')}}return y.createUnit=function(q,j){if(typeof q!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(j&&j.override){for(var re in q)if(Oe(q,re)&&y.deleteUnit(re),q[re].aliases)for(var H=0;H<q[re].aliases.length;H++)y.deleteUnit(q[re].aliases[H])}var Y;for(var Q in q)Oe(q,Q)&&(Y=y.createUnitSingle(Q,q[Q]));return Y},y.createUnitSingle=function(q,j){if((typeof j>"u"||j===null)&&(j={}),typeof q!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Oe(L,q))throw new Error('Cannot create unit "'+q+'": a unit with that name already exists');Ce(q);var re=null,H=[],Y=0,Q,ge,ce;if(j&&j.type==="Unit")re=j.clone();else if(typeof j=="string")j!==""&&(Q=j);else if(typeof j=="object")Q=j.definition,ge=j.prefixes,Y=j.offset,ce=j.baseName,j.aliases&&(H=j.aliases.valueOf());else throw new TypeError('Cannot create unit "'+q+'" from "'+j.toString()+'": expecting "string" or "Unit" or "Object"');if(H){for(var z=0;z<H.length;z++)if(Oe(L,H[z]))throw new Error('Cannot create alias "'+H[z]+'": a unit with that name already exists')}if(Q&&typeof Q=="string"&&!re)try{re=y.parse(Q,{allowNoUnits:!0})}catch(mt){throw mt.message='Could not create unit "'+q+'" from "'+Q+'": '+mt.message,mt}else Q&&Q.type==="Unit"&&(re=Q.clone());H=H||[],Y=Y||0,ge&&ge.toUpperCase?ge=T[ge.toUpperCase()]||T.NONE:ge=T.NONE;var U={};if(re){U={name:q,value:re.value,dimensions:re.dimensions.slice(0),prefixes:ge,offset:Y};var fe=!1;for(var ve in O)if(Oe(O,ve)){for(var pe=!0,we=0;we<R.length;we++)if(Math.abs((U.dimensions[we]||0)-(O[ve].dimensions[we]||0))>1e-12){pe=!1;break}if(pe){fe=!0,U.base=O[ve];break}}if(!fe){ce=ce||q+"_STUFF";var Fe={dimensions:re.dimensions.slice(0)};Fe.key=ce,O[ce]=Fe,se[ce]={unit:U,prefix:T.NONE[""]},U.base=O[ce]}}else{if(ce=ce||q+"_STUFF",R.indexOf(ce)>=0)throw new Error('Cannot create new base unit "'+q+'": a base unit with that name already exists (and cannot be overridden)');R.push(ce);for(var X in O)Oe(O,X)&&(O[X].dimensions[R.length-1]=0);for(var oe={dimensions:[]},de=0;de<R.length;de++)oe.dimensions[de]=0;oe.dimensions[R.length-1]=1,oe.key=ce,O[ce]=oe,U={name:q,value:1,dimensions:O[ce].dimensions.slice(0),prefixes:ge,offset:Y,base:O[ce]},se[ce]={unit:U,prefix:T.NONE[""]}}y.UNITS[q]=U;for(var Pe=0;Pe<H.length;Pe++){var Me=H[Pe],lt={};for(var Ge in U)Oe(U,Ge)&&(lt[Ge]=U[Ge]);lt.name=Me,y.UNITS[Me]=lt}return delete F.cache,new y(null,q)},y.deleteUnit=function(q){delete y.UNITS[q]},y.PREFIXES=T,y.BASE_DIMENSIONS=R,y.BASE_UNITS=O,y.UNIT_SYSTEMS=Z,y.UNITS=L,y},{isClass:!0}),k2="unit",nq=["typed","Unit"],iq=_(k2,nq,t=>{var{typed:e,Unit:r}=t;return e(k2,{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new r(i,a)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})}),O2="sparse",aq=["typed","SparseMatrix"],oq=_(O2,aq,t=>{var{typed:e,SparseMatrix:r}=t;return e(O2,{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,a){return new r(i,a)}})}),B2="createUnit",sq=["typed","Unit"],lq=_(B2,sq,t=>{var{typed:e,Unit:r}=t;return e(B2,{"Object, Object":function(i,a){return r.createUnit(i,a)},Object:function(i){return r.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var s={};return s[i]=a,r.createUnit(s,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,r.createUnit(o,{})},string:function(i){var a={};return a[i]={},r.createUnit(a,{})}})}),F2="acos",uq=["typed","config","Complex"],cq=_(F2,uq,t=>{var{typed:e,config:r,Complex:n}=t;return e(F2,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),$2="acosh",fq=["typed","config","Complex"],hq=_($2,fq,t=>{var{typed:e,config:r,Complex:n}=t;return e($2,{number:function(a){return a>=1||r.predictable?dO(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),R2="acot",dq=["typed","BigNumber"],pq=_(R2,dq,t=>{var{typed:e,BigNumber:r}=t;return e(R2,{number:pO,Complex:function(i){return i.acot()},BigNumber:function(i){return new r(1).div(i).atan()}})}),P2="acoth",mq=["typed","config","Complex","BigNumber"],gq=_(P2,mq,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(P2,{number:function(o){return o>=1||o<=-1||r.predictable?mO(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})}),I2="acsc",vq=["typed","config","Complex","BigNumber"],yq=_(I2,vq,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(I2,{number:function(o){return o<=-1||o>=1||r.predictable?gO(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})}),L2="acsch",xq=["typed","BigNumber"],bq=_(L2,xq,t=>{var{typed:e,BigNumber:r}=t;return e(L2,{number:vO,Complex:function(i){return i.acsch()},BigNumber:function(i){return new r(1).div(i).asinh()}})}),_2="asec",wq=["typed","config","Complex","BigNumber"],Sq=_(_2,wq,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(_2,{number:function(o){return o<=-1||o>=1||r.predictable?yO(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})}),z2="asech",Cq=["typed","config","Complex","BigNumber"],Dq=_(z2,Cq,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(z2,{number:function(o){if(o<=1&&o>=-1||r.predictable){var s=1/o;if(s>0||r.predictable)return xO(o);var l=Math.sqrt(s*s-1);return new n(Math.log(l-s),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})}),U2="asin",Aq=["typed","config","Complex"],Eq=_(U2,Aq,t=>{var{typed:e,config:r,Complex:n}=t;return e(U2,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),Nq="asinh",Mq=["typed"],Tq=_(Nq,Mq,t=>{var{typed:e}=t;return e("asinh",{number:bO,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})}),kq="atan",Oq=["typed"],Bq=_(kq,Oq,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})}),q2="atan2",Fq=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],$q=_(q2,Fq,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=t,s=Bi({typed:e,equalScalar:n}),l=un({typed:e}),u=ZO({typed:e,equalScalar:n}),c=Ir({typed:e,equalScalar:n}),f=yr({typed:e,DenseMatrix:a}),h=Ot({typed:e,matrix:r,concat:o});return e(q2,{"number, number":Math.atan2,"BigNumber, BigNumber":(d,p)=>i.atan2(d,p)},h({scalar:"number | BigNumber",SS:u,DS:l,SD:s,Ss:c,sS:f}))}),H2="atanh",Rq=["typed","config","Complex"],Pq=_(H2,Rq,t=>{var{typed:e,config:r,Complex:n}=t;return e(H2,{number:function(a){return a<=1&&a>=-1||r.predictable?wO(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),pu=_("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}}),V2="cos",Iq=["typed"],Lq=_(V2,Iq,t=>{var{typed:e}=t,r=pu({typed:e});return e(V2,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)}),W2="cosh",_q=["typed"],zq=_(W2,_q,t=>{var{typed:e}=t;return e(W2,{number:S8,"Complex | BigNumber":r=>r.cosh()})}),j2="cot",Uq=["typed","BigNumber"],qq=_(j2,Uq,t=>{var{typed:e,BigNumber:r}=t,n=pu({typed:e});return e(j2,{number:SO,Complex:i=>i.cot(),BigNumber:i=>new r(1).div(i.tan())},n)}),G2="coth",Hq=["typed","BigNumber"],Vq=_(G2,Hq,t=>{var{typed:e,BigNumber:r}=t;return e(G2,{number:CO,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})}),K2="csc",Wq=["typed","BigNumber"],jq=_(K2,Wq,t=>{var{typed:e,BigNumber:r}=t,n=pu({typed:e});return e(K2,{number:DO,Complex:i=>i.csc(),BigNumber:i=>new r(1).div(i.sin())},n)}),Y2="csch",Gq=["typed","BigNumber"],Kq=_(Y2,Gq,t=>{var{typed:e,BigNumber:r}=t;return e(Y2,{number:AO,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})}),J2="sec",Yq=["typed","BigNumber"],Jq=_(J2,Yq,t=>{var{typed:e,BigNumber:r}=t,n=pu({typed:e});return e(J2,{number:EO,Complex:i=>i.sec(),BigNumber:i=>new r(1).div(i.cos())},n)}),Z2="sech",Zq=["typed","BigNumber"],Xq=_(Z2,Zq,t=>{var{typed:e,BigNumber:r}=t;return e(Z2,{number:NO,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})}),X2="sin",Qq=["typed"],eH=_(X2,Qq,t=>{var{typed:e}=t,r=pu({typed:e});return e(X2,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)}),Q2="sinh",tH=["typed"],rH=_(Q2,tH,t=>{var{typed:e}=t;return e(Q2,{number:MO,"Complex | BigNumber":r=>r.sinh()})}),eD="tan",nH=["typed"],iH=_(eD,nH,t=>{var{typed:e}=t,r=pu({typed:e});return e(eD,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)}),aH="tanh",oH=["typed"],sH=_(aH,oH,t=>{var{typed:e}=t;return e("tanh",{number:D8,"Complex | BigNumber":r=>r.tanh()})}),tD="setCartesian",lH=["typed","size","subset","compareNatural","Index","DenseMatrix"],uH=_(tD,lH,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(tD,{"Array | Matrix, Array | Matrix":function(l,u){var c=[];if(n(r(l),new a(0))!==0&&n(r(u),new a(0))!==0){var f=ft(Array.isArray(l)?l:l.toArray()).sort(i),h=ft(Array.isArray(u)?u:u.toArray()).sort(i);c=[];for(var d=0;d<f.length;d++)for(var p=0;p<h.length;p++)c.push([f[d],h[p]])}return Array.isArray(l)&&Array.isArray(u)?c:new o(c)}})}),rD="setDifference",cH=["typed","size","subset","compareNatural","Index","DenseMatrix"],fH=_(rD,cH,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(rD,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(n(r(l),new a(0))===0)c=[];else{if(n(r(u),new a(0))===0)return ft(l.toArray());var f=zl(ft(Array.isArray(l)?l:l.toArray()).sort(i)),h=zl(ft(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var d,p=0;p<f.length;p++){d=!1;for(var m=0;m<h.length;m++)if(i(f[p].value,h[m].value)===0&&f[p].identifier===h[m].identifier){d=!0;break}d||c.push(f[p])}}return Array.isArray(l)&&Array.isArray(u)?Zd(c):new o(Zd(c))}})}),nD="setDistinct",hH=["typed","size","subset","compareNatural","Index","DenseMatrix"],dH=_(nD,hH,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(nD,{"Array | Matrix":function(l){var u;if(n(r(l),new a(0))===0)u=[];else{var c=ft(Array.isArray(l)?l:l.toArray()).sort(i);u=[],u.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&u.push(c[f])}return Array.isArray(l)?u:new o(u)}})}),iD="setIntersect",pH=["typed","size","subset","compareNatural","Index","DenseMatrix"],mH=_(iD,pH,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(iD,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(n(r(l),new a(0))===0||n(r(u),new a(0))===0)c=[];else{var f=zl(ft(Array.isArray(l)?l:l.toArray()).sort(i)),h=zl(ft(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var d=0;d<f.length;d++)for(var p=0;p<h.length;p++)if(i(f[d].value,h[p].value)===0&&f[d].identifier===h[p].identifier){c.push(f[d]);break}}return Array.isArray(l)&&Array.isArray(u)?Zd(c):new o(Zd(c))}})}),aD="setIsSubset",gH=["typed","size","subset","compareNatural","Index"],vH=_(aD,gH,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(aD,{"Array | Matrix, Array | Matrix":function(s,l){if(n(r(s),new a(0))===0)return!0;if(n(r(l),new a(0))===0)return!1;for(var u=zl(ft(Array.isArray(s)?s:s.toArray()).sort(i)),c=zl(ft(Array.isArray(l)?l:l.toArray()).sort(i)),f,h=0;h<u.length;h++){f=!1;for(var d=0;d<c.length;d++)if(i(u[h].value,c[d].value)===0&&u[h].identifier===c[d].identifier){f=!0;break}if(f===!1)return!1}return!0}})}),oD="setMultiplicity",yH=["typed","size","subset","compareNatural","Index"],xH=_(oD,yH,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(oD,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(s,l){if(n(r(l),new a(0))===0)return 0;for(var u=ft(Array.isArray(l)?l:l.toArray()),c=0,f=0;f<u.length;f++)i(u[f],s)===0&&c++;return c}})}),sD="setPowerset",bH=["typed","size","subset","compareNatural","Index"],wH=_(sD,bH,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(sD,{"Array | Matrix":function(u){if(n(r(u),new a(0))===0)return[];for(var c=ft(Array.isArray(u)?u:u.toArray()).sort(i),f=[],h=0;h.toString(2).length<=c.length;)f.push(o(c,h.toString(2).split("").reverse())),h++;return s(f)}});function o(l,u){for(var c=[],f=0;f<u.length;f++)u[f]==="1"&&c.push(l[f]);return c}function s(l){for(var u=[],c=l.length-1;c>0;c--)for(var f=0;f<c;f++)l[f].length>l[f+1].length&&(u=l[f],l[f]=l[f+1],l[f+1]=u);return l}}),lD="setSize",SH=["typed","compareNatural"],CH=_(lD,SH,t=>{var{typed:e,compareNatural:r}=t;return e(lD,{"Array | Matrix":function(i){return Array.isArray(i)?ft(i).length:ft(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?ft(i).length:ft(i.toArray()).length;for(var o=ft(Array.isArray(i)?i:i.toArray()).sort(r),s=1,l=1;l<o.length;l++)r(o[l],o[l-1])!==0&&s++;return s}})}),uD="setSymDifference",DH=["typed","size","concat","subset","setDifference","Index"],AH=_(uD,DH,t=>{var{typed:e,size:r,concat:n,subset:i,setDifference:a,Index:o}=t;return e(uD,{"Array | Matrix, Array | Matrix":function(l,u){if(i(r(l),new o(0))===0)return ft(u);if(i(r(u),new o(0))===0)return ft(l);var c=ft(l),f=ft(u);return n(a(c,f),a(f,c))}})}),cD="setUnion",EH=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],NH=_(cD,EH,t=>{var{typed:e,size:r,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:s}=t;return e(cD,{"Array | Matrix, Array | Matrix":function(u,c){if(i(r(u),new s(0))===0)return ft(c);if(i(r(c),new s(0))===0)return ft(u);var f=ft(u),h=ft(c);return n(o(f,h),a(f,h))}})}),fD="add",MH=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],TH=_(fD,MH,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:s}=t,l=Io({typed:e}),u=gx({typed:e,equalScalar:i}),c=Os({typed:e,DenseMatrix:a}),f=Ot({typed:e,matrix:r,concat:s});return e(fD,{"any, any":n,"any, any, ...any":e.referToSelf(h=>(d,p,m)=>{for(var v=h(d,p),g=0;g<m.length;g++)v=h(v,m[g]);return v})},f({elop:n,DS:l,SS:u,Ss:c}))}),hD="hypot",kH=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],OH=_(hD,kH,t=>{var{typed:e,abs:r,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:s,isPositive:l}=t;return e(hD,{"... number | BigNumber":u,Array:u,Matrix:c=>u(ft(c.toArray()))});function u(c){for(var f=0,h=0,d=0;d<c.length;d++){if(Di(c[d]))throw new TypeError("Unexpected type of argument to hypot");var p=r(c[d]);s(h,p)?(f=a(f,a(i(h,p),i(h,p))),f=n(f,1),h=p):f=n(f,l(p)?a(i(p,h),i(p,h)):p)}return a(h,o(f))}}),dD="norm",BH=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],FH=_(dD,BH,t=>{var{typed:e,abs:r,add:n,pow:i,conj:a,sqrt:o,multiply:s,equalScalar:l,larger:u,smaller:c,matrix:f,ctranspose:h,eigs:d}=t;return e(dD,{number:Math.abs,Complex:function(A){return A.abs()},BigNumber:function(A){return A.abs()},boolean:function(A){return Math.abs(A)},Array:function(A){return x(f(A),2)},Matrix:function(A){return x(A,2)},"Array, number | BigNumber | string":function(A,E){return x(f(A),E)},"Matrix, number | BigNumber | string":function(A,E){return x(A,E)}});function p(C){var A=0;return C.forEach(function(E){var D=r(E);u(D,A)&&(A=D)},!0),A}function m(C){var A;return C.forEach(function(E){var D=r(E);(!A||c(D,A))&&(A=D)},!0),A||0}function v(C,A){if(A===Number.POSITIVE_INFINITY||A==="inf")return p(C);if(A===Number.NEGATIVE_INFINITY||A==="-inf")return m(C);if(A==="fro")return x(C,2);if(typeof A=="number"&&!isNaN(A)){if(!l(A,0)){var E=0;return C.forEach(function(D){E=n(i(r(D),A),E)},!0),i(E,1/A)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function g(C){var A=0;return C.forEach(function(E,D){A=n(A,s(E,a(E)))}),r(o(A))}function b(C){var A=[],E=0;return C.forEach(function(D,M){var k=M[1],$=n(A[k]||0,r(D));u($,E)&&(E=$),A[k]=$},!0),E}function y(C){var A=C.size();if(A[0]!==A[1])throw new RangeError("Invalid matrix dimensions");var E=h(C),D=s(E,C),M=d(D).values.toArray(),k=M[M.length-1];return r(o(k))}function w(C){var A=[],E=0;return C.forEach(function(D,M){var k=M[0],$=n(A[k]||0,r(D));u($,E)&&(E=$),A[k]=$},!0),E}function S(C,A){if(A===1)return b(C);if(A===Number.POSITIVE_INFINITY||A==="inf")return w(C);if(A==="fro")return g(C);if(A===2)return y(C);throw new Error("Unsupported parameter value "+A)}function x(C,A){var E=C.size();if(E.length===1)return v(C,A);if(E.length===2){if(E[0]&&E[1])return S(C,A);throw new RangeError("Invalid matrix dimensions")}}}),pD="dot",$H=["typed","addScalar","multiplyScalar","conj","size"],xB=_(pD,$H,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:a}=t;return e(pD,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function o(c,f){var h=u(c),d=u(f),p,m;if(h.length===1)p=h[0];else if(h.length===2&&h[1]===1)p=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(d.length===1)m=d[0];else if(d.length===2&&d[1]===1)m=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(p!==m)throw new RangeError("Vectors must have equal length ("+p+" != "+m+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function s(c,f){var h=o(c,f),d=We(c)?c._data:c,p=We(c)?c._datatype:void 0,m=We(f)?f._data:f,v=We(f)?f._datatype:void 0,g=u(c).length===2,b=u(f).length===2,y=r,w=n;if(p&&v&&p===v&&typeof p=="string"){var S=p;y=e.find(r,[S,S]),w=e.find(n,[S,S])}if(!g&&!b){for(var x=w(i(d[0]),m[0]),C=1;C<h;C++)x=y(x,w(i(d[C]),m[C]));return x}if(!g&&b){for(var A=w(i(d[0]),m[0][0]),E=1;E<h;E++)A=y(A,w(i(d[E]),m[E][0]));return A}if(g&&!b){for(var D=w(i(d[0][0]),m[0]),M=1;M<h;M++)D=y(D,w(i(d[M][0]),m[M]));return D}if(g&&b){for(var k=w(i(d[0][0]),m[0][0]),$=1;$<h;$++)k=y(k,w(i(d[$][0]),m[$][0]));return k}}function l(c,f){o(c,f);for(var h=c._index,d=c._values,p=f._index,m=f._values,v=0,g=r,b=n,y=0,w=0;y<h.length&&w<p.length;){var S=h[y],x=p[w];if(S<x){y++;continue}if(S>x){w++;continue}S===x&&(v=g(v,b(d[y],m[w])),y++,w++)}return v}function u(c){return We(c)?c.size():a(c)}}),RH="trace",PH=["typed","matrix","add"],IH=_(RH,PH,t=>{var{typed:e,matrix:r,add:n}=t;return e("trace",{Array:function(s){return i(r(s))},SparseMatrix:a,DenseMatrix:i,any:He});function i(o){var s=o._size,l=o._data;switch(s.length){case 1:if(s[0]===1)return He(l[0]);throw new RangeError("Matrix must be square (size: "+Ze(s)+")");case 2:{var u=s[0],c=s[1];if(u===c){for(var f=0,h=0;h<u;h++)f=n(f,l[h][h]);return f}else throw new RangeError("Matrix must be square (size: "+Ze(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ze(s)+")")}}function a(o){var s=o._values,l=o._index,u=o._ptr,c=o._size,f=c[0],h=c[1];if(f===h){var d=0;if(s.length>0)for(var p=0;p<h;p++)for(var m=u[p],v=u[p+1],g=m;g<v;g++){var b=l[g];if(b===p){d=n(d,s[g]);break}if(b>p)break}return d}throw new RangeError("Matrix must be square (size: "+Ze(c)+")")}}),mD="index",LH=["typed","Index"],_H=_(mD,LH,t=>{var{typed:e,Index:r}=t;return e(mD,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(s){return Qe(s)?s.toNumber():Array.isArray(s)||We(s)?s.map(function(l){return Qe(l)?l.toNumber():l}):s}),o=new r;return r.apply(o,a),o}})}),bB=new Set(["end"]),zH="Node",UH=["mathWithTransform"],qH=_(zH,UH,t=>{var{mathWithTransform:e}=t;function r(i){for(var a of[...bB])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},s=null;function l(u){var c=wl(u);return r(c),a(c,o,s)}return{evaluate:l}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!xt(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(s,l){s.forEach(function(u,c,f){l(u,c,f),o(u,l)})}o(this,a)}transform(a){function o(s,l,u){var c=a(s,l,u);return c!==s?c:s.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(s,l,u){a(s,l,u)&&o.push(s)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&$c(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toString(a)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o<"u"?o:this.toHTML(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function cn(t){return t&&t.isIndexError?new ci(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function wB(t){var{subset:e}=t;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return si(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw cn(a)}}}var ih="AccessorNode",HH=["subset","Node"],VH=_(ih,HH,t=>{var{subset:e,Node:r}=t,n=wB({subset:e});function i(o){return!(Do(o)||kn(o)||at(o)||Ba(o)||cf(o)||na(o)||mr(o))}class a extends r{constructor(s,l){if(super(),!xt(s))throw new TypeError('Node expected for parameter "object"');if(!Ts(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=s,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return ih}get isAccessorNode(){return!0}_compile(s,l){var u=this.object._compile(s,l),c=this.index._compile(s,l);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(d,p,m){return si(u(d,p,m),f)}}else return function(d,p,m){var v=u(d,p,m),g=c(d,p,v);return n(v,g)}}forEach(s){s(this.object,"object",this),s(this.index,"index",this)}map(s){return new a(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(s){var l=this.object.toString(s);return i(this.object)&&(l="("+l+")"),l+this.index.toString(s)}toHTML(s){var l=this.object.toHTML(s);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(s)}_toTex(s){var l=this.object.toTex(s);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(s)}toJSON(){return{mathjs:ih,object:this.object,index:this.index}}static fromJSON(s){return new a(s.object,s.index)}}return Sr(a,"name",ih),a},{isClass:!0,isNode:!0}),ah="ArrayNode",WH=["Node"],jH=_(ah,WH,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(xt))throw new TypeError("Array containing Nodes expected")}get type(){return ah}get isArrayNode(){return!0}_compile(i,a){var o=Aa(this.items,function(u){return u._compile(i,a)}),s=i.config.matrix!=="Array";if(s){var l=i.matrix;return function(c,f,h){return l(Aa(o,function(d){return d(c,f,h)}))}}else return function(c,f,h){return Aa(o,function(d){return d(c,f,h)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new r(a)}clone(){return new r(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:ah,items:this.items}}static fromJSON(i){return new r(i.items)}toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,s){var l=o.some(kn)&&!o.every(kn),u=s||l,c=u?"&":"\\\\",f=o.map(function(h){return h.items?a(h.items,!s):h.toTex(i)}).join(c);return l||!u||u&&!s?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return Sr(r,"name",ah),r},{isClass:!0,isNode:!0});function GH(t){var{subset:e,matrix:r}=t;return function(i,a,o){try{if(Array.isArray(i))return r(i).subset(a,o).valueOf();if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Ul(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw cn(s)}}}var xi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function oh(t,e){if(!e||e!=="auto")return t;for(var r=t;na(r);)r=r.content;return r}function Dt(t,e,r,n){var i=t;e!=="keep"&&(i=t.getContent());for(var a=i.getIdentifier(),o=null,s=0;s<xi.length;s++)if(a in xi[s]){o=s;break}if(a==="OperatorNode:multiply"&&i.implicit&&r!=="show"){var l=oh(i.args[0],e);!(at(l)&&n&&n.getIdentifier()==="OperatorNode:divide"&&L0(oh(n.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&L0(oh(l.args[0],e))&&at(oh(l.args[1])))&&(o+=1)}return o}function Bu(t,e){var r=t;e!=="keep"&&(r=t.getContent());var n=r.getIdentifier(),i=Dt(r,e);if(i===null)return null;var a=xi[i][n];if(Oe(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function rv(t,e,r){var n=r!=="keep"?t.getContent():t,i=r!=="keep"?t.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),s=Dt(n,r);if(s===null)return null;var l=xi[s][a];if(Oe(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===o)return!0;return!1}return null}function KH(t){var e="OperatorNode:"+t;for(var r of xi)if(e in r)return r[e].op;return null}var sh="AssignmentNode",YH=["subset","?matrix","Node"],JH=_(sh,YH,t=>{var{subset:e,matrix:r,Node:n}=t,i=wB({subset:e}),a=GH({subset:e,matrix:r});function o(l,u,c){u||(u="keep");var f=Dt(l,u,c),h=Dt(l.value,u,c);return u==="all"||h!==null&&h<=f}class s extends n{constructor(u,c,f){if(super(),this.object=u,this.index=f?c:null,this.value=f||c,!mr(u)&&!Do(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(mr(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Ts(this.index))throw new TypeError('IndexNode expected as "index"');if(!xt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return sh}get isAssignmentNode(){return!0}_compile(u,c){var f=this.object._compile(u,c),h=this.index?this.index._compile(u,c):null,d=this.value._compile(u,c),p=this.object.name;if(this.index)if(this.index.isObjectProperty()){var m=this.index.getObjectProperty();return function(w,S,x){var C=f(w,S,x),A=d(w,S,x);return Ul(C,m,A),A}}else{if(mr(this.object))return function(w,S,x){var C=f(w,S,x),A=d(w,S,x),E=h(w,S,C);return w.set(p,a(C,E,A)),A};var v=this.object.object._compile(u,c);if(this.object.index.isObjectProperty()){var g=this.object.index.getObjectProperty();return function(w,S,x){var C=v(w,S,x),A=si(C,g),E=h(w,S,A),D=d(w,S,x);return Ul(C,g,a(A,E,D)),D}}else{var b=this.object.index._compile(u,c);return function(w,S,x){var C=v(w,S,x),A=b(w,S,C),E=i(C,A),D=h(w,S,E),M=d(w,S,x);return a(C,A,a(E,D,M)),M}}}else{if(!mr(this.object))throw new TypeError("SymbolNode expected as object");return function(w,S,x){var C=d(w,S,x);return w.set(p,C),C}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var c=this._ifNode(u(this.object,"object",this)),f=this.index?this._ifNode(u(this.index,"index",this)):null,h=this._ifNode(u(this.value,"value",this));return new s(c,f,h)}clone(){return new s(this.object,this.index,this.value)}_toString(u){var c=this.object.toString(u),f=this.index?this.index.toString(u):"",h=this.value.toString(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(h="("+h+")"),c+f+" = "+h}toJSON(){return{mathjs:sh,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new s(u.object,u.index,u.value)}toHTML(u){var c=this.object.toHTML(u),f=this.index?this.index.toHTML(u):"",h=this.value.toHTML(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(h='<span class="math-paranthesis math-round-parenthesis">(</span>'+h+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+h}_toTex(u){var c=this.object.toTex(u),f=this.index?this.index.toTex(u):"",h=this.value.toTex(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(h="\\left(".concat(h,"\\right)")),c+f+":="+h}}return Sr(s,"name",sh),s},{isClass:!0,isNode:!0}),lh="BlockNode",ZH=["ResultSet","Node"],XH=_(lh,ZH,t=>{var{ResultSet:e,Node:r}=t;class n extends r{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var s=o&&o.node,l=o&&o.visible!==void 0?o.visible:!0;if(!xt(s))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:l}})}get type(){return lh}get isBlockNode(){return!0}_compile(a,o){var s=Aa(this.blocks,function(l){return{evaluate:l.node._compile(a,o),visible:l.visible}});return function(u,c,f){var h=[];return hm(s,function(p){var m=p.evaluate(u,c,f);p.visible&&h.push(m)}),new e(h)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],s=0;s<this.blocks.length;s++){var l=this.blocks[s],u=this._ifNode(a(l.node,"blocks["+s+"].node",this));o[s]={node:u,visible:l.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:lh,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return Sr(n,"name",lh),n},{isClass:!0,isNode:!0}),uh="ConditionalNode",QH=["Node"],eV=_(uh,QH,t=>{var{Node:e}=t;function r(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(Qe(i))return!i.isZero();if(Di(i))return!!(i.re||i.im);if(yi(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Et(i)+'"')}class n extends e{constructor(a,o,s){if(super(),!xt(a))throw new TypeError("Parameter condition must be a Node");if(!xt(o))throw new TypeError("Parameter trueExpr must be a Node");if(!xt(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=s}get type(){return uh}get isConditionalNode(){return!0}_compile(a,o){var s=this.condition._compile(a,o),l=this.trueExpr._compile(a,o),u=this.falseExpr._compile(a,o);return function(f,h,d){return r(s(f,h,d))?l(f,h,d):u(f,h,d)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=Dt(this,o,a&&a.implicit),l=this.condition.toString(a),u=Dt(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l="("+l+")");var c=this.trueExpr.toString(a),f=Dt(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=s)&&(c="("+c+")");var h=this.falseExpr.toString(a),d=Dt(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||d!==null&&d<=s)&&(h="("+h+")"),l+" ? "+c+" : "+h}toJSON(){return{mathjs:uh,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=Dt(this,o,a&&a.implicit),l=this.condition.toHTML(a),u=Dt(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=Dt(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=s)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var h=this.falseExpr.toHTML(a),d=Dt(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||d!==null&&d<=s)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+h}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Sr(n,"name",uh),n},{isClass:!0,isNode:!0}),X0=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tV={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},rV={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},nV=function(e,r){return X0({},e,r)},iV=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.preserveFormatting,n=r===void 0?!1:r,i=e.escapeMapFn,a=i===void 0?nV:i,o=String(t),s="",l=a(X0({},tV),n?X0({},rV):{}),u=Object.keys(l),c=function(){var h=!1;u.forEach(function(d,p){h||o.length>=d.length&&o.slice(0,d.length)===d&&(s+=l[u[p]],o=o.slice(d.length,o.length),h=!0)}),h||(s+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return s};const aV=As(iV);var Q0={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ut={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},gD={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ut.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ut.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ut.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ut.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ut.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ut.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ut.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ut.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ut.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ut.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ut.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ut.bitAnd,"${args[1]}\\right)")},bitNot:{1:ut.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ut.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ut.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ut.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ut.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ut.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ut.and,"${args[1]}\\right)")},not:{1:ut.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ut.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ut.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ut.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(ut.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ut.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ut.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ut.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ut.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ut.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ut.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ut.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ut.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ut.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(Q0.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},oV="\\mathrm{${name}}\\left(${args}\\right)",vD={deg:"^\\circ"};function ey(t){return aV(t,{preserveFormatting:!0})}function SB(t,e){return e=typeof e>"u"?!1:e,e?Oe(vD,t)?vD[t]:"\\mathrm{"+ey(t)+"}":Oe(Q0,t)?Q0[t]:ey(t)}var ch="ConstantNode",sV=["Node"],lV=_(ch,sV,t=>{var{Node:e}=t;class r extends e{constructor(i){super(),this.value=i}get type(){return ch}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new r(this.value)}_toString(i){return Ze(this.value,i)}toHTML(i){var a=this._toString(i);switch(Et(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:ch,value:this.value}}static fromJSON(i){return new r(i.value)}_toTex(i){var a=this._toString(i);switch(Et(this.value)){case"string":return"\\mathtt{"+ey(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return Sr(r,"name",ch),r},{isClass:!0,isNode:!0}),fh="FunctionAssignmentNode",uV=["typed","Node"],cV=_(fh,uV,t=>{var{typed:e,Node:r}=t;function n(a,o,s){var l=Dt(a,o,s),u=Dt(a.expr,o,s);return o==="all"||u!==null&&u<=l}class i extends r{constructor(o,s,l){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!xt(l))throw new TypeError('Node expected for parameter "expr"');if(bB.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var u=new Set;for(var c of s){var f=typeof c=="string"?c:c.name;if(u.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));u.add(f)}this.name=o,this.params=s.map(function(h){return h&&h.name||h}),this.types=s.map(function(h){return h&&h.type||"any"}),this.expr=l}get type(){return fh}get isFunctionAssignmentNode(){return!0}_compile(o,s){var l=Object.create(s);hm(this.params,function(p){l[p]=!0});var u=this.expr._compile(o,l),c=this.name,f=this.params,h=gS(this.types,","),d=c+"("+gS(this.params,", ")+")";return function(m,v,g){var b={};b[h]=function(){for(var w=Object.create(v),S=0;S<f.length;S++)w[f[S]]=arguments[S];return u(m,w,g)};var y=e(c,b);return y.syntax=d,m.set(c,y),y}}forEach(o){o(this.expr,"expr",this)}map(o){var s=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),s)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return n(this,s,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:fh,name:this.name,params:this.params.map(function(s,l){return{name:s,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}toHTML(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+Zn(this.params[u])+"</span>");var c=this.expr.toHTML(o);return n(this,s,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Zn(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return n(this,s,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(SB).join(",")+"\\right):="+l}}return Sr(i,"name",fh),i},{isClass:!0,isNode:!0}),hh="IndexNode",fV=["Node","size"],hV=_(hh,fV,t=>{var{Node:e,size:r}=t;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(xt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return hh}get isIndexNode(){return!0}_compile(a,o){var s=Aa(this.dimensions,function(u,c){var f=u.filter(p=>p.isSymbolNode&&p.name==="end").length>0;if(f){var h=Object.create(o);h.end=!0;var d=u._compile(a,h);return function(m,v,g){if(!We(g)&&!yt(g)&&!Kr(g))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Et(g));var b=r(g).valueOf(),y=Object.create(v);return y.end=b[c],d(m,y,g)}}else return u._compile(a,o)}),l=si(a,"index");return function(c,f,h){var d=Aa(s,function(p){return p(c,f,h)});return l(...d)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this._ifNode(a(this.dimensions[s],"dimensions["+s+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&at(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:hh,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}toHTML(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Zn(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(s){return s.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Sr(n,"name",hh),n},{isClass:!0,isNode:!0}),dh="ObjectNode",dV=["Node"],pV=_(dh,dV,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return xt(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return dh}get isObjectNode(){return!0}_compile(i,a){var o={};for(var s in this.properties)if(Oe(this.properties,s)){var l=th(s),u=JSON.parse(l);if(!cx(this.properties,u))throw new Error('No access to property "'+u+'"');o[u]=this.properties[s]._compile(i,a)}return function(f,h,d){var p={};for(var m in o)Oe(o,m)&&(p[m]=o[m](f,h,d));return p}}forEach(i){for(var a in this.properties)Oe(this.properties,a)&&i(this.properties[a],"properties["+th(a)+"]",this)}map(i){var a={};for(var o in this.properties)Oe(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+th(o)+"]",this)));return new r(a)}clone(){var i={};for(var a in this.properties)Oe(this.properties,a)&&(i[a]=this.properties[a]);return new r(i)}_toString(i){var a=[];for(var o in this.properties)Oe(this.properties,o)&&a.push(th(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:dh,properties:this.properties}}static fromJSON(i){return new r(i.properties)}toHTML(i){var a=[];for(var o in this.properties)Oe(this.properties,o)&&a.push('<span class="math-symbol math-property">'+Zn(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)Oe(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var s="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return s}}return Sr(r,"name",dh),r},{isClass:!0,isNode:!0}),ph="OperatorNode",mV=["Node"],gV=_(ph,mV,t=>{var{Node:e}=t;function r(a,o){var s=a;if(o==="auto")for(;na(s);)s=s.content;return at(s)?!0:er(s)?r(s.args[0],o):!1}function n(a,o,s,l,u){var c=Dt(a,o,s),f=Bu(a,o);if(o==="all"||l.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return l.map(function(D){switch(D.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var h;switch(l.length){case 0:h=[];break;case 1:{var d=Dt(l[0],o,s,a);if(u&&d!==null){var p,m;if(o==="keep"?(p=l[0].getIdentifier(),m=a.getIdentifier()):(p=l[0].getContent().getIdentifier(),m=a.getContent().getIdentifier()),xi[c][m].latexLeftParens===!1){h=[!1];break}if(xi[d][p].latexParens===!1){h=[!1];break}}if(d===null){h=[!1];break}if(d<=c){h=[!0];break}h=[!1]}break;case 2:{var v,g=Dt(l[0],o,s,a),b=rv(a,l[0],o);g===null?v=!1:g===c&&f==="right"&&!b||g<c?v=!0:v=!1;var y,w=Dt(l[1],o,s,a),S=rv(a,l[1],o);if(w===null?y=!1:w===c&&f==="left"&&!S||w<c?y=!0:y=!1,u){var x,C,A;o==="keep"?(x=a.getIdentifier(),C=a.args[0].getIdentifier(),A=a.args[1].getIdentifier()):(x=a.getContent().getIdentifier(),C=a.args[0].getContent().getIdentifier(),A=a.args[1].getContent().getIdentifier()),g!==null&&(xi[c][x].latexLeftParens===!1&&(v=!1),xi[g][C].latexParens===!1&&(v=!1)),w!==null&&(xi[c][x].latexRightParens===!1&&(y=!1),xi[w][A].latexParens===!1&&(y=!1))}h=[v,y]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(h=l.map(function(D){var M=Dt(D,o,s,a),k=rv(a,D,o),$=Bu(D,o);return M===null?!1:c===M&&f===$&&!k?!0:M<c}));break}if(l.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&s==="hide")for(var E=1;E<h.length;++E)r(l[E],o)&&!h[E-1]&&(o!=="keep"||!na(l[E-1]))&&(h[E]=!0);return h}class i extends e{constructor(o,s,l,u,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof s!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(xt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=c===!0,this.op=o,this.fn=s,this.args=l||[]}get type(){return ph}get isOperatorNode(){return!0}_compile(o,s){if(typeof this.fn!="string"||!fx(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=si(o,this.fn),u=Aa(this.args,function(d){return d._compile(o,s)});if(u.length===1){var c=u[0];return function(p,m,v){return l(c(p,m,v))}}else if(u.length===2){var f=u[0],h=u[1];return function(p,m,v){return l(f(p,m,v),h(p,m,v))}}else return function(p,m,v){return l.apply(null,Aa(u,function(g){return g(p,m,v)}))}}forEach(o){for(var s=0;s<this.args.length;s++)o(this.args[s],"args["+s+"]",this)}map(o){for(var s=[],l=0;l<this.args.length;l++)s[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,s,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,c=n(this,s,l,u,!1);if(u.length===1){var f=Bu(this,s),h=u[0].toString(o);c[0]&&(h="("+h+")");var d=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(d?" ":"")+h:f==="left"?h+(d?" ":"")+this.op:h+this.op}else if(u.length===2){var p=u[0].toString(o),m=u[1].toString(o);return c[0]&&(p="("+p+")"),c[1]&&(m="("+m+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?p+" "+m:p+" "+this.op+" "+m}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=u.map(function(g,b){return g=g.toString(o),c[b]&&(g="("+g+")"),g});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?v.join(" "):v.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:ph,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}toHTML(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,c=n(this,s,l,u,!1);if(u.length===1){var f=Bu(this,s),h=u[0].toHTML(o);return c[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Zn(this.op)+"</span>"+h:h+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Zn(this.op)+"</span>"}else if(u.length===2){var d=u[0].toHTML(o),p=u[1].toHTML(o);return c[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?d+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+p:d+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Zn(this.op)+"</span>"+p}else{var m=u.map(function(v,g){return v=v.toHTML(o),c[g]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),v});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):m.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Zn(this.op)+"</span>"):'<span class="math-function">'+Zn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+m.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,c=n(this,s,l,u,!0),f=ut[this.fn];if(f=typeof f>"u"?this.op:f,u.length===1){var h=Bu(this,s),d=u[0].toTex(o);return c[0]&&(d="\\left(".concat(d,"\\right)")),h==="right"?f+d:d+f}else if(u.length===2){var p=u[0],m=p.toTex(o);c[0]&&(m="\\left(".concat(m,"\\right)"));var v=u[1],g=v.toTex(o);c[1]&&(g="\\left(".concat(g,"\\right)"));var b;switch(s==="keep"?b=p.getIdentifier():b=p.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+m+"}{"+g+"}";case"OperatorNode:pow":switch(m="{"+m+"}",g="{"+g+"}",b){case"ConditionalNode":case"OperatorNode:divide":m="\\left(".concat(m,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return m+"~"+g}return m+f+g}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=u.map(function(w,S){return w=w.toTex(o),c[S]&&(w="\\left(".concat(w,"\\right)")),w});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?y.join("~"):y.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(w){return w.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Sr(i,"name",ph),i},{isClass:!0,isNode:!0}),mh="ParenthesisNode",vV=["Node"],yV=_(mh,vV,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),!xt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return mh}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new r(a)}clone(){return new r(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:mh,content:this.content}}static fromJSON(i){return new r(i.content)}toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Sr(r,"name",mh),r},{isClass:!0,isNode:!0}),gh="RangeNode",xV=["Node"],bV=_(gh,xV,t=>{var{Node:e}=t;function r(i,a,o){var s=Dt(i,a,o),l={},u=Dt(i.start,a,o);if(l.start=u!==null&&u<=s||a==="all",i.step){var c=Dt(i.step,a,o);l.step=c!==null&&c<=s||a==="all"}var f=Dt(i.end,a,o);return l.end=f!==null&&f<=s||a==="all",l}class n extends e{constructor(a,o,s){if(super(),!xt(a))throw new TypeError("Node expected");if(!xt(o))throw new TypeError("Node expected");if(s&&!xt(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=s||null}get type(){return gh}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return mr(o)&&o.name==="end"});return a.length>0}_compile(a,o){var s=a.range,l=this.start._compile(a,o),u=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(h,d,p){return s(l(h,d,p),u(h,d,p),c(h,d,p))}}else return function(h,d,p){return s(l(h,d,p),u(h,d,p))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=r(this,o,a&&a.implicit),l,u=this.start.toString(a);if(s.start&&(u="("+u+")"),l=u,this.step){var c=this.step.toString(a);s.step&&(c="("+c+")"),l+=":"+c}var f=this.end.toString(a);return s.end&&(f="("+f+")"),l+=":"+f,l}toJSON(){return{mathjs:gh,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=r(this,o,a&&a.implicit),l,u=this.start.toHTML(a);if(s.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var c=this.step.toHTML(a);s.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return s.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f,l}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=r(this,o,a&&a.implicit),l=this.start.toTex(a);if(s.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(a);s.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var c=this.end.toTex(a);return s.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return Sr(n,"name",gh),n},{isClass:!0,isNode:!0}),vh="RelationalNode",wV=["Node"],SV=_(vh,wV,t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return vh}get isRelationalNode(){return!0}_compile(a,o){var s=this,l=this.params.map(u=>u._compile(a,o));return function(c,f,h){for(var d,p=l[0](c,f,h),m=0;m<s.conditionals.length;m++){d=p,p=l[m+1](c,f,h);var v=si(a,s.conditionals[m]);if(!v(d,p))return!1}return!0}}forEach(a){this.params.forEach((o,s)=>a(o,"params["+s+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,s)=>this._ifNode(a(o,"params["+s+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=Dt(this,o,a&&a.implicit),l=this.params.map(function(f,h){var d=Dt(f,o,a&&a.implicit);return o==="all"||d!==null&&d<=s?"("+f.toString(a)+")":f.toString(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=" "+r[this.conditionals[c]],u+=" "+l[c+1];return u}toJSON(){return{mathjs:vh,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=Dt(this,o,a&&a.implicit),l=this.params.map(function(f,h){var d=Dt(f,o,a&&a.implicit);return o==="all"||d!==null&&d<=s?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Zn(r[this.conditionals[c]])+"</span>"+l[c+1];return u}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=Dt(this,o,a&&a.implicit),l=this.params.map(function(f,h){var d=Dt(f,o,a&&a.implicit);return o==="all"||d!==null&&d<=s?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=ut[this.conditionals[c]]+l[c+1];return u}}return Sr(n,"name",vh),n},{isClass:!0,isNode:!0}),CV="SymbolNode",DV=["math","?Unit","Node"],AV=_(CV,DV,t=>{var{math:e,Unit:r,Node:n}=t;function i(o){return r?r.isValuelessUnit(o):!1}class a extends n{constructor(s){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');this.name=s}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(s,l){var u=this.name;if(l[u]===!0)return function(f,h,d){return h[u]};if(u in s)return function(f,h,d){return f.has(u)?f.get(u):si(s,u)};var c=i(u);return function(f,h,d){return f.has(u)?f.get(u):c?new r(null,u):a.onUndefinedSymbol(u)}}forEach(s){}map(s){return this.clone()}static onUndefinedSymbol(s){throw new Error("Undefined symbol "+s)}clone(){return new a(this.name)}_toString(s){return this.name}toHTML(s){var l=Zn(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(s){return new a(s.name)}_toTex(s){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var u=SB(this.name,l);return u[0]==="\\"?u:" "+u}}return a},{isClass:!0,isNode:!0});function Yu(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return typeof t.createSubScope=="function"?yS(t.createSubScope(),...r):yS(ql(),t,...r)}var yh="FunctionNode",EV=["math","Node","SymbolNode"],NV=_(yh,EV,t=>{var{math:e,Node:r,SymbolNode:n}=t,i=s=>Ze(s,{truncate:78});function a(s,l,u){for(var c="",f=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,h=0,d;(d=f.exec(s))!==null;)if(c+=s.substring(h,d.index),h=d.index,d[0]==="$$")c+="$",h++;else{h+=d[0].length;var p=l[d[1]];if(!p)throw new ReferenceError("Template: Property "+d[1]+" does not exist.");if(d[2]===void 0)switch(typeof p){case"string":c+=p;break;case"object":if(xt(p))c+=p.toTex(u);else if(Array.isArray(p))c+=p.map(function(m,v){if(xt(m))return m.toTex(u);throw new TypeError("Template: "+d[1]+"["+v+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+d[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+d[1]+" has to be a Node, String or array of Nodes")}else if(xt(p[d[2]]&&p[d[2]]))c+=p[d[2]].toTex(u);else throw new TypeError("Template: "+d[1]+"["+d[2]+"] is not a Node.")}return c+=s.slice(h),c}class o extends r{constructor(l,u){if(super(),typeof l=="string"&&(l=new n(l)),!xt(l))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(u)||!u.every(xt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=l,this.args=u||[]}get name(){return this.fn.name||""}get type(){return yh}get isFunctionNode(){return!0}_compile(l,u){var c=this.args.map(C=>C._compile(l,u));if(mr(this.fn)){var f=this.fn.name;if(u[f]){var v=this.args;return function(A,E,D){var M=E[f];if(typeof M!="function")throw new TypeError("Argument '".concat(f,"' was not a function; received: ").concat(i(M)));if(M.rawArgs)return M(v,l,Yu(A,E),A);var k=c.map($=>$(A,E,D));return M.apply(M,k)}}else{var h=f in l?si(l,f):void 0,d=typeof h=="function"&&h.rawArgs===!0,p=C=>{var A;if(C.has(f))A=C.get(f);else if(f in l)A=si(l,f);else return o.onUndefinedFunction(f);if(typeof A=="function")return A;throw new TypeError("'".concat(f,`' is not a function; its value is:
  `).concat(i(A)))};if(d){var m=this.args;return function(A,E,D){var M=p(A);return M(m,l,Yu(A,E),A)}}else switch(c.length){case 0:return function(A,E,D){var M=p(A);return M()};case 1:return function(A,E,D){var M=p(A),k=c[0];return M(k(A,E,D))};case 2:return function(A,E,D){var M=p(A),k=c[0],$=c[1];return M(k(A,E,D),$(A,E,D))};default:return function(A,E,D){var M=p(A),k=c.map($=>$(A,E,D));return M(...k)}}}}else if(Do(this.fn)&&Ts(this.fn.index)&&this.fn.index.isObjectProperty()){var g=this.fn.object._compile(l,u),b=this.fn.index.getObjectProperty(),y=this.args;return function(A,E,D){var M=g(A,E,D);P8(M,b);var k=M[b]&&M[b].rawArgs;if(k)return M[b](y,l,Yu(A,E),A);var $=c.map(I=>I(A,E,D));return M[b].apply(M,$)}}else{var w=this.fn.toString(),S=this.fn._compile(l,u),x=this.args;return function(A,E,D){var M=S(A,E,D);if(typeof M!="function")throw new TypeError("Expression '".concat(w,"' did not evaluate to a function; value is:")+`
  `.concat(i(M)));if(M.rawArgs)return M(x,l,Yu(A,E),A);var k=c.map($=>$(A,E,D));return M.apply(M,k)}}}forEach(l){l(this.fn,"fn",this);for(var u=0;u<this.args.length;u++)l(this.args[u],"args["+u+"]",this)}map(l){for(var u=this._ifNode(l(this.fn,"fn",this)),c=[],f=0;f<this.args.length;f++)c[f]=this._ifNode(l(this.args[f],"args["+f+"]",this));return new o(u,c)}clone(){return new o(this.fn,this.args.slice(0))}toString(l){var u,c=this.fn.toString(l);return l&&typeof l.handler=="object"&&Oe(l.handler,c)&&(u=l.handler[c](this,l)),typeof u<"u"?u:super.toString(l)}_toString(l){var u=this.args.map(function(f){return f.toString(l)}),c=uu(this.fn)?"("+this.fn.toString(l)+")":this.fn.toString(l);return c+"("+u.join(", ")+")"}toJSON(){return{mathjs:yh,fn:this.fn,args:this.args}}toHTML(l){var u=this.args.map(function(c){return c.toHTML(l)});return'<span class="math-function">'+Zn(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(l){var u;return l&&typeof l.handler=="object"&&Oe(l.handler,this.name)&&(u=l.handler[this.name](this,l)),typeof u<"u"?u:super.toTex(l)}_toTex(l){var u=this.args.map(function(h){return h.toTex(l)}),c;gD[this.name]&&(c=gD[this.name]),e[this.name]&&(typeof e[this.name].toTex=="function"||typeof e[this.name].toTex=="object"||typeof e[this.name].toTex=="string")&&(c=e[this.name].toTex);var f;switch(typeof c){case"function":f=c(this,l);break;case"string":f=a(c,this,l);break;case"object":switch(typeof c[u.length]){case"function":f=c[u.length](this,l);break;case"string":f=a(c[u.length],this,l);break}}return typeof f<"u"?f:a(oV,this,l)}getIdentifier(){return this.type+":"+this.name}}return Sr(o,"name",yh),Sr(o,"onUndefinedFunction",function(s){throw new Error("Undefined function "+s)}),Sr(o,"fromJSON",function(s){return new o(s.fn,s.args)}),o},{isClass:!0,isNode:!0}),yD="parse",MV=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],TV=_(yD,MV,t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:s,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:h,ObjectNode:d,OperatorNode:p,ParenthesisNode:m,RangeNode:v,RelationalNode:g,SymbolNode:b}=t,y=e(yD,{string:function(K){return P(K,{})},"Array | Matrix":function(K){return w(K,{})},"string, Object":function(K,ae){var Ae=ae.nodes!==void 0?ae.nodes:{};return P(K,Ae)},"Array | Matrix, Object":w});function w(B){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=K.nodes!==void 0?K.nodes:{};return et(B,function(Ae){if(typeof Ae!="string")throw new TypeError("String expected");return P(Ae,ae)})}var S={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},x={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"];function D(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:S.NULL,nestingLevel:0,conditionalLevel:null}}function M(B,K){return B.expression.substr(B.index,K)}function k(B){return M(B,1)}function $(B){B.index++}function I(B){return B.expression.charAt(B.index-1)}function F(B){return B.expression.charAt(B.index+1)}function N(B){for(B.tokenType=S.NULL,B.token="",B.comment="";;){if(k(B)==="#")for(;k(B)!==`
`&&k(B)!=="";)B.comment+=k(B),$(B);if(y.isWhitespace(k(B),B.nestingLevel))$(B);else break}if(k(B)===""){B.tokenType=S.DELIMITER;return}if(k(B)===`
`&&!B.nestingLevel){B.tokenType=S.DELIMITER,B.token=k(B),$(B);return}var K=k(B),ae=M(B,2),Ae=M(B,3);if(Ae.length===3&&x[Ae]){B.tokenType=S.DELIMITER,B.token=Ae,$(B),$(B),$(B);return}if(ae.length===2&&x[ae]){B.tokenType=S.DELIMITER,B.token=ae,$(B),$(B);return}if(x[K]){B.tokenType=S.DELIMITER,B.token=K,$(B);return}if(y.isDigitDot(K)){B.tokenType=S.NUMBER;var Le=M(B,2);if(Le==="0b"||Le==="0o"||Le==="0x"){for(B.token+=k(B),$(B),B.token+=k(B),$(B);y.isHexDigit(k(B));)B.token+=k(B),$(B);if(k(B)===".")for(B.token+=".",$(B);y.isHexDigit(k(B));)B.token+=k(B),$(B);else if(k(B)==="i")for(B.token+="i",$(B);y.isDigit(k(B));)B.token+=k(B),$(B);return}if(k(B)==="."){if(B.token+=k(B),$(B),!y.isDigit(k(B))){B.tokenType=S.DELIMITER;return}}else{for(;y.isDigit(k(B));)B.token+=k(B),$(B);y.isDecimalMark(k(B),F(B))&&(B.token+=k(B),$(B))}for(;y.isDigit(k(B));)B.token+=k(B),$(B);if(k(B)==="E"||k(B)==="e"){if(y.isDigit(F(B))||F(B)==="-"||F(B)==="+"){if(B.token+=k(B),$(B),(k(B)==="+"||k(B)==="-")&&(B.token+=k(B),$(B)),!y.isDigit(k(B)))throw Ge(B,'Digit expected, got "'+k(B)+'"');for(;y.isDigit(k(B));)B.token+=k(B),$(B);if(y.isDecimalMark(k(B),F(B)))throw Ge(B,'Digit expected, got "'+k(B)+'"')}else if(F(B)===".")throw $(B),Ge(B,'Digit expected, got "'+k(B)+'"')}return}if(y.isAlpha(k(B),I(B),F(B))){for(;y.isAlpha(k(B),I(B),F(B))||y.isDigit(k(B));)B.token+=k(B),$(B);Oe(C,B.token)?B.tokenType=S.DELIMITER:B.tokenType=S.SYMBOL;return}for(B.tokenType=S.UNKNOWN;k(B)!=="";)B.token+=k(B),$(B);throw Ge(B,'Syntax error in part "'+B.token+'"')}function T(B){do N(B);while(B.token===`
`)}function R(B){B.nestingLevel++}function O(B){B.nestingLevel--}y.isAlpha=function(K,ae,Ae){return y.isValidLatinOrGreek(K)||y.isValidMathSymbol(K,Ae)||y.isValidMathSymbol(ae,K)},y.isValidLatinOrGreek=function(K){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(K)},y.isValidMathSymbol=function(K,ae){return/^[\uD835]$/.test(K)&&/^[\uDC00-\uDFFF]$/.test(ae)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(ae)},y.isWhitespace=function(K,ae){return K===" "||K==="	"||K===`
`&&ae>0},y.isDecimalMark=function(K,ae){return K==="."&&ae!=="/"&&ae!=="*"&&ae!=="^"},y.isDigitDot=function(K){return K>="0"&&K<="9"||K==="."},y.isDigit=function(K){return K>="0"&&K<="9"},y.isHexDigit=function(K){return K>="0"&&K<="9"||K>="a"&&K<="f"||K>="A"&&K<="F"};function P(B,K){var ae=D();te(ae,{expression:B,extraNodes:K}),N(ae);var Ae=V(ae);if(ae.token!=="")throw ae.tokenType===S.DELIMITER?mt(ae,"Unexpected operator "+ae.token):Ge(ae,'Unexpected part "'+ae.token+'"');return Ae}function V(B){var K,ae=[],Ae;for(B.token!==""&&B.token!==`
`&&B.token!==";"&&(K=W(B),B.comment&&(K.comment=B.comment));B.token===`
`||B.token===";";)ae.length===0&&K&&(Ae=B.token!==";",ae.push({node:K,visible:Ae})),N(B),B.token!==`
`&&B.token!==";"&&B.token!==""&&(K=W(B),B.comment&&(K.comment=B.comment),Ae=B.token!==";",ae.push({node:K,visible:Ae}));return ae.length>0?new s(ae):(K||(K=new u(void 0),B.comment&&(K.comment=B.comment)),K)}function W(B){var K,ae,Ae,Le,Ve=L(B);if(B.token==="="){if(mr(Ve))return K=Ve.name,T(B),Ae=W(B),new o(new b(K),Ae);if(Do(Ve))return T(B),Ae=W(B),new o(Ve.object,Ve.index,Ae);if(Ba(Ve)&&mr(Ve.fn)&&(Le=!0,ae=[],K=Ve.name,Ve.args.forEach(function(Yt,sr){mr(Yt)?ae[sr]=Yt.name:Le=!1}),Le))return T(B),Ae=W(B),new c(K,ae,Ae);throw Ge(B,"Invalid left hand side of assignment operator =")}return Ve}function L(B){for(var K=G(B);B.token==="?";){var ae=B.conditionalLevel;B.conditionalLevel=B.nestingLevel,T(B);var Ae=K,Le=W(B);if(B.token!==":")throw Ge(B,"False part of conditional expression expected");B.conditionalLevel=null,T(B);var Ve=W(B);K=new l(Ae,Le,Ve),B.conditionalLevel=ae}return K}function G(B){for(var K=ee(B);B.token==="or";)T(B),K=new p("or","or",[K,ee(B)]);return K}function ee(B){for(var K=Z(B);B.token==="xor";)T(B),K=new p("xor","xor",[K,Z(B)]);return K}function Z(B){for(var K=se(B);B.token==="and";)T(B),K=new p("and","and",[K,se(B)]);return K}function se(B){for(var K=he(B);B.token==="|";)T(B),K=new p("|","bitOr",[K,he(B)]);return K}function he(B){for(var K=le(B);B.token==="^|";)T(B),K=new p("^|","bitXor",[K,le(B)]);return K}function le(B){for(var K=ne(B);B.token==="&";)T(B),K=new p("&","bitAnd",[K,ne(B)]);return K}function ne(B){for(var K=[xe(B)],ae=[],Ae={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Oe(Ae,B.token);){var Le={name:B.token,fn:Ae[B.token]};ae.push(Le),T(B),K.push(xe(B))}return K.length===1?K[0]:K.length===2?new p(ae[0].name,ae[0].fn,K):new g(ae.map(Ve=>Ve.fn),K)}function xe(B){var K,ae,Ae,Le;K=Se(B);for(var Ve={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Oe(Ve,B.token);)ae=B.token,Ae=Ve[ae],T(B),Le=[K,Se(B)],K=new p(ae,Ae,Le);return K}function Se(B){var K,ae,Ae,Le;K=me(B);for(var Ve={to:"to",in:"to"};Oe(Ve,B.token);)ae=B.token,Ae=Ve[ae],T(B),ae==="in"&&B.token===""?K=new p("*","multiply",[K,new b("in")],!0):(Le=[K,me(B)],K=new p(ae,Ae,Le));return K}function me(B){var K,ae=[];if(B.token===":"?K=new u(1):K=Ce(B),B.token===":"&&B.conditionalLevel!==B.nestingLevel){for(ae.push(K);B.token===":"&&ae.length<3;)T(B),B.token===")"||B.token==="]"||B.token===","||B.token===""?ae.push(new b("end")):ae.push(Ce(B));ae.length===3?K=new v(ae[0],ae[2],ae[1]):K=new v(ae[0],ae[1])}return K}function Ce(B){var K,ae,Ae,Le;K=q(B);for(var Ve={"+":"add","-":"subtract"};Oe(Ve,B.token);){ae=B.token,Ae=Ve[ae],T(B);var Yt=q(B);Yt.isPercentage?Le=[K,new p("*","multiply",[K,Yt])]:Le=[K,Yt],K=new p(ae,Ae,Le)}return K}function q(B){var K,ae,Ae,Le;K=j(B),ae=K;for(var Ve={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};Oe(Ve,B.token);)Ae=B.token,Le=Ve[Ae],T(B),ae=j(B),K=new p(Ae,Le,[K,ae]);return K}function j(B){var K,ae;for(K=re(B),ae=K;B.tokenType===S.SYMBOL||B.token==="in"&&at(K)||B.tokenType===S.NUMBER&&!at(ae)&&(!er(ae)||ae.op==="!")||B.token==="(";)ae=re(B),K=new p("*","multiply",[K,ae],!0);return K}function re(B){for(var K=H(B),ae=K,Ae=[];B.token==="/"&&L0(ae);)if(Ae.push(te({},B)),T(B),B.tokenType===S.NUMBER)if(Ae.push(te({},B)),T(B),B.tokenType===S.SYMBOL||B.token==="(")te(B,Ae.pop()),Ae.pop(),ae=H(B),K=new p("/","divide",[K,ae]);else{Ae.pop(),te(B,Ae.pop());break}else{te(B,Ae.pop());break}return K}function H(B){var K,ae,Ae,Le;K=Y(B);for(var Ve={"%":"mod",mod:"mod"};Oe(Ve,B.token);)ae=B.token,Ae=Ve[ae],T(B),ae==="%"&&B.tokenType===S.DELIMITER&&B.token!=="("?K=new p("/","divide",[K,new u(100)],!1,!0):(Le=[K,Y(B)],K=new p(ae,Ae,Le));return K}function Y(B){var K,ae,Ae,Le={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Oe(Le,B.token)?(Ae=Le[B.token],K=B.token,T(B),ae=[Y(B)],new p(K,Ae,ae)):Q(B)}function Q(B){var K,ae,Ae,Le;return K=ge(B),(B.token==="^"||B.token===".^")&&(ae=B.token,Ae=ae==="^"?"pow":"dotPow",T(B),Le=[K,Y(B)],K=new p(ae,Ae,Le)),K}function ge(B){var K,ae,Ae,Le;K=ce(B);for(var Ve={"!":"factorial","'":"ctranspose"};Oe(Ve,B.token);)ae=B.token,Ae=Ve[ae],N(B),Le=[K],K=new p(ae,Ae,Le),K=U(B,K);return K}function ce(B){var K=[];if(B.tokenType===S.SYMBOL&&Oe(B.extraNodes,B.token)){var ae=B.extraNodes[B.token];if(N(B),B.token==="("){if(K=[],R(B),N(B),B.token!==")")for(K.push(W(B));B.token===",";)N(B),K.push(W(B));if(B.token!==")")throw Ge(B,"Parenthesis ) expected");O(B),N(B)}return new ae(K)}return z(B)}function z(B){var K,ae;return B.tokenType===S.SYMBOL||B.tokenType===S.DELIMITER&&B.token in C?(ae=B.token,N(B),Oe(A,ae)?K=new u(A[ae]):E.indexOf(ae)!==-1?K=new u(r(ae,"number")):K=new b(ae),K=U(B,K),K):X(B)}function U(B,K,ae){for(var Ae;(B.token==="("||B.token==="["||B.token===".")&&(!ae||ae.indexOf(B.token)!==-1);)if(Ae=[],B.token==="(")if(mr(K)||Do(K)){if(R(B),N(B),B.token!==")")for(Ae.push(W(B));B.token===",";)N(B),Ae.push(W(B));if(B.token!==")")throw Ge(B,"Parenthesis ) expected");O(B),N(B),K=new f(K,Ae)}else return K;else if(B.token==="["){if(R(B),N(B),B.token!=="]")for(Ae.push(W(B));B.token===",";)N(B),Ae.push(W(B));if(B.token!=="]")throw Ge(B,"Parenthesis ] expected");O(B),N(B),K=new i(K,new h(Ae))}else{if(N(B),B.tokenType!==S.SYMBOL)throw Ge(B,"Property name expected after dot");Ae.push(new u(B.token)),N(B);var Le=!0;K=new i(K,new h(Ae,Le))}return K}function X(B){var K,ae;return B.token==='"'?(ae=oe(B),K=new u(ae),K=U(B,K),K):de(B)}function oe(B){for(var K="";k(B)!==""&&k(B)!=='"';)k(B)==="\\"&&(K+=k(B),$(B)),K+=k(B),$(B);if(N(B),B.token!=='"')throw Ge(B,'End of string " expected');return N(B),JSON.parse('"'+K+'"')}function de(B){var K,ae;return B.token==="'"?(ae=fe(B),K=new u(ae),K=U(B,K),K):ve(B)}function fe(B){for(var K="";k(B)!==""&&k(B)!=="'";)k(B)==="\\"&&(K+=k(B),$(B)),K+=k(B),$(B);if(N(B),B.token!=="'")throw Ge(B,"End of string ' expected");return N(B),JSON.parse('"'+K+'"')}function ve(B){var K,ae,Ae,Le;if(B.token==="["){if(R(B),N(B),B.token!=="]"){var Ve=pe(B);if(B.token===";"){for(Ae=1,ae=[Ve];B.token===";";)N(B),ae[Ae]=pe(B),Ae++;if(B.token!=="]")throw Ge(B,"End of matrix ] expected");O(B),N(B),Le=ae[0].items.length;for(var Yt=1;Yt<Ae;Yt++)if(ae[Yt].items.length!==Le)throw mt(B,"Column dimensions mismatch ("+ae[Yt].items.length+" !== "+Le+")");K=new a(ae)}else{if(B.token!=="]")throw Ge(B,"End of matrix ] expected");O(B),N(B),K=Ve}}else O(B),N(B),K=new a([]);return U(B,K)}return we(B)}function pe(B){for(var K=[W(B)],ae=1;B.token===",";)N(B),K[ae]=W(B),ae++;return new a(K)}function we(B){if(B.token==="{"){R(B);var K,ae={};do if(N(B),B.token!=="}"){if(B.token==='"')K=oe(B);else if(B.token==="'")K=fe(B);else if(B.tokenType===S.SYMBOL||B.tokenType===S.DELIMITER&&B.token in C)K=B.token,N(B);else throw Ge(B,"Symbol or string expected as object key");if(B.token!==":")throw Ge(B,"Colon : expected after object key");N(B),ae[K]=W(B)}while(B.token===",");if(B.token!=="}")throw Ge(B,"Comma , or bracket } expected after object value");O(B),N(B);var Ae=new d(ae);return Ae=U(B,Ae),Ae}return Fe(B)}function Fe(B){var K;return B.tokenType===S.NUMBER?(K=B.token,N(B),new u(r(K,n.number))):Pe(B)}function Pe(B){var K;if(B.token==="("){if(R(B),N(B),K=W(B),B.token!==")")throw Ge(B,"Parenthesis ) expected");return O(B),N(B),K=new m(K),K=U(B,K),K}return Me(B)}function Me(B){throw B.token===""?Ge(B,"Unexpected end of expression"):Ge(B,"Value expected")}function lt(B){return B.index-B.token.length+1}function Ge(B,K){var ae=lt(B),Ae=new SyntaxError(K+" (char "+ae+")");return Ae.char=ae,Ae}function mt(B,K){var ae=lt(B),Ae=new SyntaxError(K+" (char "+ae+")");return Ae.char=ae,Ae}return e.addConversion({from:"string",to:"Node",convert:y}),y}),xD="compile",kV=["typed","parse"],OV=_(xD,kV,t=>{var{typed:e,parse:r}=t;return e(xD,{string:function(i){return r(i).compile()},"Array | Matrix":function(i){return et(i,function(a){return r(a).compile()})}})}),bD="evaluate",BV=["typed","parse"],FV=_(bD,BV,t=>{var{typed:e,parse:r}=t;return e(bD,{string:function(i){var a=ql();return r(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return r(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=ql();return et(i,function(o){return r(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return et(i,function(o){return r(o).compile().evaluate(a)})}})}),$V="Parser",RV=["evaluate"],PV=_($V,RV,t=>{var{evaluate:e}=t;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:ql(),writable:!1})}return r.prototype.type="Parser",r.prototype.isParser=!0,r.prototype.evaluate=function(n){return e(n,this.scope)},r.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},r.prototype.getAll=function(){return _8(this.scope)},r.prototype.getAllAsMap=function(){return this.scope},r.prototype.set=function(n,i){return this.scope.set(n,i),i},r.prototype.remove=function(n){this.scope.delete(n)},r.prototype.clear=function(){this.scope.clear()},r},{isClass:!0}),wD="parser",IV=["typed","Parser"],LV=_(wD,IV,t=>{var{typed:e,Parser:r}=t;return e(wD,{"":function(){return new r}})}),SD="lup",_V=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtract","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],zV=_(SD,_V,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtract:s,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:f,SparseMatrix:h,Spa:d}=t;return e(SD,{DenseMatrix:function(g){return p(g)},SparseMatrix:function(g){return m(g)},Array:function(g){var b=r(g),y=p(b);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function p(v){var g=v._size[0],b=v._size[1],y=Math.min(g,b),w=He(v._data),S=[],x=[g,y],C=[],A=[y,b],E,D,M,k=[];for(E=0;E<g;E++)k[E]=E;for(D=0;D<b;D++){if(D>0)for(E=0;E<g;E++){var $=Math.min(E,D),I=0;for(M=0;M<$;M++)I=i(I,o(w[E][M],w[M][D]));w[E][D]=s(w[E][D],I)}var F=D,N=0,T=0;for(E=D;E<g;E++){var R=w[E][D],O=n(R);l(O,N)&&(F=E,N=O,T=R)}if(D!==F&&(k[D]=[k[F],k[F]=k[D]][0],f._swapRows(D,F,w)),D<g)for(E=D+1;E<g;E++){var P=w[E][D];u(P,0)||(w[E][D]=a(w[E][D],T))}}for(D=0;D<b;D++)for(E=0;E<g;E++){if(D===0&&(E<b&&(C[E]=[]),S[E]=[]),E<D){E<b&&(C[E][D]=w[E][D]),D<g&&(S[E][D]=0);continue}if(E===D){E<b&&(C[E][D]=w[E][D]),D<g&&(S[E][D]=1);continue}E<b&&(C[E][D]=0),D<g&&(S[E][D]=w[E][D])}var V=new f({data:S,size:x}),W=new f({data:C,size:A}),L=[];for(E=0,y=k.length;E<y;E++)L[k[E]]=E;return{L:V,U:W,p:L,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function m(v){var g=v._size[0],b=v._size[1],y=Math.min(g,b),w=v._values,S=v._index,x=v._ptr,C=[],A=[],E=[],D=[g,y],M=[],k=[],$=[],I=[y,b],F,N,T,R=[],O=[];for(F=0;F<g;F++)R[F]=F,O[F]=F;var P=function(L,G){var ee=O[L],Z=O[G];R[ee]=G,R[Z]=L,O[L]=Z,O[G]=ee},V=function(){var L=new d;N<g&&(E.push(C.length),C.push(1),A.push(N)),$.push(M.length);var G=x[N],ee=x[N+1];for(T=G;T<ee;T++)F=S[T],L.set(R[F],w[T]);N>0&&L.forEach(0,N-1,function(le,ne){h._forEachRow(le,C,A,E,function(xe,Se){xe>le&&L.accumulate(xe,c(o(Se,ne)))})});var Z=N,se=L.get(N),he=n(se);L.forEach(N+1,g-1,function(le,ne){var xe=n(ne);l(xe,he)&&(Z=le,he=xe,se=ne)}),N!==Z&&(h._swapRows(N,Z,D[1],C,A,E),h._swapRows(N,Z,I[1],M,k,$),L.swap(N,Z),P(N,Z)),L.forEach(0,g-1,function(le,ne){le<=N?(M.push(ne),k.push(le)):(ne=a(ne,se),u(ne,0)||(C.push(ne),A.push(le)))})};for(N=0;N<b;N++)V();return $.push(M.length),E.push(C.length),{L:new h({values:C,index:A,ptr:E,size:D}),U:new h({values:M,index:k,ptr:$,size:I}),p:R,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),CD="qr",UV=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],qV=_(CD,UV,t=>{var{typed:e,matrix:r,zeros:n,identity:i,isZero:a,equal:o,sign:s,sqrt:l,conj:u,unaryMinus:c,addScalar:f,divideScalar:h,multiplyScalar:d,subtract:p,complex:m}=t;return te(e(CD,{DenseMatrix:function(w){return g(w)},SparseMatrix:function(w){return b()},Array:function(w){var S=r(w),x=g(S);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:v});function v(y){var w=y._size[0],S=y._size[1],x=i([w],"dense"),C=x._data,A=y.clone(),E=A._data,D,M,k,$=n([w],"");for(k=0;k<Math.min(S,w);++k){var I=E[k][k],F=c(o(I,0)?1:s(I)),N=u(F),T=0;for(D=k;D<w;D++)T=f(T,d(E[D][k],u(E[D][k])));var R=d(F,l(T));if(!a(R)){var O=p(I,R);for($[k]=1,D=k+1;D<w;D++)$[D]=h(E[D][k],O);var P=c(u(h(O,R))),V=void 0;for(M=k;M<S;M++){for(V=0,D=k;D<w;D++)V=f(V,d(u($[D]),E[D][M]));for(V=d(V,P),D=k;D<w;D++)E[D][M]=d(p(E[D][M],d($[D],V)),N)}for(D=0;D<w;D++){for(V=0,M=k;M<w;M++)V=f(V,d(C[D][M],$[M]));for(V=d(V,P),M=k;M<w;++M)C[D][M]=h(p(C[D][M],d(V,u($[M]))),N)}}}return{Q:x,R:A,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function g(y){var w=v(y),S=w.R._data;if(y._data.length>0)for(var x=S[0][0].type==="Complex"?m(0):0,C=0;C<S.length;++C)for(var A=0;A<C&&A<(S[0]||[]).length;++A)S[C][A]=x;return w}function b(y){throw new Error("qr not implemented for sparse matrices yet")}});function HV(t,e,r,n){for(var i=t._values,a=t._index,o=t._ptr,s=t._size,l=t._datatype,u=s[0],c=s[1],f=n&&t._values?[]:null,h=[],d=[],p=0,m=0;m<c;m++){d[m]=p;for(var v=r?r[m]:m,g=o[v],b=o[v+1],y=g;y<b;y++){var w=e?e[a[y]]:a[y];h[p]=w,f&&(f[p]=i[y]),p++}}return d[c]=p,t.createSparseMatrix({values:f,index:h,ptr:d,size:[u,c],datatype:l})}function CB(t,e,r,n,i,a,o){var s=0;for(r[o]=t;s>=0;){var l=r[o+s],u=r[n+l];u===-1?(s--,a[e++]=l):(r[n+l]=r[i+u],++s,r[o+s]=u)}return e}function VV(t,e){if(!t)return null;var r=0,n,i=[],a=[],o=0,s=e,l=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(a[s+n]=a[o+t[n]],a[o+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=CB(n,r,a,o,s,i,l));return i}function WV(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,a=i[0],o=i[1],s=[],l=[],u=0,c=o,f,h;if(e)for(f=0;f<a;f++)l[c+f]=-1;for(var d=0;d<o;d++){s[d]=-1,l[u+d]=-1;for(var p=n[d],m=n[d+1],v=p;v<m;v++){var g=r[v];for(f=e?l[c+g]:g;f!==-1&&f<d;f=h)h=l[u+f],l[u+f]=d,h===-1&&(s[f]=d);e&&(l[c+g]=d)}}return s}function jV(t,e,r){for(var n=t._values,i=t._index,a=t._ptr,o=t._size,s=o[1],l=0,u=0;u<s;u++){var c=a[u];for(a[u]=l;c<a[u+1];c++)e(i[c],u,n?n[c]:1,r)&&(i[l]=i[c],n&&(n[l]=n[c]),l++)}return a[s]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function Ja(t){return-t-2}var GV="csAmd",KV=["add","multiply","transpose"],YV=_(GV,KV,t=>{var{add:e,multiply:r,transpose:n}=t;return function(c,f){if(!f||c<=0||c>3)return null;var h=f._size,d=h[0],p=h[1],m=0,v=Math.max(16,10*Math.sqrt(p));v=Math.min(p-2,v);var g=i(c,f,d,p,v);jV(g,l,null);for(var b=g._index,y=g._ptr,w=y[p],S=[],x=[],C=0,A=p+1,E=2*(p+1),D=3*(p+1),M=4*(p+1),k=5*(p+1),$=6*(p+1),I=7*(p+1),F=S,N=a(p,y,x,C,D,F,E,I,A,$,M,k),T=o(p,y,x,k,M,$,v,A,D,F,E),R=0,O,P,V,W,L,G,ee,Z,se,he,le,ne,xe,Se,me,Ce;T<p;){for(V=-1;R<p&&(V=x[D+R])===-1;R++);x[E+V]!==-1&&(F[x[E+V]]=-1),x[D+R]=x[E+V];var q=x[M+V],j=x[A+V];T+=j;var re=0;x[A+V]=-j;var H=y[V],Y=q===0?H:w,Q=Y;for(W=1;W<=q+1;W++){for(W>q?(G=V,ee=H,Z=x[C+V]-q):(G=b[H++],ee=y[G],Z=x[C+G]),L=1;L<=Z;L++)O=b[ee++],!((se=x[A+O])<=0)&&(re+=se,x[A+O]=-se,b[Q++]=O,x[E+O]!==-1&&(F[x[E+O]]=F[O]),F[O]!==-1?x[E+F[O]]=x[E+O]:x[D+x[k+O]]=x[E+O]);G!==V&&(y[G]=Ja(V),x[$+G]=0)}for(q!==0&&(w=Q),x[k+V]=re,y[V]=Y,x[C+V]=Q-Y,x[M+V]=-2,N=s(N,m,x,$,p),he=Y;he<Q;he++)if(O=b[he],!((le=x[M+O])<=0)){se=-x[A+O];var ge=N-se;for(H=y[O],ne=y[O]+le-1;H<=ne;H++)G=b[H],x[$+G]>=N?x[$+G]-=se:x[$+G]!==0&&(x[$+G]=x[k+G]+ge)}for(he=Y;he<Q;he++){for(O=b[he],ne=y[O],xe=ne+x[M+O]-1,Se=ne,me=0,Ce=0,H=ne;H<=xe;H++)if(G=b[H],x[$+G]!==0){var ce=x[$+G]-N;ce>0?(Ce+=ce,b[Se++]=G,me+=G):(y[G]=Ja(V),x[$+G]=0)}x[M+O]=Se-ne+1;var z=Se,U=ne+x[C+O];for(H=xe+1;H<U;H++){P=b[H];var X=x[A+P];X<=0||(Ce+=X,b[Se++]=P,me+=P)}Ce===0?(y[O]=Ja(V),se=-x[A+O],re-=se,j+=se,T+=se,x[A+O]=0,x[M+O]=-1):(x[k+O]=Math.min(x[k+O],Ce),b[Se]=b[z],b[z]=b[ne],b[ne]=V,x[C+O]=Se-ne+1,me=(me<0?-me:me)%p,x[E+O]=x[I+me],x[I+me]=O,F[O]=me)}for(x[k+V]=re,m=Math.max(m,re),N=s(N+m,m,x,$,p),he=Y;he<Q;he++)if(O=b[he],!(x[A+O]>=0))for(me=F[O],O=x[I+me],x[I+me]=-1;O!==-1&&x[E+O]!==-1;O=x[E+O],N++){for(Z=x[C+O],le=x[M+O],H=y[O]+1;H<=y[O]+Z-1;H++)x[$+b[H]]=N;var oe=O;for(P=x[E+O];P!==-1;){var de=x[C+P]===Z&&x[M+P]===le;for(H=y[P]+1;de&&H<=y[P]+Z-1;H++)x[$+b[H]]!==N&&(de=0);de?(y[P]=Ja(O),x[A+O]+=x[A+P],x[A+P]=0,x[M+P]=-1,P=x[E+P],x[E+oe]=P):(oe=P,P=x[E+P])}}for(H=Y,he=Y;he<Q;he++)O=b[he],!((se=-x[A+O])<=0)&&(x[A+O]=se,Ce=x[k+O]+re-se,Ce=Math.min(Ce,p-T-se),x[D+Ce]!==-1&&(F[x[D+Ce]]=O),x[E+O]=x[D+Ce],F[O]=-1,x[D+Ce]=O,R=Math.min(R,Ce),x[k+O]=Ce,b[H++]=O);x[A+V]=j,(x[C+V]=H-Y)===0&&(y[V]=-1,x[$+V]=0),q!==0&&(w=H)}for(O=0;O<p;O++)y[O]=Ja(y[O]);for(P=0;P<=p;P++)x[D+P]=-1;for(P=p;P>=0;P--)x[A+P]>0||(x[E+P]=x[D+y[P]],x[D+y[P]]=P);for(G=p;G>=0;G--)x[A+G]<=0||y[G]!==-1&&(x[E+G]=x[D+y[G]],x[D+y[G]]=G);for(V=0,O=0;O<=p;O++)y[O]===-1&&(V=CB(O,V,x,D,E,S,$));return S.splice(S.length-1,1),S};function i(u,c,f,h,d){var p=n(c);if(u===1&&h===f)return e(c,p);if(u===2){for(var m=p._index,v=p._ptr,g=0,b=0;b<f;b++){var y=v[b];if(v[b]=g,!(v[b+1]-y>d))for(var w=v[b+1];y<w;y++)m[g++]=m[y]}return v[f]=g,c=n(p),r(p,c)}return r(p,c)}function a(u,c,f,h,d,p,m,v,g,b,y,w){for(var S=0;S<u;S++)f[h+S]=c[S+1]-c[S];f[h+u]=0;for(var x=0;x<=u;x++)f[d+x]=-1,p[x]=-1,f[m+x]=-1,f[v+x]=-1,f[g+x]=1,f[b+x]=1,f[y+x]=0,f[w+x]=f[h+x];var C=s(0,0,f,b,u);return f[y+u]=-2,c[u]=-1,f[b+u]=0,C}function o(u,c,f,h,d,p,m,v,g,b,y){for(var w=0,S=0;S<u;S++){var x=f[h+S];if(x===0)f[d+S]=-2,w++,c[S]=-1,f[p+S]=0;else if(x>m)f[v+S]=0,f[d+S]=-1,w++,c[S]=Ja(u),f[v+u]++;else{var C=f[g+x];C!==-1&&(b[C]=S),f[y+S]=f[g+x],f[g+x]=S}}return w}function s(u,c,f,h,d){if(u<2||u+c<0){for(var p=0;p<d;p++)f[h+p]!==0&&(f[h+p]=1);u=2}return u}function l(u,c){return u!==c}});function JV(t,e,r,n,i,a,o){var s,l,u=0,c;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var f=r[a+t];if(r[a+t]=e,f===-1)u=1,c=t;else{for(u=2,c=f;c!==r[o+c];c=r[o+c]);for(s=f;s!==c;s=l)l=r[o+s],r[o+s]=c}return{jleaf:u,q:c}}var ZV="csCounts",XV=["transpose"],QV=_(ZV,XV,t=>{var{transpose:e}=t;return function(r,n,i,a){if(!r||!n||!i)return null;var o=r._size,s=o[0],l=o[1],u,c,f,h,d,p,m,v=4*l+(a?l+s+1:0),g=[],b=0,y=l,w=2*l,S=3*l,x=4*l,C=5*l+1;for(f=0;f<v;f++)g[f]=-1;var A=[],E=e(r),D=E._index,M=E._ptr;for(f=0;f<l;f++)for(c=i[f],A[c]=g[S+c]===-1?1:0;c!==-1&&g[S+c]===-1;c=n[c])g[S+c]=f;if(a){for(f=0;f<l;f++)g[i[f]]=f;for(u=0;u<s;u++){for(f=l,p=M[u],m=M[u+1],d=p;d<m;d++)f=Math.min(f,g[D[d]]);g[C+u]=g[x+f],g[x+f]=u}}for(u=0;u<l;u++)g[b+u]=u;for(f=0;f<l;f++){for(c=i[f],n[c]!==-1&&A[n[c]]--,h=a?g[x+f]:c;h!==-1;h=a?g[C+h]:-1)for(d=M[h];d<M[h+1];d++){u=D[d];var k=JV(u,c,g,S,y,w,b);k.jleaf>=1&&A[c]++,k.jleaf===2&&A[k.q]--}n[c]!==-1&&(g[b+c]=n[c])}for(c=0;c<l;c++)n[c]!==-1&&(A[n[c]]+=A[c]);return A}}),eW="csSqr",tW=["add","multiply","transpose"],rW=_(eW,tW,t=>{var{add:e,multiply:r,transpose:n}=t,i=YV({add:e,multiply:r,transpose:n}),a=QV({transpose:n});return function(l,u,c){var f=u._ptr,h=u._size,d=h[1],p,m={};if(m.q=i(l,u),l&&!m.q)return null;if(c){var v=l?HV(u,null,m.q,0):u;m.parent=WV(v,1);var g=VV(m.parent,d);if(m.cp=a(v,m.parent,g,1),v&&m.parent&&m.cp&&o(v,m))for(m.unz=0,p=0;p<d;p++)m.unz+=m.cp[p]}else m.unz=4*f[d]+d,m.lnz=m.unz;return m};function o(s,l){var u=s._ptr,c=s._index,f=s._size,h=f[0],d=f[1];l.pinv=[],l.leftmost=[];var p=l.parent,m=l.pinv,v=l.leftmost,g=[],b=0,y=h,w=h+d,S=h+2*d,x,C,A,E,D;for(C=0;C<d;C++)g[y+C]=-1,g[w+C]=-1,g[S+C]=0;for(x=0;x<h;x++)v[x]=-1;for(C=d-1;C>=0;C--)for(E=u[C],D=u[C+1],A=E;A<D;A++)v[c[A]]=C;for(x=h-1;x>=0;x--)m[x]=-1,C=v[x],C!==-1&&(g[S+C]++===0&&(g[w+C]=x),g[b+x]=g[y+C],g[y+C]=x);for(l.lnz=0,l.m2=h,C=0;C<d;C++)if(x=g[y+C],l.lnz++,x<0&&(x=l.m2++),m[x]=C,!(--S[C]<=0)){l.lnz+=g[S+C];var M=p[C];M!==-1&&(g[S+M]===0&&(g[w+M]=g[w+C]),g[b+g[w+C]]=g[y+M],g[y+M]=g[b+x],g[S+M]+=g[S+C])}for(x=0;x<h;x++)m[x]<0&&(m[x]=C++);return!0}});function ty(t,e){return t[e]<0}function DB(t,e){t[e]=Ja(t[e])}function DD(t){return t<0?Ja(t):t}function nW(t,e,r,n,i){var a=e._index,o=e._ptr,s=e._size,l=s[1],u,c,f,h=0;for(n[0]=t;h>=0;){t=n[h];var d=i?i[t]:t;ty(o,t)||(DB(o,t),n[l+h]=d<0?0:DD(o[d]));var p=1;for(c=n[l+h],f=d<0?0:DD(o[d+1]);c<f;c++)if(u=a[c],!ty(o,u)){n[l+h]=c,n[++h]=u,p=0;break}p&&(h--,n[--r]=t)}return r}function iW(t,e,r,n,i){var a=t._ptr,o=t._size,s=e._index,l=e._ptr,u=o[1],c,f,h,d=u;for(f=l[r],h=l[r+1],c=f;c<h;c++){var p=s[c];ty(a,p)||(d=nW(p,t,d,n,i))}for(c=d;c<u;c++)DB(a,n[c]);return d}var aW="csSpsolve",oW=["divideScalar","multiply","subtract"],sW=_(aW,oW,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(a,o,s,l,u,c,f){var h=a._values,d=a._index,p=a._ptr,m=a._size,v=m[1],g=o._values,b=o._index,y=o._ptr,w,S,x,C,A=iW(a,o,s,l,c);for(w=A;w<v;w++)u[l[w]]=0;for(S=y[s],x=y[s+1],w=S;w<x;w++)u[b[w]]=g[w];for(var E=A;E<v;E++){var D=l[E],M=c?c[D]:D;if(!(M<0))for(S=p[M],x=p[M+1],u[D]=e(u[D],h[f?S:x-1]),w=f?S+1:S,C=f?x:x-1;w<C;w++){var k=d[w];u[k]=n(u[k],r(h[w],u[D]))}}return A}}),lW="csLu",uW=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],cW=_(lW,uW,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:s}=t,l=sW({divideScalar:r,multiply:n,subtract:i});return function(c,f,h){if(!c)return null;var d=c._size,p=d[1],m,v=100,g=100;f&&(m=f.q,v=f.lnz||v,g=f.unz||g);var b=[],y=[],w=[],S=new s({values:b,index:y,ptr:w,size:[p,p]}),x=[],C=[],A=[],E=new s({values:x,index:C,ptr:A,size:[p,p]}),D=[],M,k,$=[],I=[];for(M=0;M<p;M++)$[M]=0,D[M]=-1,w[M+1]=0;v=0,g=0;for(var F=0;F<p;F++){w[F]=v,A[F]=g;var N=m?m[F]:F,T=l(S,c,N,I,$,D,1),R=-1,O=-1;for(k=T;k<p;k++)if(M=I[k],D[M]<0){var P=e($[M]);a(P,O)&&(O=P,R=M)}else C[g]=D[M],x[g++]=$[M];if(R===-1||O<=0)return null;D[N]<0&&o(e($[N]),n(O,h))&&(R=N);var V=$[R];for(C[g]=F,x[g++]=V,D[R]=F,y[v]=R,b[v++]=1,k=T;k<p;k++)M=I[k],D[M]<0&&(y[v]=M,b[v++]=r($[M],V)),$[M]=0}for(w[p]=v,A[p]=g,k=0;k<v;k++)y[k]=D[y[k]];return b.splice(v,b.length-v),y.splice(v,y.length-v),x.splice(g,x.length-g),C.splice(g,C.length-g),{L:S,U:E,pinv:D}}}),AD="slu",fW=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],hW=_(AD,fW,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:a,divideScalar:o,subtract:s,larger:l,largerEq:u,SparseMatrix:c}=t,f=rW({add:n,multiply:i,transpose:a}),h=cW({abs:r,divideScalar:o,multiply:i,subtract:s,larger:l,largerEq:u,SparseMatrix:c});return e(AD,{"SparseMatrix, number, number":function(p,m,v){if(!Ie(m)||m<0||m>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(v<0||v>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=f(m,p,!1),b=h(p,g,v);return{L:b.L,U:b.U,p:b.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function ED(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var ND="lusolve",dW=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],pW=_(ND,dW,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:s}=t,l=hf({DenseMatrix:s});return e(ND,{"Array, Array | Matrix":function(h,d){h=r(h);var p=n(h),m=c(p.L,p.U,p.p,null,d);return m.valueOf()},"DenseMatrix, Array | Matrix":function(h,d){var p=n(h);return c(p.L,p.U,p.p,null,d)},"SparseMatrix, Array | Matrix":function(h,d){var p=n(h);return c(p.L,p.U,p.p,null,d)},"SparseMatrix, Array | Matrix, number, number":function(h,d,p,m){var v=i(h,p,m);return c(v.L,v.U,v.p,v.q,d)},"Object, Array | Matrix":function(h,d){return c(h.L,h.U,h.p,h.q,d)}});function u(f){if(We(f))return f;if(yt(f))return r(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,h,d,p,m){f=u(f),h=u(h),d&&(m=l(f,m,!0),m._data=ED(d,m._data));var v=o(f,m),g=a(h,v);return p&&(g._data=ED(p,g._data)),g}}),MD="polynomialRoot",mW=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],gW=_(MD,mW,t=>{var{typed:e,isZero:r,equalScalar:n,add:i,subtract:a,multiply:o,divide:s,sqrt:l,unaryMinus:u,cbrt:c,typeOf:f,im:h,re:d}=t;return e(MD,{"number|Complex, ...number|Complex":(p,m)=>{for(var v=[p,...m];v.length>0&&r(v[v.length-1]);)v.pop();if(v.length<2)throw new RangeError("Polynomial [".concat(p,", ").concat(m,"] must have a non-zero non-constant coefficient"));switch(v.length){case 2:return[u(s(v[0],v[1]))];case 3:{var[g,b,y]=v,w=o(2,y),S=o(b,b),x=o(4,y,g);if(n(S,x))return[s(u(b),w)];var C=l(a(S,x));return[s(a(C,b),w),s(a(u(C),b),w)]}case 4:{var[A,E,D,M]=v,k=u(o(3,M)),$=o(D,D),I=o(3,M,E),F=i(o(2,D,D,D),o(27,M,M,A)),N=o(9,M,D,E);if(n($,I)&&n(F,N))return[s(D,k)];var T=a($,I),R=a(F,N),O=i(o(18,M,D,E,A),o(D,D,E,E)),P=i(o(4,D,D,D,A),o(4,M,E,E,E),o(27,M,M,A,A));if(n(O,P))return[s(a(o(4,M,D,E),i(o(9,M,M,A),o(D,D,D))),o(M,T)),s(a(o(9,M,A),o(D,E)),o(2,T))];var V;n($,I)?V=R:V=s(i(R,l(a(o(R,R),o(4,T,T,T)))),2);var W=!0,L=c(V,W).toArray().map(G=>s(i(D,G,s(T,G)),k));return L.map(G=>f(G)==="Complex"&&n(d(G),d(G)+h(G))?d(G):G)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(v))}}})}),vW="Help",yW=["parse"],xW=_(vW,yW,t=>{var{parse:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a={},o=0;o<n.examples.length;o++){var s=n.examples[o];i+="    "+s+`
`;var l=void 0;try{l=e(s).compile().evaluate(a)}catch(u){l=u}l!==void 0&&!sx(l)&&(i+="        "+Ze(l,{precision:14})+`
`)}i+=`
`}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},r.prototype.toJSON=function(){var n=He(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new r(i)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0}),bW="Chain",wW=["?on","math","typed"],SW=_(bW,wW,t=>{var{on:e,math:r,typed:n}=t;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");lx(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return Ze(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function a(u,c){typeof c=="function"&&(i.prototype[u]=s(c))}function o(u,c){td(i.prototype,u,function(){var h=c();if(typeof h=="function")return s(h)})}function s(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(u)){var h=n.resolve(u,c);if(h.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(h.implementation.apply(u,c))}return new i(u.apply(u,c))}}i.createProxy=function(u,c){if(typeof u=="string")a(u,c);else{var f=function(p){Oe(u,p)&&l[p]===void 0&&o(p,()=>u[p])};for(var h in u)f(h)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(r),e&&e("import",function(u,c,f){f||o(u,c)}),i},{isClass:!0}),TD={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},CW={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},DW={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},AW={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},EW={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},NW={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},MW={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},TW={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},kW={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},OW={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},BW={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},kD={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},FW={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},$W={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},RW={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},PW={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},IW={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},LW={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},_W={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},zW={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},UW={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},qW={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},HW={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},VW={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},WW={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},jW={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},GW={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},KW={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},YW={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},JW={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},ZW={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},XW={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]},QW={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},ej={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},tj={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},rj={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},nj={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},ij={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},aj={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6 1)"],seealso:["cbrt","sqrt"]},oj={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},sj={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},lj={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},uj={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},cj={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConatant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},fj={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},hj={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},dj={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},pj={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},mj={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},gj={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},vj={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},yj={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},xj={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},bj={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},wj={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},Sj={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},Cj={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},Dj={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},Aj={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},Ej={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},Nj={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},Mj={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},Tj={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},kj={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},Oj={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},Bj={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax ≣ 1 (mod b)",examples:["invmod(8, 12)=NaN","invmod(7, 13)=2","invmod(15151, 15122)=10429"],seealso:["gcd","xgcd"]},Fj={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},$j={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},Rj={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},Pj={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},Ij={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},Lj={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},_j={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},zj={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},Uj={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},qj={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},Hj={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},Vj={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]},Wj={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},jj={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},Gj={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},Kj={name:"sylvester",category:"Matrix",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","sylvester(A,B,C)"],seealso:["schur","lyap"]},Yj={name:"schur",category:"Matrix",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","schur(A)"],seealso:["lyap","sylvester"]},Jj={name:"lyap",category:"Matrix",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","lyap(A,Q)"],seealso:["schur","sylvester"]},Zj={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},Xj={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},Qj={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},eG={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},tG={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},rG={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},nG={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},iG={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},aG={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},oG={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},sG={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},lG={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},uG={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},cG={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},fG={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},hG={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},dG={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},pG={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},mG={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},gG={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},vG={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(" + 4 + ")")'],seealso:[]},yG={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},xG={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},bG={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},wG={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},SG={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},CG={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},DG={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},AG={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},EG={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},NG={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},MG={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},TG={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},kG={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},OG={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},BG={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["diff([1, 2, 4, 7, 0])","diff([1, 2, 4, 7, 0], 0)","diff(matrix([1, 2, 4, 7, 0]))","diff([[1, 2], [3, 4]])","diff([[1, 2], [3, 4]], 0)","diff([[1, 2], [3, 4]], 1)","diff([[1, 2], [3, 4]], bignumber(1))","diff(matrix([[1, 2], [3, 4]]), 1)","diff([[1, 2], matrix([3, 4])], 1)"],seealso:["subtract","partitionSelect"]},FG={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},$G={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and eigenvectors of a real symmetric matrix",examples:["eigs([[5, 2.3], [2.3, 1]])"],seealso:["inv"]},RG={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},PG={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},IG={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},LG={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},_G={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},zG={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},UG={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore–Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},qG={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},HG={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},VG={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},WG={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},jG={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},GG={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},KG={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},YG={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},JG={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},ZG={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},XG={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},QG={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},eK={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},tK={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},rK={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},nK={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},iK={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},aK={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},oK={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},sK={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},lK={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},uK={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},cK={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},fK={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},hK={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},dK={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},pK={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},mK={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},gK={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},vK={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},yK={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},xK={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},bK={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},wK={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},SK={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},CK={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},DK={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},AK={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},EK={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},NK={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},MK={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},TK={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},kK={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},OK={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},BK={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},FK={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},$K={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},RK={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},PK={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},IK={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},LK={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},_K={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},zK={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},UK={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},qK={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},HK={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},VK={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},WK={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},jK={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},GK={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},KK={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},YK={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},JK={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},ZK={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},XK={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},QK={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},eY={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},tY={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},rY={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},nY={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},iY={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},aY={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},oY={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},sY={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},lY={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},uY={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},cY={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},fY={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},hY={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},dY={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},pY={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},mY={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},gY={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},vY={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},yY={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},xY={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},bY={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},wY={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},SY={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},CY={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},DY={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},AY={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},EY={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},NY={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},MY={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},TY={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},kY={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},OY={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},BY={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},FY={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},$Y={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},RY={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},PY={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},IY={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},LY={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},_Y={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction)','numeric(4, "Fraction")','numeric(fraction(2, 5), "number)'],seealso:["number","fraction","bignumber","string","format"]},zY={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},UY={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $0, $1, $2", [6, 9, 4])'],seealso:["format"]},qY={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},HY={bignumber:LW,boolean:_W,complex:zW,createUnit:UW,fraction:qW,index:HW,matrix:VW,number:WW,sparse:jW,splitUnit:GW,string:KW,unit:YW,e:TD,E:TD,false:CW,i:DW,Infinity:AW,LN2:NW,LN10:EW,LOG2E:TW,LOG10E:MW,NaN:kW,null:OW,pi:kD,PI:kD,phi:BW,SQRT1_2:FW,SQRT2:$W,tau:RW,true:PW,version:IW,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:QW,lsolve:tj,lsolveAll:rj,lup:nj,lusolve:ij,leafCount:ej,polynomialRoot:aj,resolve:lj,simplify:uj,simplifyConstant:cj,simplifyCore:fj,symbolicEqual:dj,rationalize:sj,slu:hj,usolve:pj,usolveAll:mj,qr:oj,abs:gj,add:vj,cbrt:yj,ceil:xj,cube:bj,divide:wj,dotDivide:Sj,dotMultiply:Cj,dotPow:Dj,exp:Aj,expm:Ej,expm1:Nj,fix:Mj,floor:Tj,gcd:kj,hypot:Oj,lcm:Fj,log:$j,log2:Ij,log1p:Pj,log10:Rj,mod:Lj,multiply:_j,norm:zj,nthRoot:Uj,nthRoots:qj,pow:Hj,round:Vj,sign:Wj,sqrt:jj,sqrtm:Gj,square:Zj,subtract:Xj,unaryMinus:Qj,unaryPlus:eG,xgcd:tG,invmod:Bj,bitAnd:rG,bitNot:nG,bitOr:iG,bitXor:aG,leftShift:oG,rightArithShift:sG,rightLogShift:lG,bellNumbers:uG,catalan:cG,composition:fG,stirlingS2:hG,config:JW,import:ZW,typed:XW,arg:dG,conj:pG,re:gG,im:mG,evaluate:vG,help:yG,distance:xG,intersect:bG,and:wG,not:SG,or:CG,xor:DG,concat:EG,count:NG,cross:MG,column:AG,ctranspose:TG,det:kG,diag:OG,diff:BG,dot:FG,getMatrixDataType:LG,identity:_G,filter:RG,flatten:PG,forEach:IG,inv:zG,pinv:UG,eigs:$G,kron:qG,matrixFromFunction:WG,matrixFromRows:jG,matrixFromColumns:VG,map:HG,ones:GG,partitionSelect:KG,range:YG,resize:ZG,reshape:JG,rotate:XG,rotationMatrix:QG,row:eK,size:tK,sort:rK,squeeze:nK,subset:iK,trace:aK,transpose:oK,zeros:sK,fft:lK,ifft:uK,sylvester:Kj,schur:Yj,lyap:Jj,combinations:cK,combinationsWithRep:fK,factorial:hK,gamma:dK,kldivergence:mK,lgamma:pK,multinomial:gK,permutations:vK,pickRandom:yK,random:xK,randomInt:bK,compare:wK,compareNatural:SK,compareText:CK,deepEqual:DK,equal:AK,equalText:EK,larger:NK,largerEq:MK,smaller:TK,smallerEq:kK,unequal:OK,setCartesian:BK,setDifference:FK,setDistinct:$K,setIntersect:RK,setIsSubset:PK,setMultiplicity:IK,setPowerset:LK,setSize:_K,setSymDifference:zK,setUnion:UK,erf:qK,cumsum:XK,mad:HK,max:VK,mean:WK,median:jK,min:GK,mode:KK,prod:YK,quantileSeq:JK,std:ZK,sum:QK,variance:eY,acos:tY,acosh:rY,acot:nY,acoth:iY,acsc:aY,acsch:oY,asec:sY,asech:lY,asin:uY,asinh:cY,atan:fY,atanh:dY,atan2:hY,cos:pY,cosh:mY,cot:gY,coth:vY,csc:yY,csch:xY,sec:bY,sech:wY,sin:SY,sinh:CY,tan:DY,tanh:AY,to:EY,clone:MY,format:TY,bin:NY,oct:zY,hex:OY,isNaN:FY,isInteger:BY,isNegative:$Y,isNumeric:RY,hasNumericValue:kY,isPositive:PY,isPrime:IY,isZero:LY,print:UY,typeOf:qY,numeric:_Y},OD="help",VY=["typed","mathWithTransform","Help"],WY=_(OD,VY,t=>{var{typed:e,mathWithTransform:r,Help:n}=t;return e(OD,{any:function(a){var o,s=a;if(typeof a!="string"){for(o in r)if(Oe(r,o)&&a===r[o]){s=o;break}}var l=si(HY,s);if(!l){var u=typeof s=="function"?s.name:s;throw new Error('No documentation found on "'+u+'"')}return new n(l)}})}),BD="chain",jY=["typed","Chain"],GY=_(BD,jY,t=>{var{typed:e,Chain:r}=t;return e(BD,{"":function(){return new r},any:function(i){return new r(i)}})}),FD="det",KY=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],AB=_(FD,KY,t=>{var{typed:e,matrix:r,subtract:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=t;return e(FD,{any:function(c){return He(c)},"Array | Matrix":function(c){var f;switch(We(c)?f=c.size():Array.isArray(c)?(c=r(c),f=c.size()):f=[],f.length){case 0:return He(c);case 1:if(f[0]===1)return He(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ze(f)+")");case 2:{var h=f[0],d=f[1];if(h===d)return l(c.clone().valueOf(),h);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+Ze(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ze(f)+")")}}});function l(u,c,f){if(c===1)return He(u[0][0]);if(c===2)return n(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var h=!1,d=new Array(c).fill(0).map((C,A)=>A),p=0;p<c;p++){var m=d[p];if(o(u[m][p])){var v=void 0;for(v=p+1;v<c;v++)if(!o(u[d[v]][p])){m=d[v],d[v]=d[p],d[p]=m,h=!h;break}if(v===c)return u[m][p]}for(var g=u[m][p],b=p===0?1:u[d[p-1]][p-1],y=p+1;y<c;y++)for(var w=d[y],S=p+1;S<c;S++)u[w][S]=a(n(i(u[w][S],g),i(u[w][p],u[m][S])),b)}var x=u[d[c-1]][c-1];return h?s(x):x}}),$D="inv",YY=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],EB=_($D,YY,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:l,abs:u}=t;return e($D,{"Array | Matrix":function(h){var d=We(h)?h.size():tt(h);switch(d.length){case 1:if(d[0]===1)return We(h)?r([n(1,h.valueOf()[0])]):[n(1,h[0])];throw new RangeError("Matrix must be square (size: "+Ze(d)+")");case 2:{var p=d[0],m=d[1];if(p===m)return We(h)?r(c(h.valueOf(),p,m),h.storage()):c(h,p,m);throw new RangeError("Matrix must be square (size: "+Ze(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ze(d)+")")}},any:function(h){return n(1,h)}});function c(f,h,d){var p,m,v,g,b;if(h===1){if(g=f[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,g)]]}else if(h===2){var y=s(f);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],y),n(o(f[0][1]),y)],[n(o(f[1][0]),y),n(f[0][0],y)]]}else{var w=f.concat();for(p=0;p<h;p++)w[p]=w[p].concat();for(var S=l(h).valueOf(),x=0;x<d;x++){var C=u(w[x][x]),A=x;for(p=x+1;p<h;)u(w[p][x])>C&&(C=u(w[p][x]),A=p),p++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");p=A,p!==x&&(b=w[x],w[x]=w[p],w[p]=b,b=S[x],S[x]=S[p],S[p]=b);var E=w[x],D=S[x];for(p=0;p<h;p++){var M=w[p],k=S[p];if(p!==x){if(M[x]!==0){for(v=n(o(M[x]),E[x]),m=x;m<d;m++)M[m]=i(M[m],a(v,E[m]));for(m=0;m<d;m++)k[m]=i(k[m],a(v,D[m]))}}else{for(v=E[x],m=x;m<d;m++)M[m]=n(M[m],v);for(m=0;m<d;m++)k[m]=n(k[m],v)}}}return S}}}),RD="pinv",JY=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],ZY=_(RD,JY,t=>{var{typed:e,matrix:r,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:s,ctranspose:l,divideScalar:u,multiply:c,add:f,Complex:h}=t;return e(RD,{"Array | Matrix":function(y){var w=We(y)?y.size():tt(y);switch(w.length){case 1:return g(y)?l(y):w[0]===1?n(y):o(l(y),s(y,y));case 2:{if(g(y))return l(y);var S=w[0],x=w[1];if(S===x)try{return n(y)}catch(C){if(!(C instanceof Error&&C.message.match(/Cannot calculate inverse, determinant is zero/)))throw C}return We(y)?r(d(y.valueOf(),S,x),y.storage()):d(y,S,x)}default:throw new RangeError("Matrix must be two dimensional (size: "+Ze(w)+")")}},any:function(y){return a(y,0)?He(y):u(1,y)}});function d(b,y,w){var{C:S,F:x}=m(b,y,w),C=c(n(c(l(S),S)),l(S)),A=c(l(x),n(c(x,l(x))));return c(A,C)}function p(b,y,w){for(var S=He(b),x=0,C=0;C<y;C++){if(w<=x)return S;for(var A=C;v(S[A][x]);)if(A++,y===A&&(A=C,x++,w===x))return S;[S[A],S[C]]=[S[C],S[A]];for(var E=S[C][x],D=0;D<w;D++)S[C][D]=o(S[C][D],E);for(var M=0;M<y;M++)if(M!==C){E=S[M][x];for(var k=0;k<w;k++)S[M][k]=f(S[M][k],c(-1,c(E,S[C][k])))}x++}return S}function m(b,y,w){var S=p(b,y,w),x=b.map((A,E)=>A.filter((D,M)=>M<y&&!v(s(S[M],S[M])))),C=S.filter((A,E)=>!v(s(S[E],S[E])));return{C:x,F:C}}function v(b){return a(f(b,h(1,1)),f(0,h(1,1)))}function g(b){return i(f(b,h(1,1)),f(c(b,0),h(1,1)))}});function XY(t){var{addScalar:e,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:s,abs:l,bignumber:u,diag:c,inv:f,qr:h,usolve:d,usolveAll:p,equal:m,complex:v,larger:g,smaller:b,matrixFromColumns:y,dot:w}=t;function S(P,V,W,L,G){G===void 0&&(G=!0);var ee=x(P,V,W,L,G);C(P,V,W,L,G,ee);var{values:Z,C:se}=A(P,V,W,L,G),he;return G&&(he=E(P,V,se,ee,Z,W,L),he=y(...he)),{values:Z,vectors:he}}function x(P,V,W,L,G){var ee=L==="BigNumber",Z=L==="Complex",se=ee?u(0):0,he=ee?u(1):Z?v(1):1,le=ee?u(1):1,ne=ee?u(10):2,xe=a(ne,ne),Se;G&&(Se=Array(V).fill(he));for(var me=!1;!me;){me=!0;for(var Ce=0;Ce<V;Ce++){for(var q=se,j=se,re=0;re<V;re++)if(Ce!==re){var H=l(P[Ce][re]);q=e(q,H),j=e(j,H)}if(!m(q,0)&&!m(j,0)){for(var Y=le,Q=q,ge=o(j,ne),ce=a(j,ne);b(Q,ge);)Q=a(Q,xe),Y=a(Y,ne);for(;g(Q,ce);)Q=o(Q,xe),Y=o(Y,ne);var z=b(o(e(Q,j),Y),a(e(q,j),.95));if(z){me=!1;for(var U=o(1,Y),X=0;X<V;X++)Ce!==X&&(P[Ce][X]=a(P[Ce][X],Y),P[X][Ce]=a(P[X][Ce],U));G&&(Se[Ce]=a(Se[Ce],Y))}}}}return c(Se)}function C(P,V,W,L,G,ee){var Z=L==="BigNumber",se=L==="Complex",he=Z?u(0):se?v(0):0;Z&&(W=u(W));for(var le=0;le<V-2;le++){for(var ne=0,xe=he,Se=le+1;Se<V;Se++){var me=P[Se][le];b(l(xe),l(me))&&(xe=me,ne=Se)}if(!b(l(xe),W)){if(ne!==le+1){var Ce=P[ne];P[ne]=P[le+1],P[le+1]=Ce;for(var q=0;q<V;q++){var j=P[q][ne];P[q][ne]=P[q][le+1],P[q][le+1]=j}if(G){var re=ee[ne];ee[ne]=ee[le+1],ee[le+1]=re}}for(var H=le+2;H<V;H++){var Y=o(P[H][le],xe);if(Y!==0){for(var Q=0;Q<V;Q++)P[H][Q]=r(P[H][Q],a(Y,P[le+1][Q]));for(var ge=0;ge<V;ge++)P[ge][le+1]=e(P[ge][le+1],a(Y,P[ge][H]));if(G)for(var ce=0;ce<V;ce++)ee[H][ce]=r(ee[H][ce],a(Y,ee[le+1][ce]))}}}}return ee}function A(P,V,W,L,G){var ee=L==="BigNumber",Z=L==="Complex",se=ee?u(1):Z?v(1):1;ee&&(W=u(W));for(var he=He(P),le=[],ne=V,xe=[],Se=G?c(Array(V).fill(se)):void 0,me=G?c(Array(ne).fill(se)):void 0,Ce=0;Ce<=100;){Ce+=1;for(var q=0,j=0;j<ne;j++)he[j][j]=r(he[j][j],q);var{Q:re,R:H}=h(he);he=i(H,re);for(var Y=0;Y<ne;Y++)he[Y][Y]=e(he[Y][Y],q);if(G&&(me=i(me,re)),ne===1||b(l(he[ne-1][ne-2]),W)){Ce=0,le.push(he[ne-1][ne-1]),G&&(xe.unshift([[1]]),k(me,V),Se=i(Se,me),ne>1&&(me=c(Array(ne-1).fill(se)))),ne-=1,he.pop();for(var Q=0;Q<ne;Q++)he[Q].pop()}else if(ne===2||b(l(he[ne-2][ne-3]),W)){Ce=0;var ge=D(he[ne-2][ne-2],he[ne-2][ne-1],he[ne-1][ne-2],he[ne-1][ne-1]);le.push(...ge),G&&(xe.unshift(M(he[ne-2][ne-2],he[ne-2][ne-1],he[ne-1][ne-2],he[ne-1][ne-1],ge[0],ge[1],W,L)),k(me,V),Se=i(Se,me),ne>2&&(me=c(Array(ne-2).fill(se)))),ne-=2,he.pop(),he.pop();for(var ce=0;ce<ne;ce++)he[ce].pop(),he[ce].pop()}if(ne===0)break}if(le.sort((X,oe)=>+r(l(X),l(oe))),Ce>100){var z=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+le.join(", "));throw z.values=le,z.vectors=[],z}var U=G?i(Se,$(xe,V)):void 0;return{values:le,C:U}}function E(P,V,W,L,G,ee,Z){var se=f(W),he=i(se,P,W),le=Z==="BigNumber",ne=Z==="Complex",xe=le?u(0):ne?v(0):0,Se=le?u(1):ne?v(1):1,me=[],Ce=[];for(var q of G){var j=I(me,q,m);j===-1?(me.push(q),Ce.push(1)):Ce[j]+=1}for(var re=[],H=me.length,Y=Array(V).fill(xe),Q=c(Array(V).fill(Se)),ge=[],ce=function(){var oe=me[z],de=r(he,i(oe,Q)),fe=p(de,Y);for(fe.shift();fe.length<Ce[z];){var ve=F(de,V,fe,ee,Z);if(ve==null){ge.push(oe);break}fe.push(ve)}var pe=i(f(L),W);fe=fe.map(we=>i(pe,we)),re.push(...fe.map(we=>n(we)))},z=0;z<H;z++)ce();if(ge.length!==0){var U=new Error("Failed to find eigenvectors for the following eigenvalues: "+ge.join(", "));throw U.values=G,U.vectors=re,U}return re}function D(P,V,W,L){var G=e(P,L),ee=r(a(P,L),a(V,W)),Z=a(G,.5),se=a(s(r(a(G,G),a(4,ee))),.5);return[e(Z,se),r(Z,se)]}function M(P,V,W,L,G,ee,Z,se){var he=se==="BigNumber",le=se==="Complex",ne=he?u(0):le?v(0):0,xe=he?u(1):le?v(1):1;if(b(l(W),Z))return[[xe,ne],[ne,xe]];if(g(l(r(G,ee)),Z))return[[r(G,L),r(ee,L)],[W,W]];var Se=r(P,G),me=r(V,G),Ce=r(W,G),q=r(L,G);return b(l(me),Z)?[[Se,xe],[Ce,ne]]:[[me,ne],[q,xe]]}function k(P,V){for(var W=0;W<P.length;W++)P[W].push(...Array(V-P[W].length).fill(0));for(var L=P.length;L<V;L++)P.push(Array(V).fill(0)),P[L][L]=1;return P}function $(P,V){for(var W=[],L=0;L<V;L++)W[L]=Array(V).fill(0);var G=0;for(var ee of P){for(var Z=ee.length,se=0;se<Z;se++)for(var he=0;he<Z;he++)W[G+se][G+he]=ee[se][he];G+=Z}return W}function I(P,V,W){for(var L=0;L<P.length;L++)if(W(P[L],V))return L;return-1}function F(P,V,W,L,G){for(var ee=G==="BigNumber"?u(1e3):1e3,Z,se=0;Z=N(V,W,G),Z=d(P,Z),!g(R(Z),ee);)if(++se>=5)return null;for(se=0;;){var he=d(P,Z);if(b(R(T(Z,[he])),L))break;if(++se>=10)return null;Z=O(he)}return Z}function N(P,V,W){var L=W==="BigNumber",G=W==="Complex",ee=Array(P).fill(0).map(Z=>2*Math.random()-1);return L&&(ee=ee.map(Z=>u(Z))),G&&(ee=ee.map(Z=>v(Z))),ee=T(ee,V),O(ee,W)}function T(P,V){for(var W of V)P=r(P,i(o(w(W,P),w(W,W)),W));return P}function R(P){return l(s(w(P,P)))}function O(P,V){var W=V==="BigNumber",L=V==="Complex",G=W?u(1):L?v(1):1;return i(o(G,R(P)),P)}return S}function QY(t){var{config:e,addScalar:r,subtract:n,abs:i,atan:a,cos:o,sin:s,multiplyScalar:l,inv:u,bignumber:c,multiply:f,add:h}=t;function d(D,M){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,$=arguments.length>3?arguments[3]:void 0;if($==="number")return p(D,k);if($==="BigNumber")return m(D,k);throw TypeError("Unsupported data type: "+$)}function p(D,M){for(var k=D.length,$=Math.abs(M/k),I,F=new Array(k),N=0;N<k;N++)F[N]=E(k,0),F[N][N]=1;for(var T=x(D);Math.abs(T[1])>=Math.abs($);){var R=T[0][0],O=T[0][1];I=v(D[R][R],D[O][O],D[R][O]),D=S(D,I,R,O),F=b(F,I,R,O),T=x(D)}for(var P=E(k,0),V=0;V<k;V++)P[V]=D[V][V];return A(He(P),He(F))}function m(D,M){for(var k=D.length,$=i(M/k),I,F=new Array(k),N=0;N<k;N++)F[N]=E(k,0),F[N][N]=1;for(var T=C(D);i(T[1])>=i($);){var R=T[0][0],O=T[0][1];I=g(D[R][R],D[O][O],D[R][O]),D=w(D,I,R,O),F=y(F,I,R,O),T=C(D)}for(var P=E(k,0),V=0;V<k;V++)P[V]=D[V][V];return A(He(P),He(F))}function v(D,M,k){var $=M-D;return Math.abs($)<=e.epsilon?Math.PI/4:.5*Math.atan(2*k/(M-D))}function g(D,M,k){var $=n(M,D);return i($)<=e.epsilon?c(-1).acos().div(4):l(.5,a(f(2,k,u($))))}function b(D,M,k,$){for(var I=D.length,F=Math.cos(M),N=Math.sin(M),T=E(I,0),R=E(I,0),O=0;O<I;O++)T[O]=F*D[O][k]-N*D[O][$],R[O]=N*D[O][k]+F*D[O][$];for(var P=0;P<I;P++)D[P][k]=T[P],D[P][$]=R[P];return D}function y(D,M,k,$){for(var I=D.length,F=o(M),N=s(M),T=E(I,c(0)),R=E(I,c(0)),O=0;O<I;O++)T[O]=n(l(F,D[O][k]),l(N,D[O][$])),R[O]=r(l(N,D[O][k]),l(F,D[O][$]));for(var P=0;P<I;P++)D[P][k]=T[P],D[P][$]=R[P];return D}function w(D,M,k,$){for(var I=D.length,F=c(o(M)),N=c(s(M)),T=l(F,F),R=l(N,N),O=E(I,c(0)),P=E(I,c(0)),V=f(c(2),F,N,D[k][$]),W=r(n(l(T,D[k][k]),V),l(R,D[$][$])),L=h(l(R,D[k][k]),V,l(T,D[$][$])),G=0;G<I;G++)O[G]=n(l(F,D[k][G]),l(N,D[$][G])),P[G]=r(l(N,D[k][G]),l(F,D[$][G]));D[k][k]=W,D[$][$]=L,D[k][$]=c(0),D[$][k]=c(0);for(var ee=0;ee<I;ee++)ee!==k&&ee!==$&&(D[k][ee]=O[ee],D[ee][k]=O[ee],D[$][ee]=P[ee],D[ee][$]=P[ee]);return D}function S(D,M,k,$){for(var I=D.length,F=Math.cos(M),N=Math.sin(M),T=F*F,R=N*N,O=E(I,0),P=E(I,0),V=T*D[k][k]-2*F*N*D[k][$]+R*D[$][$],W=R*D[k][k]+2*F*N*D[k][$]+T*D[$][$],L=0;L<I;L++)O[L]=F*D[k][L]-N*D[$][L],P[L]=N*D[k][L]+F*D[$][L];D[k][k]=V,D[$][$]=W,D[k][$]=0,D[$][k]=0;for(var G=0;G<I;G++)G!==k&&G!==$&&(D[k][G]=O[G],D[G][k]=O[G],D[$][G]=P[G],D[G][$]=P[G]);return D}function x(D){for(var M=D.length,k=0,$=[0,1],I=0;I<M;I++)for(var F=I+1;F<M;F++)Math.abs(k)<Math.abs(D[I][F])&&(k=Math.abs(D[I][F]),$=[I,F]);return[$,k]}function C(D){for(var M=D.length,k=0,$=[0,1],I=0;I<M;I++)for(var F=I+1;F<M;F++)i(k)<i(D[I][F])&&(k=i(D[I][F]),$=[I,F]);return[$,k]}function A(D,M){for(var k=D.length,$=Array(k),I=Array(k),F=0;F<k;F++)I[F]=Array(k);for(var N=0;N<k;N++){for(var T=0,R=D[0],O=0;O<D.length;O++)i(D[O])<i(R)&&(T=O,R=D[T]);$[N]=D.splice(T,1)[0];for(var P=0;P<k;P++)I[P][N]=M[P][T],M[P].splice(T,1)}return{values:$,vectors:I}}function E(D,M){for(var k=new Array(D),$=0;$<D;$++)k[$]=M;return k}return d}var eJ="eigs",tJ=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],rJ=_(eJ,tJ,t=>{var{config:e,typed:r,matrix:n,addScalar:i,subtract:a,equal:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:f,divideScalar:h,inv:d,bignumber:p,multiply:m,add:v,larger:g,column:b,flatten:y,number:w,complex:S,sqrt:x,diag:C,qr:A,usolve:E,usolveAll:D,im:M,re:k,smaller:$,matrixFromColumns:I,dot:F}=t,N=QY({config:e,addScalar:i,subtract:a,column:b,flatten:y,equal:o,abs:s,atan:l,cos:u,sin:c,multiplyScalar:f,inv:d,bignumber:p,complex:S,multiply:m,add:v}),T=XY({config:e,addScalar:i,subtract:a,multiply:m,multiplyScalar:f,flatten:y,divideScalar:h,sqrt:x,abs:s,bignumber:p,diag:C,qr:A,inv:d,usolve:E,usolveAll:D,equal:o,complex:S,larger:g,smaller:$,matrixFromColumns:I,dot:F});return r("eigs",{Array:function(G){var ee=n(G);return R(ee)},"Array, number|BigNumber":function(G,ee){var Z=n(G);return R(Z,ee)},Matrix:function(G){var{values:ee,vectors:Z}=R(G);return{values:n(ee),vectors:n(Z)}},"Matrix, number|BigNumber":function(G,ee){var{values:Z,vectors:se}=R(G,ee);return{values:n(Z),vectors:n(se)}}});function R(L,G){G===void 0&&(G=e.epsilon);var ee=L.size();if(ee.length!==2||ee[0]!==ee[1])throw new RangeError("Matrix must be square (size: "+Ze(ee)+")");var Z=L.toArray(),se=ee[0];if(P(Z,se,G)&&(V(Z,se),O(Z,se,G))){var he=W(L,Z,se);return N(Z,se,G,he)}var le=W(L,Z,se);return T(Z,se,G,le)}function O(L,G,ee){for(var Z=0;Z<G;Z++)for(var se=Z;se<G;se++)if(g(p(s(a(L[Z][se],L[se][Z]))),ee))return!1;return!0}function P(L,G,ee){for(var Z=0;Z<G;Z++)for(var se=0;se<G;se++)if(g(p(s(M(L[Z][se]))),ee))return!1;return!0}function V(L,G){for(var ee=0;ee<G;ee++)for(var Z=0;Z<G;Z++)L[ee][Z]=k(L[ee][Z])}function W(L,G,ee){var Z=L.datatype();if(Z==="number"||Z==="BigNumber"||Z==="Complex")return Z;for(var se=!1,he=!1,le=!1,ne=0;ne<ee;ne++)for(var xe=0;xe<ee;xe++){var Se=G[ne][xe];if(nt(Se)||Ms(Se))se=!0;else if(Qe(Se))he=!0;else if(Di(Se))le=!0;else throw TypeError("Unsupported type in Matrix: "+Et(Se))}if(he&&le&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),le){for(var me=0;me<ee;me++)for(var Ce=0;Ce<ee;Ce++)G[me][Ce]=S(G[me][Ce]);return"Complex"}if(he){for(var q=0;q<ee;q++)for(var j=0;j<ee;j++)G[q][j]=p(G[q][j]);return"BigNumber"}if(se){for(var re=0;re<ee;re++)for(var H=0;H<ee;H++)G[re][H]=w(G[re][H]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),PD="expm",nJ=["typed","abs","add","identity","inv","multiply"],iJ=_(PD,nJ,t=>{var{typed:e,abs:r,add:n,identity:i,inv:a,multiply:o}=t;return e(PD,{Matrix:function(f){var h=f.size();if(h.length!==2||h[0]!==h[1])throw new RangeError("Matrix must be square (size: "+Ze(h)+")");for(var d=h[0],p=1e-15,m=s(f),v=l(m,p),g=v.q,b=v.j,y=o(f,Math.pow(2,-b)),w=i(d),S=i(d),x=1,C=y,A=-1,E=1;E<=g;E++)E>1&&(C=o(C,y),A=-A),x=x*(g-E+1)/((2*g-E+1)*E),w=n(w,o(x,C)),S=n(S,o(x*A,C));for(var D=o(a(S),w),M=0;M<b;M++)D=o(D,D);return ao(f)?f.createSparseMatrix(D):D}});function s(c){for(var f=c.size()[0],h=0,d=0;d<f;d++){for(var p=0,m=0;m<f;m++)p+=r(c.get([d,m]));h=Math.max(p,h)}return h}function l(c,f){for(var h=30,d=0;d<h;d++)for(var p=0;p<=d;p++){var m=d-p;if(u(c,p,m)<f)return{q:p,j:m}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(c,f,h){for(var d=1,p=2;p<=f;p++)d*=p;for(var m=d,v=f+1;v<=2*f;v++)m*=v;var g=m*(2*f+1);return 8*Math.pow(c/Math.pow(2,h),2*f)*d*d/(m*g)}}),ID="sqrtm",aJ=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],oJ=_(ID,aJ,t=>{var{typed:e,abs:r,add:n,multiply:i,map:a,sqrt:o,subtract:s,inv:l,size:u,max:c,identity:f}=t,h=1e3,d=1e-6;function p(m){var v,g=0,b=m,y=f(u(m));do{var w=b;if(b=i(.5,n(w,l(y))),y=i(.5,n(y,l(w))),v=c(r(s(b,w))),v>d&&++g>h)throw new Error("computing square root of matrix: iterative method could not converge")}while(v>d);return b}return e(ID,{"Array | Matrix":function(v){var g=We(v)?v.size():tt(v);switch(g.length){case 1:if(g[0]===1)return a(v,o);throw new RangeError("Matrix must be square (size: "+Ze(g)+")");case 2:{var b=g[0],y=g[1];if(b===y)return p(v);throw new RangeError("Matrix must be square (size: "+Ze(g)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+Ze(g)+")")}}})}),LD="sylvester",sJ=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],lJ=_(LD,sJ,t=>{var{typed:e,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:s,transpose:l,index:u,subset:c,add:f,subtract:h,identity:d,lusolve:p,abs:m}=t;return e(LD,{"Matrix, Matrix, Matrix":v,"Array, Matrix, Matrix":function(b,y,w){return v(i(b),y,w)},"Array, Array, Matrix":function(b,y,w){return v(i(b),i(y),w)},"Array, Matrix, Array":function(b,y,w){return v(i(b),y,i(w))},"Matrix, Array, Matrix":function(b,y,w){return v(b,i(y),w)},"Matrix, Array, Array":function(b,y,w){return v(b,i(y),i(w))},"Matrix, Matrix, Array":function(b,y,w){return v(b,y,i(w))},"Array, Array, Array":function(b,y,w){return v(i(b),i(y),i(w)).toArray()}});function v(g,b,y){for(var w=b.size()[0],S=g.size()[0],x=r(g),C=x.T,A=x.U,E=r(a(-1,b)),D=E.T,M=E.U,k=a(a(l(A),y),M),$=o(0,S),I=[],F=(Se,me)=>s(Se,me,1),N=(Se,me)=>s(Se,me,0),T=0;T<w;T++)if(T<w-1&&m(c(D,u(T+1,T)))>1e-5){for(var R=N(c(k,u($,T)),c(k,u($,T+1))),O=0;O<T;O++)R=f(R,N(a(I[O],c(D,u(O,T))),a(I[O],c(D,u(O,T+1)))));var P=a(d(S),a(-1,c(D,u(T,T)))),V=a(d(S),a(-1,c(D,u(T+1,T)))),W=a(d(S),a(-1,c(D,u(T,T+1)))),L=a(d(S),a(-1,c(D,u(T+1,T+1)))),G=N(F(f(C,P),V),F(W,f(C,L))),ee=p(G,R);I[T]=ee.subset(u(o(0,S),0)),I[T+1]=ee.subset(u(o(S,2*S),0)),T++}else{for(var Z=c(k,u($,T)),se=0;se<T;se++)Z=f(Z,a(I[se],c(D,u(se,T))));var he=c(D,u(T,T)),le=h(C,a(he,d(S)));I[T]=p(le,Z)}var ne=i(n(...I)),xe=a(A,a(ne,l(M)));return xe}}),_D="schur",uJ=["typed","matrix","identity","multiply","qr","norm","subtract"],cJ=_(_D,uJ,t=>{var{typed:e,matrix:r,identity:n,multiply:i,qr:a,norm:o,subtract:s}=t;return e(_D,{Array:function(c){var f=l(r(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return l(c)}});function l(u){var c=u.size()[0],f=u,h=n(c),d=0,p;do{p=f;var m=a(f),v=m.Q,g=m.R;if(f=i(g,v),h=i(h,v),d++>100)break}while(o(s(f,p))>1e-4);return{U:h,T:f}}}),zD="lyap",fJ=["typed","matrix","sylvester","multiply","transpose"],hJ=_(zD,fJ,t=>{var{typed:e,matrix:r,sylvester:n,multiply:i,transpose:a}=t;return e(zD,{"Matrix, Matrix":function(s,l){return n(s,a(s),i(-1,l))},"Array, Matrix":function(s,l){return n(r(s),a(r(s)),i(-1,l))},"Matrix, Array":function(s,l){return n(s,a(r(s)),r(i(-1,l)))},"Array, Array":function(s,l){return n(r(s),a(r(s)),r(i(-1,l))).toArray()}})}),dJ="divide",pJ=["typed","matrix","multiply","equalScalar","divideScalar","inv"],mJ=_(dJ,pJ,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:o}=t,s=Ir({typed:e,equalScalar:i}),l=Oi({typed:e});return e("divide",XT({"Array | Matrix, Array | Matrix":function(c,f){return n(c,o(f))},"DenseMatrix, any":function(c,f){return l(c,f,a,!1)},"SparseMatrix, any":function(c,f){return s(c,f,a,!1)},"Array, any":function(c,f){return l(r(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,o(f))}},a.signatures))}),UD="distance",gJ=["typed","addScalar","subtract","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],vJ=_(UD,gJ,t=>{var{typed:e,addScalar:r,subtract:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:s,abs:l}=t;return e(UD,{"Array, Array, Array":function(S,x,C){if(S.length===2&&x.length===2&&C.length===2){if(!c(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(x,C))throw new TypeError("LinePoint1 should not be same with LinePoint2");var A=n(C[1],x[1]),E=n(x[0],C[0]),D=n(i(C[0],x[1]),i(x[0],C[1]));return v(S[0],S[1],A,E,D)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(S,x,C){if(Object.keys(S).length===2&&Object.keys(x).length===2&&Object.keys(C).length===2){if(!c(S))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(C))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(p(x),p(C)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in S&&"pointY"in S&&"lineOnePtX"in x&&"lineOnePtY"in x&&"lineTwoPtX"in C&&"lineTwoPtY"in C){var A=n(C.lineTwoPtY,x.lineOnePtY),E=n(x.lineOnePtX,C.lineTwoPtX),D=n(i(C.lineTwoPtX,x.lineOnePtY),i(x.lineOnePtX,C.lineTwoPtY));return v(S.pointX,S.pointY,A,E,D)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(S,x){if(S.length===2&&x.length===3){if(!c(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(S[0],S[1],x[0],x[1],x[2])}else if(S.length===3&&x.length===6){if(!f(S))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!d(x))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(S[0],S[1],S[2],x[0],x[1],x[2],x[3],x[4],x[5])}else if(S.length===x.length&&S.length>0){if(!h(S))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!h(x))throw new TypeError("All values of an array should be numbers or BigNumbers");return b(S,x)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(S,x){if(Object.keys(S).length===2&&Object.keys(x).length===3){if(!c(S))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"xCoeffLine"in x&&"yCoeffLine"in x&&"constant"in x)return v(S.pointX,S.pointY,x.xCoeffLine,x.yCoeffLine,x.constant);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===3&&Object.keys(x).length===6){if(!f(S))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!d(x))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in S&&"pointY"in S&&"x0"in x&&"y0"in x&&"z0"in x&&"a"in x&&"b"in x&&"c"in x)return g(S.pointX,S.pointY,S.pointZ,x.x0,x.y0,x.z0,x.a,x.b,x.c);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===2&&Object.keys(x).length===2){if(!c(S))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(x))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in S&&"pointOneY"in S&&"pointTwoX"in x&&"pointTwoY"in x)return b([S.pointOneX,S.pointOneY],[x.pointTwoX,x.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(S).length===3&&Object.keys(x).length===3){if(!f(S))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(x))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in S&&"pointOneY"in S&&"pointOneZ"in S&&"pointTwoX"in x&&"pointTwoY"in x&&"pointTwoZ"in x)return b([S.pointOneX,S.pointOneY,S.pointOneZ],[x.pointTwoX,x.pointTwoY,x.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(S){if(!m(S))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return y(S)}});function u(w){return typeof w=="number"||Qe(w)}function c(w){return w.constructor!==Array&&(w=p(w)),u(w[0])&&u(w[1])}function f(w){return w.constructor!==Array&&(w=p(w)),u(w[0])&&u(w[1])&&u(w[2])}function h(w){return Array.isArray(w)||(w=p(w)),w.every(u)}function d(w){return w.constructor!==Array&&(w=p(w)),u(w[0])&&u(w[1])&&u(w[2])&&u(w[3])&&u(w[4])&&u(w[5])}function p(w){for(var S=Object.keys(w),x=[],C=0;C<S.length;C++)x.push(w[S[C]]);return x}function m(w){if(w[0].length===2&&u(w[0][0])&&u(w[0][1])){if(w.some(S=>S.length!==2||!u(S[0])||!u(S[1])))return!1}else if(w[0].length===3&&u(w[0][0])&&u(w[0][1])&&u(w[0][2])){if(w.some(S=>S.length!==3||!u(S[0])||!u(S[1])||!u(S[2])))return!1}else return!1;return!0}function v(w,S,x,C,A){var E=l(r(r(i(x,w),i(C,S)),A)),D=s(r(i(x,x),i(C,C)));return a(E,D)}function g(w,S,x,C,A,E,D,M,k){var $=[n(i(n(A,S),k),i(n(E,x),M)),n(i(n(E,x),D),i(n(C,w),k)),n(i(n(C,w),M),i(n(A,S),D))];$=s(r(r(i($[0],$[0]),i($[1],$[1])),i($[2],$[2])));var I=s(r(r(i(D,D),i(M,M)),i(k,k)));return a($,I)}function b(w,S){for(var x=w.length,C=0,A=0,E=0;E<x;E++)A=n(w[E],S[E]),C=r(i(A,A),C);return s(C)}function y(w){for(var S=[],x=[],C=[],A=0;A<w.length-1;A++)for(var E=A+1;E<w.length;E++)w[0].length===2?(x=[w[A][0],w[A][1]],C=[w[E][0],w[E][1]]):w[0].length===3&&(x=[w[A][0],w[A][1],w[A][2]],C=[w[E][0],w[E][1],w[E][2]]),S.push(b(x,C));return S}}),yJ="intersect",xJ=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],bJ=_(yJ,xJ,t=>{var{typed:e,config:r,abs:n,add:i,addScalar:a,matrix:o,multiply:s,multiplyScalar:l,divideScalar:u,subtract:c,smaller:f,equalScalar:h,flatten:d,isZero:p,isNumeric:m}=t;return e("intersect",{"Array, Array, Array":v,"Array, Array, Array, Array":g,"Matrix, Matrix, Matrix":function(M,k,$){var I=v(M.valueOf(),k.valueOf(),$.valueOf());return I===null?null:o(I)},"Matrix, Matrix, Matrix, Matrix":function(M,k,$,I){var F=g(M.valueOf(),k.valueOf(),$.valueOf(),I.valueOf());return F===null?null:o(F)}});function v(D,M,k){if(D=b(D),M=b(M),k=b(k),!w(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!S(k))throw new TypeError("Array with 4 numbers expected as third argument");return E(D[0],D[1],D[2],M[0],M[1],M[2],k[0],k[1],k[2],k[3])}function g(D,M,k,$){if(D=b(D),M=b(M),k=b(k),$=b($),D.length===2){if(!y(D))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!y(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!y($))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return x(D,M,k,$)}else if(D.length===3){if(!w(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!w(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!w($))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return A(D[0],D[1],D[2],M[0],M[1],M[2],k[0],k[1],k[2],$[0],$[1],$[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function b(D){return D.length===1?D[0]:D.length>1&&Array.isArray(D[0])&&D.every(M=>Array.isArray(M)&&M.length===1)?d(D):D}function y(D){return D.length===2&&m(D[0])&&m(D[1])}function w(D){return D.length===3&&m(D[0])&&m(D[1])&&m(D[2])}function S(D){return D.length===4&&m(D[0])&&m(D[1])&&m(D[2])&&m(D[3])}function x(D,M,k,$){var I=D,F=k,N=c(I,M),T=c(F,$),R=c(l(N[0],T[1]),l(T[0],N[1]));if(p(R)||f(n(R),r.epsilon))return null;var O=l(T[0],I[1]),P=l(T[1],I[0]),V=l(T[0],F[1]),W=l(T[1],F[0]),L=u(a(c(c(O,P),V),W),R);return i(s(N,L),I)}function C(D,M,k,$,I,F,N,T,R,O,P,V){var W=l(c(D,M),c(k,$)),L=l(c(I,F),c(N,T)),G=l(c(R,O),c(P,V));return a(a(W,L),G)}function A(D,M,k,$,I,F,N,T,R,O,P,V){var W=C(D,N,O,N,M,T,P,T,k,R,V,R),L=C(O,N,$,D,P,T,I,M,V,R,F,k),G=C(D,N,$,D,M,T,I,M,k,R,F,k),ee=C(O,N,O,N,P,T,P,T,V,R,V,R),Z=C($,D,$,D,I,M,I,M,F,k,F,k),se=c(l(W,L),l(G,ee)),he=c(l(Z,ee),l(L,L));if(p(he))return null;var le=u(se,he),ne=u(a(W,l(le,L)),ee),xe=a(D,l(le,c($,D))),Se=a(M,l(le,c(I,M))),me=a(k,l(le,c(F,k))),Ce=a(N,l(ne,c(O,N))),q=a(T,l(ne,c(P,T))),j=a(R,l(ne,c(V,R)));return h(xe,Ce)&&h(Se,q)&&h(me,j)?[xe,Se,me]:null}function E(D,M,k,$,I,F,N,T,R,O){var P=l(D,N),V=l($,N),W=l(M,T),L=l(I,T),G=l(k,R),ee=l(F,R),Z=c(c(c(O,P),W),G),se=c(c(c(a(a(V,L),ee),P),W),G),he=u(Z,se),le=a(D,l(he,c($,D))),ne=a(M,l(he,c(I,M))),xe=a(k,l(he,c(F,k)));return[le,ne,xe]}}),qD="sum",wJ=["typed","config","add","numeric"],NB=_(qD,wJ,t=>{var{typed:e,config:r,add:n,numeric:i}=t;return e(qD,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(l){if(cu(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(s){var l;return Fa(s,function(u){try{l=l===void 0?u:n(l,u)}catch(c){throw on(c,"sum",u)}}),l===void 0&&(l=i(0,r.number)),typeof l=="string"&&(l=i(l,r.number)),l}function o(s,l){try{var u=gm(s,l,n);return u}catch(c){throw on(c,"sum")}}}),xh="cumsum",SJ=["typed","add","unaryPlus"],MB=_(xh,SJ,t=>{var{typed:e,add:r,unaryPlus:n}=t;return e(xh,{Array:i,Matrix:function(u){return u.create(i(u.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(u,c){return u.create(o(u.valueOf(),c))},"...":function(u){if(cu(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(l){try{return a(l)}catch(u){throw on(u,xh)}}function a(l){if(l.length===0)return[];for(var u=[n(l[0])],c=1;c<l.length;++c)u.push(r(u[c-1],l[c]));return u}function o(l,u){var c=tt(l);if(u<0||u>=c.length)throw new ci(u,c.length);try{return s(l,u)}catch(f){throw on(f,xh)}}function s(l,u){var c,f,h;if(u<=0){var d=l[0][0];if(Array.isArray(d)){for(h=Rk(l),f=[],c=0;c<h.length;c++)f[c]=s(h[c],u-1);return f}else return a(l)}else{for(f=[],c=0;c<l.length;c++)f[c]=s(l[c],u-1);return f}}}),HD="mean",CJ=["typed","add","divide"],TB=_(HD,CJ,t=>{var{typed:e,add:r,divide:n}=t;return e(HD,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(s){if(cu(s))throw new TypeError("Scalar values expected in function mean");return a(s)}});function i(o,s){try{var l=gm(o,s,r),u=Array.isArray(o)?tt(o):o.size();return n(l,u[s])}catch(c){throw on(c,"mean")}}function a(o){var s,l=0;if(Fa(o,function(u){try{s=s===void 0?u:r(s,u),l++}catch(c){throw on(c,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return n(s,l)}}),VD="median",DJ=["typed","add","divide","compare","partitionSelect"],AJ=_(VD,DJ,t=>{var{typed:e,add:r,divide:n,compare:i,partitionSelect:a}=t;function o(u){try{u=ft(u.valueOf());var c=u.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,h=a(u,f+1),d=u[f],p=0;p<f;++p)i(u[p],d)>0&&(d=u[p]);return l(d,h)}else{var m=a(u,(c-1)/2);return s(m)}}catch(v){throw on(v,"median")}}var s=e({"number | BigNumber | Complex | Unit":function(c){return c}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(r(c,f),2)}});return e(VD,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(cu(c))throw new TypeError("Scalar values expected in function median");return o(c)}})}),WD="mad",EJ=["typed","abs","map","median","subtract"],NJ=_(WD,EJ,t=>{var{typed:e,abs:r,map:n,median:i,subtract:a}=t;return e(WD,{"Array | Matrix":o,"...":function(l){return o(l)}});function o(s){if(s=ft(s.valueOf()),s.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(s);return i(n(s,function(u){return r(a(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.indexOf("median")!==-1?new TypeError(u.message.replace("median","mad")):on(u,"mad")}}}),nv="unbiased",jD="variance",MJ=["typed","add","subtract","multiply","divide","apply","isNaN"],kB=_(jD,MJ,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:s}=t;return e(jD,{"Array | Matrix":function(f){return l(f,nv)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(f,h){return u(f,h,nv)},"Array | Matrix, number | BigNumber, string":u,"...":function(f){return l(f,nv)}});function l(c,f){var h,d=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Fa(c,function(v){try{h=h===void 0?v:r(h,v),d++}catch(g){throw on(g,"variance",v)}}),d===0)throw new Error("Cannot calculate variance of an empty array");var p=a(h,d);if(h=void 0,Fa(c,function(v){var g=n(v,p);h=h===void 0?i(g,g):r(h,i(g,g))}),s(h))return h;switch(f){case"uncorrected":return a(h,d);case"biased":return a(h,d+1);case"unbiased":{var m=Qe(h)?h.mul(0):0;return d===1?m:a(h,d-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(c,f,h){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,f,d=>l(d,h))}catch(d){throw on(d,"variance")}}}),TJ="quantileSeq",kJ=["typed","add","multiply","partitionSelect","compare"],OJ=_(TJ,kJ,t=>{var{typed:e,add:r,multiply:n,partitionSelect:i,compare:a}=t;function o(u,c,f){var h,d,p;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(Mi(u)){if(f=f||!1,typeof f=="boolean"){if(d=u.valueOf(),nt(c)){if(c<0)throw new Error("N/prob must be non-negative");if(c<=1)return s(d,c,f);if(c>1){if(!Ie(c))throw new Error("N must be a positive integer");var m=c+1;h=new Array(c);for(var v=0;v<c;)h[v]=s(d,++v/m,f);return h}}if(Qe(c)){var g=c.constructor;if(c.isNegative())throw new Error("N/prob must be non-negative");if(p=new g(1),c.lte(p))return new g(s(d,c,f));if(c.gt(p)){if(!c.isInteger())throw new Error("N must be a positive integer");var b=c.toNumber();if(b>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var y=new g(b+1);h=new Array(b);for(var w=0;w<b;)h[w]=new g(s(d,new g(++w).div(y),f));return h}}if(Mi(c)){var S=c.valueOf();h=new Array(S.length);for(var x=0;x<h.length;++x){var C=S[x];if(nt(C)){if(C<0||C>1)throw new Error("Probability must be between 0 and 1, inclusive")}else if(Qe(C)){if(p=new C.constructor(1),C.isNegative()||C.gt(p))throw new Error("Probability must be between 0 and 1, inclusive")}else throw new TypeError("Unexpected type of argument in function quantileSeq");h[x]=s(d,C,f)}return h}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function s(u,c,f){var h=ft(u),d=h.length;if(d===0)throw new Error("Cannot calculate quantile of an empty sequence");if(nt(c)){var p=c*(d-1),m=p%1;if(m===0){var v=f?h[p]:i(h,p);return l(v),v}var g=Math.floor(p),b,y;if(f)b=h[g],y=h[g+1];else{y=i(h,g+1),b=h[g];for(var w=0;w<g;++w)a(h[w],b)>0&&(b=h[w])}return l(b),l(y),r(n(b,1-m),n(y,m))}var S=c.times(d-1);if(S.isInteger()){S=S.toNumber();var x=f?h[S]:i(h,S);return l(x),x}var C=S.floor(),A=S.minus(C),E=C.toNumber(),D,M;if(f)D=h[E],M=h[E+1];else{M=i(h,E+1),D=h[E];for(var k=0;k<E;++k)a(h[k],D)>0&&(D=h[k])}l(D),l(M);var $=new A.constructor(1);return r(n(D,$.minus(A)),n(M,A))}var l=e({"number | BigNumber | Unit":function(c){return c}});return o}),GD="std",BJ=["typed","map","sqrt","variance"],OB=_(GD,BJ,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t;return e(GD,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(s){return a(s)}});function a(o,s){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return Mi(l)?r(l,n):n(l)}catch(u){throw u instanceof TypeError&&u.message.indexOf(" variance")!==-1?new TypeError(u.message.replace(" variance"," std")):u}}}),KD="combinations",FJ=["typed"],$J=_(KD,FJ,t=>{var{typed:e}=t;return e(KD,{"number, number":oO,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,s,l=n.minus(i),u=new a(1);if(!YD(n)||!YD(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=u,i.lt(l))for(s=u;s.lte(l);s=s.plus(u))o=o.times(i.plus(s)).dividedBy(s);else for(s=u;s.lte(i);s=s.plus(u))o=o.times(l.plus(s)).dividedBy(s);return o}})});function YD(t){return t.isInteger()&&t.gte(0)}var JD="combinationsWithRep",RJ=["typed"],PJ=_(JD,RJ,t=>{var{typed:e}=t;return e(JD,{"number, number":function(n,i){if(!Ie(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ie(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=Ca(n,n+i-1);return a/Ca(1,i)}var o=Ca(i+1,n+i-1);return o/Ca(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,s,l=new a(1),u=n.minus(l);if(!ZD(n)||!ZD(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(u))for(s=l;s.lte(u);s=s.plus(l))o=o.times(i.plus(s)).dividedBy(s);else for(s=l;s.lte(i);s=s.plus(l))o=o.times(u.plus(s)).dividedBy(s);return o}})});function ZD(t){return t.isInteger()&&t.gte(0)}var XD="gamma",IJ=["typed","config","multiplyScalar","pow","BigNumber","Complex"],LJ=_(XD,IJ,t=>{var{typed:e,config:r,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=t;function s(u){if(u.im===0)return rp(u.re);if(u.re<.5){var c=new o(1-u.re,-u.im),f=new o(Math.PI*u.re,Math.PI*u.im);return new o(Math.PI).div(f.sin()).div(s(c))}u=new o(u.re-1,u.im);for(var h=new o(Sl[0],0),d=1;d<Sl.length;++d){var p=new o(Sl[d],0);h=h.add(p.div(u.add(d)))}var m=new o(u.re+fO+.5,u.im),v=Math.sqrt(2*Math.PI),g=m.pow(u.add(.5)),b=m.neg().exp();return h.mul(v).mul(g).mul(b)}return e(XD,{number:rp,Complex:s,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):l(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new a([1,1,2,6,24,120,720,5040][u]);var c=r.precision+(Math.log(u.toNumber())|0),f=a.clone({precision:c});if(u%2===1)return u.times(l(new a(u-1)));for(var h=u,d=new f(u),p=u.toNumber();h>2;)h-=2,p+=h,d=d.times(p);return new a(d.toPrecision(a.precision))}}),QD="lgamma",_J=["Complex","typed"],zJ=_(QD,_J,t=>{var{Complex:e,typed:r}=t,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(QD,{number:np,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(u){var c=6.283185307179586,f=1.1447298858494002,h=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(np(u.re),0);if(u.re>=n||Math.abs(u.im)>=i)return s(u);if(u.re<=h){var d=A8(c,u.im)*Math.floor(.5*u.re+.25),p=u.mul(Math.PI).sin().log(),m=o(new e(1-u.re,-u.im));return new e(f,d).sub(p).sub(m)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function s(u){for(var c=u.sub(.5).mul(u.log()).sub(u).add(hO),f=new e(1,0).div(u),h=f.div(u),d=a[0],p=a[1],m=2*h.re,v=h.re*h.re+h.im*h.im,g=2;g<8;g++){var b=p;p=-v*d+a[g],d=m*d+b}var y=f.mul(h.mul(d).add(p));return c.add(y)}function l(u){var c=0,f=0,h=u;for(u=u.add(1);u.re<=n;){h=h.mul(u);var d=h.im<0?1:0;d!==0&&f===0&&c++,f=d,u=u.add(1)}return s(u).sub(h.log()).sub(new e(0,c*2*Math.PI*1))}}),eA="factorial",UJ=["typed","gamma"],qJ=_(eA,UJ,t=>{var{typed:e,gamma:r}=t;return e(eA,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return r(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return r(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>et(i,n))})}),tA="kldivergence",HJ=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],VJ=_(tA,HJ,t=>{var{typed:e,matrix:r,divide:n,sum:i,multiply:a,map:o,dotDivide:s,log:l,isNumeric:u}=t;return e(tA,{"Array, Array":function(h,d){return c(r(h),r(d))},"Matrix, Array":function(h,d){return c(h,r(d))},"Array, Matrix":function(h,d){return c(r(h),d)},"Matrix, Matrix":function(h,d){return c(h,d)}});function c(f,h){var d=h.size().length,p=f.size().length;if(d>1)throw new Error("first object must be one dimensional");if(p>1)throw new Error("second object must be one dimensional");if(d!==p)throw new Error("Length of two vectors must be equal");var m=i(f);if(m===0)throw new Error("Sum of elements in first object must be non zero");var v=i(h);if(v===0)throw new Error("Sum of elements in second object must be non zero");var g=n(f,i(f)),b=n(h,i(h)),y=i(a(g,o(s(g,b),w=>l(w))));return u(y)?y:Number.NaN}}),rA="multinomial",WJ=["typed","add","divide","multiply","factorial","isInteger","isPositive"],jJ=_(rA,WJ,t=>{var{typed:e,add:r,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:s}=t;return e(rA,{"Array | Matrix":function(u){var c=0,f=1;return Fa(u,function(h){if(!o(h)||!s(h))throw new TypeError("Positive integer value expected in function multinomial");c=r(c,h),f=i(f,a(h))}),n(a(c),f)}})}),nA="permutations",GJ=["typed","factorial"],KJ=_(nA,GJ,t=>{var{typed:e,factorial:r}=t;return e(nA,{"number | BigNumber":r,"number, number":function(i,a){if(!Ie(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ie(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Ca(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,s;if(!iA(i)||!iA(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(o=l,s=i.minus(a).plus(1);s.lte(i);s=s.plus(1))o=o.times(s);return o}})});function iA(t){return t.isInteger()&&t.gte(0)}var Cx={exports:{}};Cx.exports;(function(t){(function(e,r,n){function i(l){var u=this,c=s();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function a(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function o(l,u){var c=new i(l),f=u&&u.state,h=c.next;return h.int32=function(){return c.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,f&&(typeof f=="object"&&a(f,c),h.state=function(){return a(c,{})}),h}function s(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return u}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.alea=o})(Ds,t,!1)})(Cx);var YJ=Cx.exports,Dx={exports:{}};Dx.exports;(function(t){(function(e,r,n){function i(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function a(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function o(s,l){var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,p=(h+d)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&a(c,u),f.state=function(){return a(u,{})}),f}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o})(Ds,t,!1)})(Dx);var JJ=Dx.exports,Ax={exports:{}};Ax.exports;(function(t){(function(e,r,n){function i(s){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function o(s,l){var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,p=(h+d)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&a(c,u),f.state=function(){return a(u,{})}),f}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o})(Ds,t,!1)})(Ax);var ZJ=Ax.exports,Ex={exports:{}};Ex.exports;(function(t){(function(e,r,n){function i(s){var l=this;l.next=function(){var c=l.x,f=l.i,h,d;return h=c[f],h^=h>>>7,d=h^h<<24,h=c[f+1&7],d^=h^h>>>10,h=c[f+3&7],d^=h^h>>>3,h=c[f+4&7],d^=h^h<<7,h=c[f+7&7],h=h^h<<13,d^=h^h<<9,c[f]=d,l.i=f+1&7,d};function u(c,f){var h,d=[];if(f===(f|0))d[0]=f;else for(f=""+f,h=0;h<f.length;++h)d[h&7]=d[h&7]<<15^f.charCodeAt(h)+d[h+1&7]<<13;for(;d.length<8;)d.push(0);for(h=0;h<8&&d[h]===0;++h);for(h==8?d[7]=-1:d[h],c.x=d,c.i=0,h=256;h>0;--h)c.next()}u(l,s)}function a(s,l){return l.x=s.x.slice(),l.i=s.i,l}function o(s,l){s==null&&(s=+new Date);var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,p=(h+d)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.x&&a(c,u),f.state=function(){return a(u,{})}),f}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o})(Ds,t,!1)})(Ex);var XJ=Ex.exports,Nx={exports:{}};Nx.exports;(function(t){(function(e,r,n){function i(s){var l=this;l.next=function(){var c=l.w,f=l.X,h=l.i,d,p;return l.w=c=c+1640531527|0,p=f[h+34&127],d=f[h=h+1&127],p^=p<<13,d^=d<<17,p^=p>>>15,d^=d>>>12,p=f[h]=p^d,l.i=h,p+(c^c>>>16)|0};function u(c,f){var h,d,p,m,v,g=[],b=128;for(f===(f|0)?(d=f,f=null):(f=f+"\0",d=0,b=Math.max(b,f.length)),p=0,m=-32;m<b;++m)f&&(d^=f.charCodeAt((m+32)%f.length)),m===0&&(v=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,m>=0&&(v=v+1640531527|0,h=g[m&127]^=d+v,p=h==0?p+1:0);for(p>=128&&(g[(f&&f.length||0)&127]=-1),p=127,m=4*128;m>0;--m)d=g[p+34&127],h=g[p=p+1&127],d^=d<<13,h^=h<<17,d^=d>>>15,h^=h>>>12,g[p]=d^h;c.w=v,c.X=g,c.i=p}u(l,s)}function a(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function o(s,l){s==null&&(s=+new Date);var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,p=(h+d)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.X&&a(c,u),f.state=function(){return a(u,{})}),f}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o})(Ds,t,!1)})(Nx);var QJ=Nx.exports,Mx={exports:{}};Mx.exports;(function(t){(function(e,r,n){function i(s){var l=this,u="";l.next=function(){var f=l.b,h=l.c,d=l.d,p=l.a;return f=f<<25^f>>>7^h,h=h-d|0,d=d<<24^d>>>8^p,p=p-f|0,l.b=f=f<<20^f>>>12^h,l.c=h=h-d|0,l.d=d<<16^h>>>16^p,l.a=p-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):u+=s;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function a(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function o(s,l){var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,p=(h+d)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&a(c,u),f.state=function(){return a(u,{})}),f}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o})(Ds,t,!1)})(Mx);var eZ=Mx.exports,BB={exports:{}};const tZ={},rZ=Object.freeze(Object.defineProperty({__proto__:null,default:tZ},Symbol.toStringTag,{value:"Module"})),nZ=O5(rZ);(function(t){(function(e,r,n){var i=256,a=6,o=52,s="random",l=n.pow(i,a),u=n.pow(2,o),c=u*2,f=i-1,h;function d(w,S,x){var C=[];S=S==!0?{entropy:!0}:S||{};var A=g(v(S.entropy?[w,y(r)]:w??b(),3),C),E=new p(C),D=function(){for(var M=E.g(a),k=l,$=0;M<u;)M=(M+$)*i,k*=i,$=E.g(1);for(;M>=c;)M/=2,k/=2,$>>>=1;return(M+$)/k};return D.int32=function(){return E.g(4)|0},D.quick=function(){return E.g(4)/4294967296},D.double=D,g(y(E.S),r),(S.pass||x||function(M,k,$,I){return I&&(I.S&&m(I,E),M.state=function(){return m(E,{})}),$?(n[s]=M,k):M})(D,A,"global"in S?S.global:this==n,S.state)}function p(w){var S,x=w.length,C=this,A=0,E=C.i=C.j=0,D=C.S=[];for(x||(w=[x++]);A<i;)D[A]=A++;for(A=0;A<i;A++)D[A]=D[E=f&E+w[A%x]+(S=D[A])],D[E]=S;(C.g=function(M){for(var k,$=0,I=C.i,F=C.j,N=C.S;M--;)k=N[I=f&I+1],$=$*i+N[f&(N[I]=N[F=f&F+k])+(N[F]=k)];return C.i=I,C.j=F,$})(i)}function m(w,S){return S.i=w.i,S.j=w.j,S.S=w.S.slice(),S}function v(w,S){var x=[],C=typeof w,A;if(S&&C=="object")for(A in w)try{x.push(v(w[A],S-1))}catch{}return x.length?x:C=="string"?w:w+"\0"}function g(w,S){for(var x=w+"",C,A=0;A<x.length;)S[f&A]=f&(C^=S[f&A]*19)+x.charCodeAt(A++);return y(S)}function b(){try{var w;return h&&(w=h.randomBytes)?w=w(i):(w=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(w)),y(w)}catch{var S=e.navigator,x=S&&S.plugins;return[+new Date,e,x,e.screen,y(r)]}}function y(w){return String.fromCharCode.apply(0,w)}if(g(n.random(),r),t.exports){t.exports=d;try{h=nZ}catch{}}else n["seed"+s]=d})(typeof self<"u"?self:Ds,[],Math)})(BB);var iZ=BB.exports,aZ=YJ,oZ=JJ,sZ=ZJ,lZ=XJ,uZ=QJ,cZ=eZ,Bs=iZ;Bs.alea=aZ;Bs.xor128=oZ;Bs.xorwow=sZ;Bs.xorshift7=lZ;Bs.xor4096=uZ;Bs.tychei=cZ;var fZ=Bs;const FB=As(fZ);var hZ=FB(Date.now());function Vl(t){var e;function r(i){e=i===null?hZ:FB(String(i))}r(t);function n(){return e()}return n}var aA="pickRandom",dZ=["typed","config","?on"],pZ=_(aA,dZ,t=>{var{typed:e,config:r,on:n}=t,i=Vl(r.randomSeed);return n&&n("config",function(o,s){o.randomSeed!==s.randomSeed&&(i=Vl(o.randomSeed))}),e(aA,{"Array | Matrix":function(s){return a(s,{})},"Array | Matrix, Object":function(s,l){return a(s,l)},"Array | Matrix, number":function(s,l){return a(s,{number:l})},"Array | Matrix, Array | Matrix":function(s,l){return a(s,{weights:l})},"Array | Matrix, Array | Matrix, number":function(s,l,u){return a(s,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(s,l,u){return a(s,{number:l,weights:u})}});function a(o,s){var{number:l,weights:u,elementWise:c=!0}=s,f=typeof l>"u";f&&(l=1);var h=We(o)?o.create:We(u)?u.create:null;o=o.valueOf(),u&&(u=u.valueOf()),c===!0&&(o=ft(o),u=ft(u));var d=0;if(typeof u<"u"){if(u.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var p=0,m=u.length;p<m;p++){if(!nt(u[p])||u[p]<0)throw new Error("Weights must be an array of positive numbers");d+=u[p]}}for(var v=o.length,g=[],b;g.length<l;){if(typeof u>"u")b=o[Math.floor(i()*v)];else for(var y=i()*d,w=0,S=o.length;w<S;w++)if(y-=u[w],y<0){b=o[w];break}g.push(b)}return f?g[0]:h?h(g):g}});function Tx(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var n=0,i=t.shift();n<i;n++)r.push(Tx(t,e));else for(var a=0,o=t.shift();a<o;a++)r.push(e());return r}var oA="random",mZ=["typed","config","?on"],gZ=_(oA,mZ,t=>{var{typed:e,config:r,on:n}=t,i=Vl(r.randomSeed);return n&&n("config",function(s,l){s.randomSeed!==l.randomSeed&&(i=Vl(s.randomSeed))}),e(oA,{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,l)=>o(s,l),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,l)=>a(s,0,l),"Array | Matrix, number, number":(s,l,u)=>a(s,l,u)});function a(s,l,u){var c=Tx(s.valueOf(),()=>o(l,u));return We(s)?s.create(c):c}function o(s,l){return s+i()*(l-s)}}),sA="randomInt",vZ=["typed","config","?on"],yZ=_(sA,vZ,t=>{var{typed:e,config:r,on:n}=t,i=Vl(r.randomSeed);return n&&n("config",function(s,l){s.randomSeed!==l.randomSeed&&(i=Vl(s.randomSeed))}),e(sA,{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,l)=>o(s,l),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,l)=>a(s,0,l),"Array | Matrix, number, number":(s,l,u)=>a(s,l,u)});function a(s,l,u){var c=Tx(s.valueOf(),()=>o(l,u));return We(s)?s.create(c):c}function o(s,l){return Math.floor(s+i()*(l-s))}}),lA="stirlingS2",xZ=["typed","addScalar","subtract","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],bZ=_(lA,xZ,t=>{var{typed:e,addScalar:r,subtract:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:s,combinations:l,isNegative:u,isInteger:c,number:f,bignumber:h,larger:d}=t,p=[],m=[];return e(lA,{"number | BigNumber, number | BigNumber":function(g,b){if(!c(g)||u(g)||!c(b)||u(b))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(d(b,g))throw new TypeError("k must be less than or equal to n in function stirlingS2");var y=!(nt(g)&&nt(b)),w=y?m:p,S=y?h:f,x=f(g),C=f(b);if(w[x]&&w[x].length>C)return w[x][C];for(var A=0;A<=x;++A)if(w[A]||(w[A]=[S(A===0?1:0)]),A!==0)for(var E=w[A],D=w[A-1],M=E.length;M<=A&&M<=C;++M)M===A?E[M]=1:E[M]=r(i(S(M),D[M]),D[M-1]);return w[x][C]}})}),uA="bellNumbers",wZ=["typed","addScalar","isNegative","isInteger","stirlingS2"],SZ=_(uA,wZ,t=>{var{typed:e,addScalar:r,isNegative:n,isInteger:i,stirlingS2:a}=t;return e(uA,{"number | BigNumber":function(s){if(!i(s)||n(s))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=s;u++)l=r(l,a(s,u));return l}})}),cA="catalan",CZ=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],DZ=_(cA,CZ,t=>{var{typed:e,addScalar:r,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:s}=t;return e(cA,{"number | BigNumber":function(u){if(!s(u)||o(u))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(u,2),u),r(u,1))}})}),fA="composition",AZ=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],EZ=_(fA,AZ,t=>{var{typed:e,addScalar:r,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:s}=t;return e(fA,{"number | BigNumber, number | BigNumber":function(u,c){if(!o(u)||!i(u)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(s(c,u))throw new TypeError("k must be less than or equal to n in function composition");return n(r(u,-1),r(c,-1))}})}),hA="leafCount",NZ=["parse","typed"],MZ=_(hA,NZ,t=>{var{parse:e,typed:r}=t;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return r(hA,{Node:function(a){return n(a)}})});function dA(t){return at(t)||er(t)&&t.isUnary()&&at(t.args[0])}function dp(t){return!!(at(t)||(Ba(t)||er(t))&&t.args.every(dp)||na(t)&&dp(t.content))}function pA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pA(Object(r),!0).forEach(function(n){Sr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var TZ="simplifyUtil",kZ=["FunctionNode","OperatorNode","SymbolNode"],kx=_(TZ,kZ,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:n}=t,i=!0,a=!1,o="defaultF",s={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},l={divide:{total:a},log:{total:a}},u={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(y,w){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,x=o;if(typeof y=="string"?x=y:er(y)?x=y.fn.toString():Ba(y)?x=y.name:na(y)&&(x="paren"),Oe(S,x)){var C=S[x];if(Oe(C,w))return C[w];if(Oe(s,x))return s[x][w]}if(Oe(S,o)){var A=S[o];return Oe(A,w)?A[w]:s[o][w]}if(Oe(s,x)){var E=s[x];if(Oe(E,w))return E[w]}return s[o][w]}function f(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return c(y,"commutative",w)}function h(y){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return c(y,"associative",w)}function d(y,w){var S=iv({},y);for(var x in w)Oe(y,x)?S[x]=iv(iv({},w[x]),y[x]):S[x]=w[x];return S}function p(y,w){if(!y.args||y.args.length===0)return y;y.args=m(y,w);for(var S=0;S<y.args.length;S++)p(y.args[S],w)}function m(y,w){var S,x=[],C=function A(E){for(var D=0;D<E.args.length;D++){var M=E.args[D];er(M)&&S===M.op?A(M):x.push(M)}};return h(y,w)?(S=y.op,C(y),x):y.args}function v(y,w){if(!(!y.args||y.args.length===0)){for(var S=b(y),x=y.args.length,C=0;C<x;C++)v(y.args[C],w);if(x>2&&h(y,w)){for(var A=y.args.pop();y.args.length>0;)A=S([y.args.pop(),A]);y.args=A.args}}}function g(y,w){if(!(!y.args||y.args.length===0)){for(var S=b(y),x=y.args.length,C=0;C<x;C++)g(y.args[C],w);if(x>2&&h(y,w)){for(var A=y.args.shift();y.args.length>0;)A=S([A,y.args.shift()]);y.args=A.args}}}function b(y){return er(y)?function(w){try{return new r(y.op,y.fn,w,y.implicit)}catch(S){return console.error(S),[]}}:function(w){return new e(new n(y.name),w)}}return{createMakeNodeFunction:b,hasProperty:c,isCommutative:f,isAssociative:h,mergeContext:d,flatten:p,allChildren:m,unflattenr:v,unflattenl:g,defaultContext:s,realContext:l,positiveContext:u}}),OZ="simplify",BZ=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],FZ=_(OZ,BZ,t=>{var{config:e,typed:r,parse:n,add:i,subtract:a,multiply:o,divide:s,pow:l,isZero:u,equal:c,resolve:f,simplifyConstant:h,simplifyCore:d,fraction:p,bignumber:m,mathWithTransform:v,matrix:g,AccessorNode:b,ArrayNode:y,ConstantNode:w,FunctionNode:S,IndexNode:x,ObjectNode:C,OperatorNode:A,ParenthesisNode:E,SymbolNode:D}=t,{hasProperty:M,isCommutative:k,isAssociative:$,mergeContext:I,flatten:F,unflattenr:N,unflattenl:T,createMakeNodeFunction:R,defaultContext:O,realContext:P,positiveContext:V}=kx({FunctionNode:S,OperatorNode:A,SymbolNode:D});r.addConversion({from:"Object",to:"Map",convert:wl});var W=r("simplify",{Node:le,"Node, Map":(H,Y)=>le(H,!1,Y),"Node, Map, Object":(H,Y,Q)=>le(H,!1,Y,Q),"Node, Array":le,"Node, Array, Map":le,"Node, Array, Map, Object":le});r.removeConversion({from:"Object",to:"Map",convert:wl}),W.defaultContext=O,W.realContext=P,W.positiveContext=V;function L(H){return H.transform(function(Y,Q,ge){return na(Y)?L(Y.content):Y})}var G={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};W.rules=[d,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},h,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},h,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function ee(H,Y){var Q={};if(H.s){var ge=H.s.split("->");if(ge.length===2)Q.l=ge[0],Q.r=ge[1];else throw SyntaxError("Could not parse rule: "+H.s)}else Q.l=H.l,Q.r=H.r;Q.l=L(n(Q.l)),Q.r=L(n(Q.r));for(var ce of["imposeContext","repeat","assuming"])ce in H&&(Q[ce]=H[ce]);if(H.evaluate&&(Q.evaluate=n(H.evaluate)),$(Q.l,Y)){var z=!k(Q.l,Y),U;z&&(U=he());var X=R(Q.l),oe=he();Q.expanded={},Q.expanded.l=X([Q.l,oe]),F(Q.expanded.l,Y),N(Q.expanded.l,Y),Q.expanded.r=X([Q.r,oe]),z&&(Q.expandedNC1={},Q.expandedNC1.l=X([U,Q.l]),Q.expandedNC1.r=X([U,Q.r]),Q.expandedNC2={},Q.expandedNC2.l=X([U,Q.expanded.l]),Q.expandedNC2.r=X([U,Q.expanded.r]))}return Q}function Z(H,Y){for(var Q=[],ge=0;ge<H.length;ge++){var ce=H[ge],z=void 0,U=typeof ce;switch(U){case"string":ce={s:ce};case"object":z=ee(ce,Y);break;case"function":z=ce;break;default:throw TypeError("Unsupported type of rule: "+U)}Q.push(z)}return Q}var se=0;function he(){return new D("_p"+se++)}function le(H,Y){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ql(),ge=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ce=ge.consoleDebug;Y=Z(Y||W.rules,ge.context);var z=f(H,Q);z=L(z);for(var U={},X=z.toString({parenthesis:"all"});!U[X];){U[X]=!0,se=0;var oe=X;ce&&console.log("Working on: ",X);for(var de=0;de<Y.length;de++){var fe="";if(typeof Y[de]=="function"?(z=Y[de](z,ge),ce&&(fe=Y[de].name)):(F(z,ge.context),z=xe(z,Y[de],ge.context),ce&&(fe="".concat(Y[de].l.toString()," -> ").concat(Y[de].r.toString()))),ce){var ve=z.toString({parenthesis:"all"});ve!==oe&&(console.log("Applying",fe,"produced",ve),oe=ve)}T(z,ge.context)}X=z.toString({parenthesis:"all"})}return z}function ne(H,Y,Q){var ge=H;if(H)for(var ce=0;ce<H.length;++ce){var z=xe(H[ce],Y,Q);z!==H[ce]&&(ge===H&&(ge=H.slice()),ge[ce]=z)}return ge}function xe(H,Y,Q){if(Y.assuming){for(var ge in Y.assuming)for(var ce in Y.assuming[ge])if(M(ge,ce,Q)!==Y.assuming[ge][ce])return H}var z=I(Y.imposeContext,Q),U=H;if(U instanceof A||U instanceof S){var X=ne(U.args,Y,Q);X!==U.args&&(U=U.clone(),U.args=X)}else if(U instanceof E){if(U.content){var oe=xe(U.content,Y,Q);oe!==U.content&&(U=new E(oe))}}else if(U instanceof y){var de=ne(U.items,Y,Q);de!==U.items&&(U=new y(de))}else if(U instanceof b){var fe=U.object;U.object&&(fe=xe(U.object,Y,Q));var ve=U.index;U.index&&(ve=xe(U.index,Y,Q)),(fe!==U.object||ve!==U.index)&&(U=new b(fe,ve))}else if(U instanceof x){var pe=ne(U.dimensions,Y,Q);pe!==U.dimensions&&(U=new x(pe))}else if(U instanceof C){var we=!1,Fe={};for(var Pe in U.properties)Fe[Pe]=xe(U.properties[Pe],Y,Q),Fe[Pe]!==U.properties[Pe]&&(we=!0);we&&(U=new C(Fe))}var Me=Y.r,lt=j(Y.l,U,z)[0];if(!lt&&Y.expanded&&(Me=Y.expanded.r,lt=j(Y.expanded.l,U,z)[0]),!lt&&Y.expandedNC1&&(Me=Y.expandedNC1.r,lt=j(Y.expandedNC1.l,U,z)[0],lt||(Me=Y.expandedNC2.r,lt=j(Y.expandedNC2.l,U,z)[0])),lt){var Ge=U.implicit;U=Me.clone(),Ge&&"implicit"in Me&&(U.implicit=!0),U=U.transform(function(mt){return mt.isSymbolNode&&Oe(lt.placeholders,mt.name)?lt.placeholders[mt.name].clone():mt})}return Y.repeat&&U!==H&&(U=xe(U,Y,Q)),U}function Se(H,Y){var Q=[],ge,ce,z=R(H);if(k(H,Y))for(var U=0;U<H.args.length;U++)ce=H.args.slice(0),ce.splice(U,1),ge=ce.length===1?ce[0]:z(ce),Q.push(z([H.args[U],ge]));else for(var X=1;X<H.args.length;X++){var oe=H.args[0];X>1&&(oe=z(H.args.slice(0,X))),ce=H.args.slice(X),ge=ce.length===1?ce[0]:z(ce),Q.push(z([oe,ge]))}return Q}function me(H,Y){var Q={placeholders:{}};if(!H.placeholders&&!Y.placeholders)return Q;if(H.placeholders){if(!Y.placeholders)return H}else return Y;for(var ge in H.placeholders)if(Oe(H.placeholders,ge)&&(Q.placeholders[ge]=H.placeholders[ge],Oe(Y.placeholders,ge)&&!re(H.placeholders[ge],Y.placeholders[ge])))return null;for(var ce in Y.placeholders)Oe(Y.placeholders,ce)&&(Q.placeholders[ce]=Y.placeholders[ce]);return Q}function Ce(H,Y){var Q=[];if(H.length===0||Y.length===0)return Q;for(var ge,ce=0;ce<H.length;ce++)for(var z=0;z<Y.length;z++)ge=me(H[ce],Y[z]),ge&&Q.push(ge);return Q}function q(H){if(H.length===0)return H;for(var Y=H.reduce(Ce),Q=[],ge={},ce=0;ce<Y.length;ce++){var z=JSON.stringify(Y[ce]);ge[z]||(ge[z]=!0,Q.push(Y[ce]))}return Q}function j(H,Y,Q,ge){var ce=[{placeholders:{}}];if(H instanceof A&&Y instanceof A||H instanceof S&&Y instanceof S){if(H instanceof A){if(H.op!==Y.op||H.fn!==Y.fn)return[]}else if(H instanceof S&&H.name!==Y.name)return[];if(Y.args.length===1&&H.args.length===1||!$(Y,Q)&&Y.args.length===H.args.length||ge){for(var z=[],U=0;U<H.args.length;U++){var X=j(H.args[U],Y.args[U],Q);if(X.length===0)break;z.push(X)}if(z.length!==H.args.length){if(!k(Y,Q)||H.args.length===1)return[];if(H.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var oe=j(H.args[0],Y.args[1],Q);if(oe.length===0)return[];var de=j(H.args[1],Y.args[0],Q);if(de.length===0)return[];z=[oe,de]}ce=q(z)}else if(Y.args.length>=2&&H.args.length===2){for(var fe=Se(Y,Q),ve=[],pe=0;pe<fe.length;pe++){var we=j(H,fe[pe],Q,!0);ve=ve.concat(we)}return ve}else{if(H.args.length>2)throw Error("Unexpected non-binary associative function: "+H.toString());return[]}}else if(H instanceof D){if(H.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(G[H.name]){if(H.name!==Y.name)return[]}else switch(H.name[1]>="a"&&H.name[1]<="z"?H.name.substring(0,2):H.name[0]){case"n":case"_p":ce[0].placeholders[H.name]=Y;break;case"c":case"cl":if(at(Y))ce[0].placeholders[H.name]=Y;else return[];break;case"v":if(!at(Y))ce[0].placeholders[H.name]=Y;else return[];break;case"vl":if(mr(Y))ce[0].placeholders[H.name]=Y;else return[];break;case"cd":if(dA(Y))ce[0].placeholders[H.name]=Y;else return[];break;case"vd":if(!dA(Y))ce[0].placeholders[H.name]=Y;else return[];break;case"ce":if(dp(Y))ce[0].placeholders[H.name]=Y;else return[];break;case"ve":if(!dp(Y))ce[0].placeholders[H.name]=Y;else return[];break;default:throw new Error("Invalid symbol in rule: "+H.name)}}else if(H instanceof w){if(!c(H.value,Y.value))return[]}else return[];return ce}function re(H,Y){if(H instanceof w&&Y instanceof w){if(!c(H.value,Y.value))return!1}else if(H instanceof D&&Y instanceof D){if(H.name!==Y.name)return!1}else if(H instanceof A&&Y instanceof A||H instanceof S&&Y instanceof S){if(H instanceof A){if(H.op!==Y.op||H.fn!==Y.fn)return!1}else if(H instanceof S&&H.name!==Y.name)return!1;if(H.args.length!==Y.args.length)return!1;for(var Q=0;Q<H.args.length;Q++)if(!re(H.args[Q],Y.args[Q]))return!1}else return!1;return!0}return W}),$Z="simplifyConstant",RZ=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],PZ=_($Z,RZ,t=>{var{typed:e,config:r,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:f,ObjectNode:h,OperatorNode:d,SymbolNode:p}=t,{isCommutative:m,isAssociative:v,allChildren:g,createMakeNodeFunction:b}=kx({FunctionNode:c,OperatorNode:d,SymbolNode:p}),y=e("simplifyConstant",{Node:F=>C(I(F,{})),"Node, Object":function(N,T){return C(I(N,T))}});function w(F){return Ms(F)?F.valueOf():F instanceof Array?F.map(w):We(F)?i(w(F.valueOf())):F}function S(F,N,T){try{return n[F].apply(null,N)}catch{return N=N.map(w),E(n[F].apply(null,N),T)}}var x=e({Fraction:M,number:function(N){return N<0?D(new u(-N)):new u(N)},BigNumber:function(N){return N<0?D(new u(-N)):new u(N)},Complex:function(N){throw new Error("Cannot convert Complex number to Node")},string:function(N){return new u(N)},Matrix:function(N){return new l(N.valueOf().map(T=>x(T)))}});function C(F){return xt(F)?F:x(F)}function A(F,N){var T=N&&N.exactFractions!==!1;if(T&&isFinite(F)&&a){var R=a(F),O=N&&typeof N.fractionsLimit=="number"?N.fractionsLimit:1/0;if(R.valueOf()===F&&R.n<O&&R.d<O)return R}return F}var E=e({"string, Object":function(N,T){if(r.number==="BigNumber")return o===void 0&&xx(),o(N);if(r.number==="Fraction")return a===void 0&&nB(),a(N);var R=parseFloat(N);return A(R,T)},"Fraction, Object":function(N,T){return N},"BigNumber, Object":function(N,T){return N},"number, Object":function(N,T){return A(N,T)},"Complex, Object":function(N,T){return N.im!==0?N:A(N.re,T)},"Matrix, Object":function(N,T){return i(A(N.valueOf()))},"Array, Object":function(N,T){return N.map(A)}});function D(F){return new d("-","unaryMinus",[F])}function M(F){var N,T=F.s*F.n;return T<0?N=new d("-","unaryMinus",[new u(-T)]):N=new u(T),F.d===1?N:new d("/","divide",[N,new u(F.d)])}function k(F,N,T){if(!Ts(N))return new s(C(F),C(N));if(kn(F)||We(F)){for(var R=Array.from(N.dimensions);R.length>0;)if(at(R[0])&&typeof R[0].value!="string"){var O=E(R.shift().value,T);kn(F)?F=F.items[O-1]:(F=F.valueOf()[O-1],F instanceof Array&&(F=i(F)))}else if(R.length>1&&at(R[1])&&typeof R[1].value!="string"){var P=E(R[1].value,T),V=[],W=kn(F)?F.items:F.valueOf();for(var L of W)if(kn(L))V.push(L.items[P-1]);else if(We(F))V.push(L[P-1]);else break;if(V.length===W.length)kn(F)?F=new l(V):F=i(V),R.splice(1,1);else break}else break;return R.length===N.dimensions.length?new s(C(F),N):R.length>0?(N=new f(R),new s(C(F),N)):F}if(cf(F)&&N.dimensions.length===1&&at(N.dimensions[0])){var G=N.dimensions[0].value;return G in F.properties?F.properties[G]:new u}return new s(C(F),N)}function $(F,N,T,R){var O=N.shift(),P=N.reduce((V,W)=>{if(!xt(W)){var L=V.pop();if(xt(L))return[L,W];try{return V.push(S(F,[L,W],R)),V}catch{V.push(L)}}V.push(C(V.pop()));var G=V.length===1?V[0]:T(V);return[T([G,C(W)])]},[O]);return P.length===1?P[0]:T([P[0],x(P[1])])}function I(F,N){switch(F.type){case"SymbolNode":return F;case"ConstantNode":switch(typeof F.value){case"number":return E(F.value,N);case"string":return F.value;default:if(!isNaN(F.value))return E(F.value,N)}return F;case"FunctionNode":if(n[F.name]&&n[F.name].rawArgs)return F;{var T=["add","multiply"];if(T.indexOf(F.name)===-1){var R=F.args.map(xe=>I(xe,N));if(!R.some(xt))try{return S(F.name,R,N)}catch{}if(F.name==="size"&&R.length===1&&kn(R[0])){for(var O=[],P=R[0];kn(P);)O.push(P.items.length),P=P.items[0];return i(O)}return new c(F.name,R.map(C))}}case"OperatorNode":{var V=F.fn.toString(),W,L,G=b(F);if(er(F)&&F.isUnary())W=[I(F.args[0],N)],xt(W[0])?L=G(W):L=S(V,W,N);else if(v(F,N.context))if(W=g(F,N.context),W=W.map(xe=>I(xe,N)),m(V,N.context)){for(var ee=[],Z=[],se=0;se<W.length;se++)xt(W[se])?Z.push(W[se]):ee.push(W[se]);ee.length>1?(L=$(V,ee,G,N),Z.unshift(L),L=$(V,Z,G,N)):L=$(V,W,G,N)}else L=$(V,W,G,N);else W=F.args.map(xe=>I(xe,N)),L=$(V,W,G,N);return L}case"ParenthesisNode":return I(F.content,N);case"AccessorNode":return k(I(F.object,N),I(F.index,N),N);case"ArrayNode":{var he=F.items.map(xe=>I(xe,N));return he.some(xt)?new l(he.map(C)):i(he)}case"IndexNode":return new f(F.dimensions.map(xe=>y(xe,N)));case"ObjectNode":{var le={};for(var ne in F.properties)le[ne]=y(F.properties[ne],N);return new h(le)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(F.type))}}return y}),mA="simplifyCore",IZ=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],LZ=_(mA,IZ,t=>{var{typed:e,parse:r,equal:n,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,AccessorNode:c,ArrayNode:f,ConstantNode:h,FunctionNode:d,IndexNode:p,ObjectNode:m,OperatorNode:v,ParenthesisNode:g,SymbolNode:b}=t,y=new h(0),w=new h(1),S=new h(!0),x=new h(!1);function C(M){return er(M)&&["and","not","or"].includes(M.op)}var{hasProperty:A,isCommutative:E}=kx({FunctionNode:d,OperatorNode:v,SymbolNode:b});function D(M){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=k?k.context:void 0;if(A(M,"trivial",$)){if(Ba(M)&&M.args.length===1)return D(M.args[0],k);var I=!1,F=0;if(M.forEach(Z=>{++F,F===1&&(I=D(Z,k))}),F===1)return I}var N=M;if(Ba(N)){var T=KH(N.name);if(T){if(N.args.length>2&&A(N,"associative",$))for(;N.args.length>2;){var R=N.args.pop(),O=N.args.pop();N.args.push(new v(T,N.name,[R,O]))}N=new v(T,N.name,N.args)}else return new d(D(N.fn),N.args.map(Z=>D(Z,k)))}if(er(N)&&N.isUnary()){var P=D(N.args[0],k);if(N.op==="~"&&er(P)&&P.isUnary()&&P.op==="~"||N.op==="not"&&er(P)&&P.isUnary()&&P.op==="not"&&C(P.args[0]))return P.args[0];var V=!0;if(N.op==="-"&&er(P)&&(P.isBinary()&&P.fn==="subtract"&&(N=new v("-","subtract",[P.args[1],P.args[0]]),V=!1),P.isUnary()&&P.op==="-"))return P.args[0];if(V)return new v(N.op,N.fn,[P])}if(er(N)&&N.isBinary()){var W=D(N.args[0],k),L=D(N.args[1],k);if(N.op==="+"){if(at(W)&&i(W.value))return L;if(at(L)&&i(L.value))return W;er(L)&&L.isUnary()&&L.op==="-"&&(L=L.args[0],N=new v("-","subtract",[W,L]))}if(N.op==="-")return er(L)&&L.isUnary()&&L.op==="-"?D(new v("+","add",[W,L.args[0]]),k):at(W)&&i(W.value)?D(new v("-","unaryMinus",[L])):at(L)&&i(L.value)?W:new v(N.op,N.fn,[W,L]);if(N.op==="*"){if(at(W)){if(i(W.value))return y;if(n(W.value,1))return L}if(at(L)){if(i(L.value))return y;if(n(L.value,1))return W;if(E(N,$))return new v(N.op,N.fn,[L,W],N.implicit)}return new v(N.op,N.fn,[W,L],N.implicit)}if(N.op==="/")return at(W)&&i(W.value)?y:at(L)&&n(L.value,1)?W:new v(N.op,N.fn,[W,L]);if(N.op==="^"&&at(L)){if(i(L.value))return w;if(n(L.value,1))return W}if(N.op==="and"){if(at(W))if(W.value){if(C(L))return L}else return x;if(at(L))if(L.value){if(C(W))return W}else return x}if(N.op==="or"){if(at(W)){if(W.value)return S;if(C(L))return L}if(at(L)){if(L.value)return S;if(C(W))return W}}return new v(N.op,N.fn,[W,L])}if(er(N))return new v(N.op,N.fn,N.args.map(Z=>D(Z,k)));if(kn(N))return new f(N.items.map(Z=>D(Z,k)));if(Do(N))return new c(D(N.object,k),D(N.index,k));if(Ts(N))return new p(N.dimensions.map(Z=>D(Z,k)));if(cf(N)){var G={};for(var ee in N.properties)G[ee]=D(N.properties[ee],k);return new m(G)}return N}return e(mA,{Node:D,"Node,Object":D})}),_Z="resolve",zZ=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],UZ=_(_Z,zZ,t=>{var{typed:e,parse:r,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=t;function s(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(mr(l)){if(c.has(l.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var h=u.get(l.name);if(xt(h)){var d=new Set(c);return d.add(l.name),s(h,u,d)}else return typeof h=="number"?r(String(h)):h!==void 0?new n(h):l}else if(er(l)){var p=l.args.map(function(v){return s(v,u,c)});return new a(l.op,l.fn,p,l.implicit)}else{if(na(l))return new o(s(l.content,u,c));if(Ba(l)){var m=l.args.map(function(v){return s(v,u,c)});return new i(l.name,m)}}return l.map(v=>s(v,u,c))}return e("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(l,u)=>s(l,wl(u)),"Array | Matrix":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array | Matrix, null | undefined":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array, Object":e.referTo("Array,Map",l=>(u,c)=>l(u,wl(c))),"Matrix, Object":e.referTo("Matrix,Map",l=>(u,c)=>l(u,wl(c))),"Array | Matrix, Map":e.referToSelf(l=>(u,c)=>u.map(f=>l(f,c)))})}),gA="symbolicEqual",qZ=["parse","simplify","typed","OperatorNode"],HZ=_(gA,qZ,t=>{var{parse:e,simplify:r,typed:n,OperatorNode:i}=t;function a(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[o,s]),c=r(u,{},l);return at(c)&&!c.value}return n(gA,{"Node, Node":a,"Node, Node, Object":a})}),vA="derivative",VZ=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],WZ=_(vA,VZ,t=>{var{typed:e,config:r,parse:n,simplify:i,equal:a,isZero:o,numeric:s,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:f,SymbolNode:h}=t;function d(w,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},C={};v(C,w,S.name);var A=g(w,C);return x.simplify?i(A):A}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var p=e(vA,{"Node, SymbolNode":d,"Node, SymbolNode, Object":d});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),p._simplify=!0,p.toTex=function(w){return m.apply(null,w.args)};var m=e("_derivTex",{"Node, SymbolNode":function(S,x){return at(S)&&Et(S.value)==="string"?m(n(S.value).toString(),x.toString(),1):m(S.toTex(),x.toString(),1)},"Node, ConstantNode":function(S,x){if(Et(x.value)==="string")return m(S,n(x.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(S,x,C){return m(S.toString(),x.name,C.value)},"string, string, number":function(S,x,C){var A;return C===1?A="{d\\over d"+x+"}":A="{d^{"+C+"}\\over d"+x+"^{"+C+"}}",A+"\\left[".concat(S,"\\right]")}}),v=e("constTag",{"Object, ConstantNode, string":function(S,x){return S[x]=!0,!0},"Object, SymbolNode, string":function(S,x,C){return x.name!==C?(S[x]=!0,!0):!1},"Object, ParenthesisNode, string":function(S,x,C){return v(S,x.content,C)},"Object, FunctionAssignmentNode, string":function(S,x,C){return x.params.indexOf(C)===-1?(S[x]=!0,!0):v(S,x.expr,C)},"Object, FunctionNode | OperatorNode, string":function(S,x,C){if(x.args.length>0){for(var A=v(S,x.args[0],C),E=1;E<x.args.length;++E)A=v(S,x.args[E],C)&&A;if(A)return S[x]=!0,!0}return!1}}),g=e("_derivative",{"ConstantNode, Object":function(S){return y(0)},"SymbolNode, Object":function(S,x){return x[S]!==void 0?y(0):y(1)},"ParenthesisNode, Object":function(S,x){return new f(g(S.content,x))},"FunctionAssignmentNode, Object":function(S,x){return x[S]!==void 0?y(0):g(S.expr,x)},"FunctionNode, Object":function(S,x){if(S.args.length!==1&&b(S),x[S]!==void 0)return y(0);var C=S.args[0],A,E=!1,D=!1,M;switch(S.name){case"cbrt":E=!0,M=new c("*","multiply",[y(3),new c("^","pow",[C,new c("/","divide",[y(2),y(3)])])]);break;case"sqrt":case"nthRoot":if(S.args.length===1)E=!0,M=new c("*","multiply",[y(2),new u("sqrt",[C])]);else if(S.args.length===2)return A=new c("/","divide",[y(1),S.args[1]]),x[A]=x[S.args[1]],g(new c("^","pow",[C,A]),x);break;case"log10":A=y(10);case"log":if(!A&&S.args.length===1)M=C.clone(),E=!0;else if(S.args.length===1&&A||S.args.length===2&&x[S.args[1]]!==void 0)M=new c("*","multiply",[C.clone(),new u("log",[A||S.args[1]])]),E=!0;else if(S.args.length===2)return g(new c("/","divide",[new u("log",[C]),new u("log",[S.args[1]])]),x);break;case"pow":return x[A]=x[S.args[1]],g(new c("^","pow",[C,S.args[1]]),x);case"exp":M=new u("exp",[C.clone()]);break;case"sin":M=new u("cos",[C.clone()]);break;case"cos":M=new c("-","unaryMinus",[new u("sin",[C.clone()])]);break;case"tan":M=new c("^","pow",[new u("sec",[C.clone()]),y(2)]);break;case"sec":M=new c("*","multiply",[S,new u("tan",[C.clone()])]);break;case"csc":D=!0,M=new c("*","multiply",[S,new u("cot",[C.clone()])]);break;case"cot":D=!0,M=new c("^","pow",[new u("csc",[C.clone()]),y(2)]);break;case"asin":E=!0,M=new u("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])])]);break;case"acos":E=!0,D=!0,M=new u("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])])]);break;case"atan":E=!0,M=new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)]);break;case"asec":E=!0,M=new c("*","multiply",[new u("abs",[C.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),y(2)]),y(1)])])]);break;case"acsc":E=!0,D=!0,M=new c("*","multiply",[new u("abs",[C.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),y(2)]),y(1)])])]);break;case"acot":E=!0,D=!0,M=new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)]);break;case"sinh":M=new u("cosh",[C.clone()]);break;case"cosh":M=new u("sinh",[C.clone()]);break;case"tanh":M=new c("^","pow",[new u("sech",[C.clone()]),y(2)]);break;case"sech":D=!0,M=new c("*","multiply",[S,new u("tanh",[C.clone()])]);break;case"csch":D=!0,M=new c("*","multiply",[S,new u("coth",[C.clone()])]);break;case"coth":D=!0,M=new c("^","pow",[new u("csch",[C.clone()]),y(2)]);break;case"asinh":E=!0,M=new u("sqrt",[new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)])]);break;case"acosh":E=!0,M=new u("sqrt",[new c("-","subtract",[new c("^","pow",[C.clone(),y(2)]),y(1)])]);break;case"atanh":E=!0,M=new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])]);break;case"asech":E=!0,D=!0,M=new c("*","multiply",[C.clone(),new u("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])])])]);break;case"acsch":E=!0,D=!0,M=new c("*","multiply",[new u("abs",[C.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[C.clone(),y(2)]),y(1)])])]);break;case"acoth":E=!0,D=!0,M=new c("-","subtract",[y(1),new c("^","pow",[C.clone(),y(2)])]);break;case"abs":M=new c("/","divide",[new u(new h("abs"),[C.clone()]),C.clone()]);break;case"gamma":default:throw new Error('Function "'+S.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var k,$;E?(k="/",$="divide"):(k="*",$="multiply");var I=g(C,x);return D&&(I=new c("-","unaryMinus",[I])),new c(k,$,[I,M])},"OperatorNode, Object":function(S,x){if(x[S]!==void 0)return y(0);if(S.op==="+")return new c(S.op,S.fn,S.args.map(function(N){return g(N,x)}));if(S.op==="-"){if(S.isUnary())return new c(S.op,S.fn,[g(S.args[0],x)]);if(S.isBinary())return new c(S.op,S.fn,[g(S.args[0],x),g(S.args[1],x)])}if(S.op==="*"){var C=S.args.filter(function(N){return x[N]!==void 0});if(C.length>0){var A=S.args.filter(function(N){return x[N]===void 0}),E=A.length===1?A[0]:new c("*","multiply",A),D=C.concat(g(E,x));return new c("*","multiply",D)}return new c("+","add",S.args.map(function(N){return new c("*","multiply",S.args.map(function(T){return T===N?g(T,x):T.clone()}))}))}if(S.op==="/"&&S.isBinary()){var M=S.args[0],k=S.args[1];return x[k]!==void 0?new c("/","divide",[g(M,x),k]):x[M]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[M]),new c("/","divide",[g(k,x),new c("^","pow",[k.clone(),y(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[g(M,x),k.clone()]),new c("*","multiply",[M.clone(),g(k,x)])]),new c("^","pow",[k.clone(),y(2)])])}if(S.op==="^"&&S.isBinary()){var $=S.args[0],I=S.args[1];if(x[$]!==void 0)return at($)&&(o($.value)||a($.value,1))?y(0):new c("*","multiply",[S,new c("*","multiply",[new u("log",[$.clone()]),g(I.clone(),x)])]);if(x[I]!==void 0){if(at(I)){if(o(I.value))return y(0);if(a(I.value,1))return g($,x)}var F=new c("^","pow",[$.clone(),new c("-","subtract",[I,y(1)])]);return new c("*","multiply",[I.clone(),new c("*","multiply",[g($,x),F])])}return new c("*","multiply",[new c("^","pow",[$.clone(),I.clone()]),new c("+","add",[new c("*","multiply",[g($,x),new c("/","divide",[I.clone(),$.clone()])]),new c("*","multiply",[g(I,x),new u("log",[$.clone()])])])])}throw new Error('Operator "'+S.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function b(w){if(!((w.name==="log"||w.name==="nthRoot"||w.name==="pow")&&w.args.length===2)){for(var S=0;S<w.args.length;++S)w.args[S]=y(0);throw w.compile().evaluate(),new Error("Expected TypeError, but none found")}}function y(w,S){return new l(s(w,S||r.number))}return p}),yA="rationalize",jZ=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],GZ=_(yA,jZ,t=>{var{config:e,typed:r,equal:n,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,parse:c,simplifyConstant:f,simplifyCore:h,simplify:d,fraction:p,bignumber:m,mathWithTransform:v,matrix:g,AccessorNode:b,ArrayNode:y,ConstantNode:w,FunctionNode:S,IndexNode:x,ObjectNode:C,OperatorNode:A,SymbolNode:E,ParenthesisNode:D}=t;function M(N){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=$(),P=k(N,T,!0,O.firstRules),V=P.variables.length,W={exactFractions:!1},L={exactFractions:!0};if(N=P.expression,V>=1){N=I(N);var G,ee,Z=!0,se=!1;N=d(N,O.firstRules,{},W);for(var he;ee=Z?O.distrDivRules:O.sucDivRules,N=d(N,ee,{},L),Z=!Z,he=N.toString(),he!==G;)se=!0,G=he;se&&(N=d(N,O.firstRulesAgain,{},W)),N=d(N,O.finalRules,{},W)}var le=[],ne={};return N.type==="OperatorNode"&&N.isBinary()&&N.op==="/"?(V===1&&(N.args[0]=F(N.args[0],le),N.args[1]=F(N.args[1])),R&&(ne.numerator=N.args[0],ne.denominator=N.args[1])):(V===1&&(N=F(N,le)),R&&(ne.numerator=N,ne.denominator=null)),R?(ne.coefficients=le,ne.variables=P.variables,ne.expression=N,ne):N}return r(yA,{Node:M,"Node, boolean":(N,T)=>M(N,{},T),"Node, Object":M,"Node, Object, boolean":M});function k(N,T,R,O){var P=[],V=d(N,O,T,{exactFractions:!1});R=!!R;var W="+-*"+(R?"/":"");G(V);var L={};return L.expression=V,L.variables=P,L;function G(ee){var Z=ee.type;if(Z==="FunctionNode")throw new Error("There is an unsolved function call");if(Z==="OperatorNode")if(ee.op==="^"){if(ee.args[1].type!=="ConstantNode"||!Ie(parseFloat(ee.args[1].value)))throw new Error("There is a non-integer exponent");G(ee.args[0])}else{if(W.indexOf(ee.op)===-1)throw new Error("Operator "+ee.op+" invalid in polynomial expression");for(var se=0;se<ee.args.length;se++)G(ee.args[se])}else if(Z==="SymbolNode"){var he=ee.name,le=P.indexOf(he);le===-1&&P.push(he)}else if(Z==="ParenthesisNode")G(ee.content);else if(Z!=="ConstantNode")throw new Error("type "+Z+" is not allowed in polynomial expression")}}function $(){var N=[h,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],T=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],R=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],O=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],P={};return P.firstRules=N.concat(T,O),P.distrDivRules=R,P.sucDivRules=O,P.firstRulesAgain=N.concat(T),P.finalRules=[h,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],P}function I(N,T,R){var O=N.type,P=arguments.length>1;if(O==="OperatorNode"&&N.isBinary()){var V=!1,W;if(N.op==="^"&&(N.args[0].type==="ParenthesisNode"||N.args[0].type==="OperatorNode")&&N.args[1].type==="ConstantNode"&&(W=parseFloat(N.args[1].value),V=W>=2&&Ie(W)),V){if(W>2){var L=N.args[0],G=new A("^","pow",[N.args[0].cloneDeep(),new w(W-1)]);N=new A("*","multiply",[L,G])}else N=new A("*","multiply",[N.args[0],N.args[0].cloneDeep()]);P&&(R==="content"?T.content=N:T.args[R]=N)}}if(O==="ParenthesisNode")I(N.content,N,"content");else if(O!=="ConstantNode"&&O!=="SymbolNode")for(var ee=0;ee<N.args.length;ee++)I(N.args[ee],N,ee);if(!P)return N}function F(N,T){T===void 0&&(T=[]),T[0]=0;var R={};R.cte=1,R.oper="+",R.fire="";var O=0,P="";he(N,null,R),O=T.length-1;for(var V=!0,W,L=O;L>=0;L--)if(T[L]!==0){var G=new w(V?T[L]:Math.abs(T[L])),ee=T[L]<0?"-":"+";if(L>0){var Z=new E(P);if(L>1){var se=new w(L);Z=new A("^","pow",[Z,se])}T[L]===-1&&V?G=new A("-","unaryMinus",[Z]):Math.abs(T[L])===1?G=Z:G=new A("*","multiply",[G,Z])}V?W=G:ee==="+"?W=new A("+","add",[W,G]):W=new A("-","subtract",[W,G]),V=!1}if(V)return new w(0);return W;function he(le,ne,xe){var Se=le.type;if(Se==="FunctionNode")throw new Error("There is an unsolved function call");if(Se==="OperatorNode"){if("+-*^".indexOf(le.op)===-1)throw new Error("Operator "+le.op+" invalid");if(ne!==null){if((le.fn==="unaryMinus"||le.fn==="pow")&&ne.fn!=="add"&&ne.fn!=="subtract"&&ne.fn!=="multiply")throw new Error("Invalid "+le.op+" placing");if((le.fn==="subtract"||le.fn==="add"||le.fn==="multiply")&&ne.fn!=="add"&&ne.fn!=="subtract")throw new Error("Invalid "+le.op+" placing");if((le.fn==="subtract"||le.fn==="add"||le.fn==="unaryMinus")&&xe.noFil!==0)throw new Error("Invalid "+le.op+" placing")}(le.op==="^"||le.op==="*")&&(xe.fire=le.op);for(var me=0;me<le.args.length;me++)le.fn==="unaryMinus"&&(xe.oper="-"),(le.op==="+"||le.fn==="subtract")&&(xe.fire="",xe.cte=1,xe.oper=me===0?"+":le.op),xe.noFil=me,he(le.args[me],le,xe)}else if(Se==="SymbolNode"){if(le.name!==P&&P!=="")throw new Error("There is more than one variable");if(P=le.name,ne===null){T[1]=1;return}if(ne.op==="^"&&xe.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ne.op==="*"&&xe.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(xe.fire===""||xe.fire==="*")&&(O<1&&(T[1]=0),T[1]+=xe.cte*(xe.oper==="+"?1:-1),O=Math.max(1,O))}else if(Se==="ConstantNode"){var Ce=parseFloat(le.value);if(ne===null){T[0]=Ce;return}if(ne.op==="^"){if(xe.noFil!==1)throw new Error("Constant cannot be powered");if(!Ie(Ce)||Ce<=0)throw new Error("Non-integer exponent is not allowed");for(var q=O+1;q<Ce;q++)T[q]=0;Ce>O&&(T[Ce]=0),T[Ce]+=xe.cte*(xe.oper==="+"?1:-1),O=Math.max(Ce,O);return}xe.cte=Ce,xe.fire===""&&(T[0]+=xe.cte*(xe.oper==="+"?1:-1))}else throw new Error("Type "+Se+" is not allowed")}}}),KZ="reviver",YZ=["classes"],JZ=_(KZ,YZ,t=>{var{classes:e}=t;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}}),ZZ="replacer",XZ=[],QZ=_(ZZ,XZ,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:r}),eX="11.8.2",tX=_("true",[],()=>!0),rX=_("false",[],()=>!1),nX=_("null",[],()=>null),iX=Wn("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),aX=Wn("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),oX=Wn("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?Sx(r):a6}),sX=Wn("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?eq(r):o6}),lX=Wn("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?XU(r):s6}),uX=Wn("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?QU(r):l6}),cX=Wn("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),fX=Wn("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),hX=Wn("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),dX=Wn("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),pX=Wn("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),mX=Wn("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),gX=Wn("i",["Complex"],t=>{var{Complex:e}=t;return e.I}),vX=_("PI",["pi"],t=>{var{pi:e}=t;return e}),yX=_("E",["e"],t=>{var{e}=t;return e}),xX=_("version",[],()=>eX);function Wn(t,e,r){return _(t,e,r,{recreateOnConfigChange:!0})}var bX=Ye("speedOfLight","299792458","m s^-1"),wX=Ye("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),SX=Ye("planckConstant","6.62607015e-34","J s"),CX=Ye("reducedPlanckConstant","1.0545718176461565e-34","J s"),DX=Ye("magneticConstant","1.25663706212e-6","N A^-2"),AX=Ye("electricConstant","8.8541878128e-12","F m^-1"),EX=Ye("vacuumImpedance","376.730313667","ohm"),NX=Ye("coulomb","8.987551792261171e9","N m^2 C^-2"),MX=Ye("elementaryCharge","1.602176634e-19","C"),TX=Ye("bohrMagneton","9.2740100783e-24","J T^-1"),kX=Ye("conductanceQuantum","7.748091729863649e-5","S"),OX=Ye("inverseConductanceQuantum","12906.403729652257","ohm"),BX=Ye("magneticFluxQuantum","2.0678338484619295e-15","Wb"),FX=Ye("nuclearMagneton","5.0507837461e-27","J T^-1"),$X=Ye("klitzing","25812.807459304513","ohm"),RX=Ye("bohrRadius","5.29177210903e-11","m"),PX=Ye("classicalElectronRadius","2.8179403262e-15","m"),IX=Ye("electronMass","9.1093837015e-31","kg"),LX=Ye("fermiCoupling","1.1663787e-5","GeV^-2"),_X=wm("fineStructure",.0072973525693),zX=Ye("hartreeEnergy","4.3597447222071e-18","J"),UX=Ye("protonMass","1.67262192369e-27","kg"),qX=Ye("deuteronMass","3.3435830926e-27","kg"),HX=Ye("neutronMass","1.6749271613e-27","kg"),VX=Ye("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),WX=Ye("rydberg","10973731.568160","m^-1"),jX=Ye("thomsonCrossSection","6.6524587321e-29","m^2"),GX=wm("weakMixingAngle",.2229),KX=wm("efimovFactor",22.7),YX=Ye("atomicMass","1.66053906660e-27","kg"),JX=Ye("avogadro","6.02214076e23","mol^-1"),ZX=Ye("boltzmann","1.380649e-23","J K^-1"),XX=Ye("faraday","96485.33212331001","C mol^-1"),QX=Ye("firstRadiation","3.7417718521927573e-16","W m^2"),eQ=Ye("loschmidt","2.686780111798444e25","m^-3"),tQ=Ye("gasConstant","8.31446261815324","J K^-1 mol^-1"),rQ=Ye("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),nQ=Ye("molarVolume","0.022413969545014137","m^3 mol^-1"),iQ=wm("sackurTetrode",-1.16487052358),aQ=Ye("secondRadiation","0.014387768775039337","m K"),oQ=Ye("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),sQ=Ye("wienDisplacement","2.897771955e-3","m K"),lQ=Ye("molarMass","0.99999999965e-3","kg mol^-1"),uQ=Ye("molarMassC12","11.9999999958e-3","kg mol^-1"),cQ=Ye("gravity","9.80665","m s^-2"),fQ=Ye("planckLength","1.616255e-35","m"),hQ=Ye("planckMass","2.176435e-8","kg"),dQ=Ye("planckTime","5.391245e-44","s"),pQ=Ye("planckCharge","1.87554603778e-18","C"),mQ=Ye("planckTemperature","1.416785e+32","K");function Ye(t,e,r){var n=["config","Unit","BigNumber"];return _(t,n,i=>{var{config:a,Unit:o,BigNumber:s}=i,l=a.number==="BigNumber"?new s(e):parseFloat(e),u=new o(l,r);return u.fixPrefix=!0,u})}function wm(t,e){var r=["config","BigNumber"];return _(t,r,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var gQ="apply",vQ=["typed","isInteger"],yQ=_(gQ,vQ,t=>{var{typed:e,isInteger:r}=t,n=HO({typed:e,isInteger:r});return e("apply",{"...any":function(a){var o=a[1];nt(o)?a[1]=o-1:Qe(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(s){throw cn(s)}}})},{isTransformFunction:!0}),xQ="column",bQ=["typed","Index","matrix","range"],wQ=_(xQ,bQ,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=eB({typed:e,Index:r,matrix:n,range:i});return e("column",{"...any":function(s){var l=s.length-1,u=s[l];nt(u)&&(s[l]=u-1);try{return a.apply(null,s)}catch(c){throw cn(c)}}})},{isTransformFunction:!0});function Ox(t,e,r){var n=t.filter(function(s){return mr(s)&&!(s.name in e)&&!r.has(s.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=n.name,a=Yu(r),o=t.compile();return function(l){return a.set(i,l),o.evaluate(a)}}var SQ="filter",CQ=["typed"],DQ=_(SQ,CQ,t=>{var{typed:e}=t;function r(i,a,o){var s,l;return i[0]&&(s=i[0].compile().evaluate(o)),i[1]&&(mr(i[1])||uu(i[1])?l=i[1].compile().evaluate(o):l=Ox(i[1],a,o)),n(s,l)}r.rawArgs=!0;var n=e("filter",{"Array, function":xA,"Matrix, function":function(a,o){return a.create(xA(a.toArray(),o))},"Array, RegExp":Jd,"Matrix, RegExp":function(a,o){return a.create(Jd(a.toArray(),o))}});return r},{isTransformFunction:!0});function xA(t,e){return fk(t,function(r,n,i){return du(e,r,[n+1],i,"filter")})}var AQ="forEach",EQ=["typed"],NQ=_(AQ,EQ,t=>{var{typed:e}=t;function r(i,a,o){var s,l;return i[0]&&(s=i[0].compile().evaluate(o)),i[1]&&(mr(i[1])||uu(i[1])?l=i[1].compile().evaluate(o):l=Ox(i[1],a,o)),n(s,l)}r.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var s=function l(u,c){if(Array.isArray(u))hm(u,function(f,h){l(f,c.concat(h+1))});else return du(o,u,c,a,"forEach")};s(a.valueOf(),[])}});return r},{isTransformFunction:!0}),MQ="index",TQ=["Index"],kQ=_(MQ,TQ,t=>{var{Index:e}=t;return function(){for(var n=[],i=0,a=arguments.length;i<a;i++){var o=arguments[i];if(lm(o))o.start--,o.end-=o.step>0?0:2;else if(o&&o.isSet===!0)o=o.map(function(l){return l-1});else if(yt(o)||We(o))o=o.map(function(l){return l-1});else if(nt(o))o--;else if(Qe(o))o=o.toNumber()-1;else if(typeof o!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");n[i]=o}var s=new e;return e.apply(s,n),s}},{isTransformFunction:!0}),OQ="map",BQ=["typed"],FQ=_(OQ,BQ,t=>{var{typed:e}=t;function r(i,a,o){var s,l;return i[0]&&(s=i[0].compile().evaluate(o)),i[1]&&(mr(i[1])||uu(i[1])?l=i[1].compile().evaluate(o):l=Ox(i[1],a,o)),n(s,l)}r.rawArgs=!0;var n=e("map",{"Array, function":function(a,o){return bA(a,o,a)},"Matrix, function":function(a,o){return a.create(bA(a.valueOf(),o,a))}});return r},{isTransformFunction:!0});function bA(t,e,r){function n(i,a){return Array.isArray(i)?Aa(i,function(o,s){return n(o,a.concat(s+1))}):du(e,i,a,r,"map")}return n(t,[])}function Fs(t){if(t.length===2&&Mi(t[0])){t=t.slice();var e=t[1];nt(e)?t[1]=e-1:Qe(e)&&(t[1]=e.minus(1))}return t}var $Q="max",RQ=["typed","config","numeric","larger"],PQ=_($Q,RQ,t=>{var{typed:e,config:r,numeric:n,larger:i}=t,a=gB({typed:e,config:r,numeric:n,larger:i});return e("max",{"...any":function(s){s=Fs(s);try{return a.apply(null,s)}catch(l){throw cn(l)}}})},{isTransformFunction:!0}),IQ="mean",LQ=["typed","add","divide"],_Q=_(IQ,LQ,t=>{var{typed:e,add:r,divide:n}=t,i=TB({typed:e,add:r,divide:n});return e("mean",{"...any":function(o){o=Fs(o);try{return i.apply(null,o)}catch(s){throw cn(s)}}})},{isTransformFunction:!0}),zQ="min",UQ=["typed","config","numeric","smaller"],qQ=_(zQ,UQ,t=>{var{typed:e,config:r,numeric:n,smaller:i}=t,a=vB({typed:e,config:r,numeric:n,smaller:i});return e("min",{"...any":function(s){s=Fs(s);try{return a.apply(null,s)}catch(l){throw cn(l)}}})},{isTransformFunction:!0}),HQ="range",VQ=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],WQ=_(HQ,VQ,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l}=t,u=aB({typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l});return e("range",{"...any":function(f){var h=f.length-1,d=f[h];return typeof d!="boolean"&&f.push(!0),u.apply(null,f)}})},{isTransformFunction:!0}),jQ="row",GQ=["typed","Index","matrix","range"],KQ=_(jQ,GQ,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=oB({typed:e,Index:r,matrix:n,range:i});return e("row",{"...any":function(s){var l=s.length-1,u=s[l];nt(u)&&(s[l]=u-1);try{return a.apply(null,s)}catch(c){throw cn(c)}}})},{isTransformFunction:!0}),YQ="subset",JQ=["typed","matrix"],ZQ=_(YQ,JQ,t=>{var{typed:e,matrix:r}=t,n=lB({typed:e,matrix:r});return e("subset",{"...any":function(a){try{return n.apply(null,a)}catch(o){throw cn(o)}}})},{isTransformFunction:!0}),XQ="concat",QQ=["typed","matrix","isInteger"],eee=_(XQ,QQ,t=>{var{typed:e,matrix:r,isInteger:n}=t,i=yx({typed:e,matrix:r,isInteger:n});return e("concat",{"...any":function(o){var s=o.length-1,l=o[s];nt(l)?o[s]=l-1:Qe(l)&&(o[s]=l.minus(1));try{return i.apply(null,o)}catch(u){throw cn(u)}}})},{isTransformFunction:!0}),wA="diff",tee=["typed","matrix","subtract","number","bignumber"],ree=_(wA,tee,t=>{var{typed:e,matrix:r,subtract:n,number:i,bignumber:a}=t,o=rB({typed:e,matrix:r,subtract:n,number:i,bignumber:a});return e(wA,{"...any":function(l){l=Fs(l);try{return o.apply(null,l)}catch(u){throw cn(u)}}})},{isTransformFunction:!0}),nee="std",iee=["typed","map","sqrt","variance"],aee=_(nee,iee,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t,a=OB({typed:e,map:r,sqrt:n,variance:i});return e("std",{"...any":function(s){s=Fs(s);try{return a.apply(null,s)}catch(l){throw cn(l)}}})},{isTransformFunction:!0}),SA="sum",oee=["typed","config","add","numeric"],see=_(SA,oee,t=>{var{typed:e,config:r,add:n,numeric:i}=t,a=NB({typed:e,config:r,add:n,numeric:i});return e(SA,{"...any":function(s){s=Fs(s);try{return a.apply(null,s)}catch(l){throw cn(l)}}})},{isTransformFunction:!0}),CA="cumsum",lee=["typed","add","unaryPlus"],uee=_(CA,lee,t=>{var{typed:e,add:r,unaryPlus:n}=t,i=MB({typed:e,add:r,unaryPlus:n});return e(CA,{"...any":function(o){if(o.length===2&&Mi(o[0])){var s=o[1];nt(s)?o[1]=s-1:Qe(s)&&(o[1]=s.minus(1))}try{return i.apply(null,o)}catch(l){throw cn(l)}}})},{isTransformFunction:!0}),DA="variance",cee=["typed","add","subtract","multiply","divide","apply","isNaN"],fee=_(DA,cee,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:s}=t,l=kB({typed:e,add:r,subtract:n,multiply:i,divide:a,apply:o,isNaN:s});return e(DA,{"...any":function(c){c=Fs(c);try{return l.apply(null,c)}catch(f){throw cn(f)}}})},{isTransformFunction:!0});const hee=Object.freeze(Object.defineProperty({__proto__:null,createAbs:qO,createAccessorNode:VH,createAcos:cq,createAcosh:hq,createAcot:pq,createAcoth:gq,createAcsc:yq,createAcsch:bq,createAdd:TH,createAddScalar:VO,createAnd:tU,createApply:HO,createApplyTransform:yQ,createArg:U9,createArrayNode:jH,createAsec:Sq,createAsech:Dq,createAsin:Eq,createAsinh:Tq,createAssignmentNode:JH,createAtan:Bq,createAtan2:$q,createAtanh:Pq,createAtomicMass:YX,createAvogadro:JX,createBellNumbers:SZ,createBigNumberClass:Nk,createBignumber:LO,createBin:hz,createBitAnd:O9,createBitNot:F9,createBitOr:R9,createBitXor:_9,createBlockNode:XH,createBohrMagneton:TX,createBohrRadius:RX,createBoltzmann:ZX,createBoolean:R6,createCatalan:DZ,createCbrt:o_,createCeil:WO,createChain:GY,createChainClass:SW,createClassicalElectronRadius:PX,createClone:t6,createColumn:eB,createColumnTransform:wQ,createCombinations:$J,createCombinationsWithRep:PJ,createCompare:nU,createCompareNatural:sU,createCompareText:cU,createCompile:OV,createComplex:z6,createComplexClass:Tk,createComposition:EZ,createConcat:yx,createConcatTransform:eee,createConditionalNode:eV,createConductanceQuantum:kX,createConj:XO,createConstantNode:lV,createCos:Lq,createCosh:zq,createCot:qq,createCoth:Vq,createCoulomb:NX,createCount:r7,createCreateUnit:lq,createCross:i7,createCsc:jq,createCsch:Kq,createCtranspose:K7,createCube:g_,createCumSum:MB,createCumSumTransform:uee,createDeepEqual:MU,createDenseMatrixClass:$k,createDerivative:WZ,createDet:AB,createDeuteronMass:qX,createDiag:o7,createDiff:rB,createDiffTransform:ree,createDistance:vJ,createDivide:mJ,createDivideScalar:hB,createDot:xB,createDotDivide:Iz,createDotMultiply:D9,createDotPow:Rz,createE:lX,createEfimovFactor:KX,createEigs:rJ,createElectricConstant:AX,createElectronMass:IX,createElementaryCharge:MX,createEqual:mB,createEqualScalar:RO,createEqualText:pU,createErf:rz,createEvaluate:FV,createExp:y_,createExpm:iJ,createExpm1:b_,createFactorial:qJ,createFalse:rX,createFaraday:XX,createFermiCoupling:LX,createFft:Z7,createFibonacciHeapClass:jU,createFilter:u7,createFilterTransform:DQ,createFineStructure:_X,createFirstRadiation:QX,createFix:jO,createFlatten:f7,createFloor:GO,createForEach:d7,createForEachTransform:NQ,createFormat:cB,createFraction:_O,createFractionClass:Ok,createFunctionAssignmentNode:cV,createFunctionNode:NV,createGamma:LJ,createGasConstant:tQ,createGcd:U_,createGetMatrixDataType:g7,createGravitationConstant:wX,createGravity:cQ,createHartreeEnergy:zX,createHasNumericValue:g6,createHelp:WY,createHelpClass:xW,createHex:gz,createHypot:OH,createI:gX,createIdentity:tB,createIfft:Q7,createIm:V9,createImmutableDenseMatrixClass:zU,createIndex:_H,createIndexClass:HU,createIndexNode:hV,createIndexTransform:kQ,createInfinity:iX,createIntersect:bJ,createInv:EB,createInverseConductanceQuantum:OX,createInvmod:b9,createIsInteger:Pk,createIsNaN:w6,createIsNegative:d6,createIsNumeric:FO,createIsPositive:y6,createIsPrime:Sz,createIsZero:$O,createKldivergence:VJ,createKlitzing:$X,createKron:x7,createLN10:fX,createLN2:cX,createLOG10E:dX,createLOG2E:hX,createLarger:SU,createLargerEq:AU,createLcm:G_,createLeafCount:MZ,createLeftShift:Yz,createLgamma:zJ,createLog:Tz,createLog10:Y_,createLog1p:Oz,createLog2:Z_,createLoschmidt:eQ,createLsolve:_z,createLsolveAll:Hz,createLup:zV,createLusolve:pW,createLyap:hJ,createMad:NJ,createMagneticConstant:DX,createMagneticFluxQuantum:BX,createMap:w7,createMapTransform:FQ,createMatrix:zO,createMatrixClass:Bk,createMatrixFromColumns:Y6,createMatrixFromFunction:W6,createMatrixFromRows:G6,createMax:gB,createMaxTransform:PQ,createMean:TB,createMeanTransform:_Q,createMedian:AJ,createMin:vB,createMinTransform:qQ,createMod:n9,createMode:sz,createMolarMass:lQ,createMolarMassC12:uQ,createMolarPlanckConstant:rQ,createMolarVolume:nQ,createMultinomial:jJ,createMultiply:YO,createMultiplyScalar:KO,createNaN:aX,createNeutronMass:HX,createNode:qH,createNorm:FH,createNot:K9,createNthRoot:l9,createNthRoots:Fz,createNuclearMagneton:FX,createNull:nX,createNumber:IO,createNumeric:fB,createObjectNode:pV,createOct:pz,createOnes:E7,createOperatorNode:gV,createOr:J9,createParenthesisNode:yV,createParse:TV,createParser:LV,createParserClass:PV,createPartitionSelect:FU,createPermutations:KJ,createPhi:uX,createPi:oX,createPickRandom:pZ,createPinv:ZY,createPlanckCharge:pQ,createPlanckConstant:SX,createPlanckLength:fQ,createPlanckMass:hQ,createPlanckTemperature:mQ,createPlanckTime:dQ,createPolynomialRoot:gW,createPow:dB,createPrint:yz,createProd:uz,createProtonMass:UX,createQr:qV,createQuantileSeq:OJ,createQuantumOfCirculation:VX,createRandom:gZ,createRandomInt:yZ,createRange:aB,createRangeClass:KL,createRangeNode:bV,createRangeTransform:WQ,createRationalize:GZ,createRe:j9,createReducedPlanckConstant:CX,createRelationalNode:SV,createReplacer:QZ,createReshape:T7,createResize:B7,createResolve:UZ,createResultSet:V8,createReviver:JZ,createRightArithShift:Zz,createRightLogShift:Qz,createRotate:$7,createRotationMatrix:P7,createRound:pB,createRow:oB,createRowTransform:KQ,createRydberg:WX,createSQRT1_2:pX,createSQRT2:mX,createSackurTetrode:iQ,createSchur:cJ,createSec:Jq,createSech:Xq,createSecondRadiation:aQ,createSetCartesian:uH,createSetDifference:fH,createSetDistinct:dH,createSetIntersect:mH,createSetIsSubset:vH,createSetMultiplicity:xH,createSetPowerset:wH,createSetSize:CH,createSetSymDifference:AH,createSetUnion:NH,createSign:c9,createSimplify:FZ,createSimplifyConstant:PZ,createSimplifyCore:LZ,createSin:eH,createSinh:rH,createSize:sB,createSlu:hW,createSmaller:gU,createSmallerEq:xU,createSort:RU,createSpaClass:YU,createSparse:oq,createSparseMatrixClass:PO,createSpeedOfLight:bX,createSplitUnit:Z6,createSqrt:d9,createSqrtm:oJ,createSquare:m9,createSqueeze:z7,createStd:OB,createStdTransform:aee,createStefanBoltzmann:oQ,createStirlingS2:bZ,createString:F6,createSubset:lB,createSubsetTransform:ZQ,createSubtract:JO,createSum:NB,createSumTransform:see,createSylvester:lJ,createSymbolNode:AV,createSymbolicEqual:HZ,createTan:iH,createTanh:sH,createTau:sX,createThomsonCrossSection:jX,createTo:bz,createTrace:IH,createTranspose:j7,createTrue:tX,createTypeOf:C6,createTyped:mk,createUnaryMinus:UO,createUnaryPlus:e_,createUnequal:kU,createUnitClass:yB,createUnitFunction:iq,createUppercaseE:yX,createUppercasePi:vX,createUsolve:Uz,createUsolveAll:Wz,createVacuumImpedance:EX,createVariance:kB,createVarianceTransform:fee,createVersion:xX,createWeakMixingAngle:GX,createWienDisplacement:sQ,createXgcd:y9,createXor:X9,createZeros:uB},Symbol.toStringTag,{value:"Module"}));var mu=Nk({config:sa}),Sm=Tk({}),Bx=Ok({}),Fx=Bk({}),qa=$k({Matrix:Fx}),wt=mk({BigNumber:mu,Complex:Sm,DenseMatrix:qa,Fraction:Bx}),$B=qO({typed:wt}),df=VO({typed:wt}),dee=LO({BigNumber:mu,typed:wt}),pee=XO({typed:wt}),Lo=RO({config:sa,typed:wt}),mee=cB({typed:wt}),gee=Pk({typed:wt}),vee=$O({typed:wt}),$x=KO({typed:wt}),Rx=IO({typed:wt}),RB=PO({Matrix:Fx,equalScalar:Lo,typed:wt}),Px=UO({typed:wt}),PB=_O({Fraction:Bx,typed:wt}),yee=FO({typed:wt}),An=zO({DenseMatrix:qa,Matrix:Fx,SparseMatrix:RB,typed:wt}),xee=fB({bignumber:dee,fraction:PB,number:Rx}),bee=sB({matrix:An,config:sa,typed:wt}),Cm=uB({BigNumber:mu,config:sa,matrix:An,typed:wt}),IB=yx({isInteger:gee,matrix:An,typed:wt}),Ix=hB({numeric:xee,typed:wt}),wee=mB({DenseMatrix:qa,concat:IB,equalScalar:Lo,matrix:An,typed:wt}),LB=tB({BigNumber:mu,DenseMatrix:qa,SparseMatrix:RB,config:sa,matrix:An,typed:wt}),Lx=pB({BigNumber:mu,DenseMatrix:qa,equalScalar:Lo,matrix:An,typed:wt,zeros:Cm}),See=xB({addScalar:df,conj:pee,multiplyScalar:$x,size:bee,typed:wt}),Cee=GO({DenseMatrix:qa,config:sa,equalScalar:Lo,matrix:An,round:Lx,typed:wt,zeros:Cm}),_x=YO({addScalar:df,dot:See,equalScalar:Lo,matrix:An,multiplyScalar:$x,typed:wt}),_B=JO({DenseMatrix:qa,addScalar:df,concat:IB,equalScalar:Lo,matrix:An,typed:wt,unaryMinus:Px}),Dee=WO({DenseMatrix:qa,config:sa,equalScalar:Lo,matrix:An,round:Lx,typed:wt,zeros:Cm}),Aee=AB({divideScalar:Ix,isZero:vee,matrix:An,multiply:_x,subtract:_B,typed:wt,unaryMinus:Px}),Eee=jO({Complex:Sm,DenseMatrix:qa,ceil:Dee,equalScalar:Lo,floor:Cee,matrix:An,typed:wt,zeros:Cm}),Nee=EB({abs:$B,addScalar:df,det:Aee,divideScalar:Ix,identity:LB,matrix:An,multiply:_x,typed:wt,unaryMinus:Px}),Mee=dB({Complex:Sm,config:sa,fraction:PB,identity:LB,inv:Nee,matrix:An,multiply:_x,number:Rx,typed:wt}),AA=yB({BigNumber:mu,Complex:Sm,Fraction:Bx,abs:$B,addScalar:df,config:sa,divideScalar:Ix,equal:wee,fix:Eee,format:mee,isNumeric:yee,multiplyScalar:$x,number:Rx,pow:Mee,round:Lx,subtract:_B}),Tee=hee,zx={exports:{}};function Ux(){}Ux.prototype={on:function(t,e,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function i(){n.off(t,i),e.apply(r,arguments)}return i._=e,this.on(t,i,r)},emit:function(t){var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=r.length;for(n;n<i;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],i=[];if(n&&e)for(var a=0,o=n.length;a<o;a++)n[a].fn!==e&&n[a].fn._!==e&&i.push(n[a]);return i.length?r[t]=i:delete r[t],this}};zx.exports=Ux;zx.exports.TinyEmitter=Ux;var kee=zx.exports;const Oee=As(kee);function Bee(t){var e=new Oee;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}function Fee(t,e,r,n){function i(v,g){var b=arguments.length;if(b!==1&&b!==2)throw new Ua("import",b,1,2);g||(g={});function y(C,A,E){if(Array.isArray(A))A.forEach(k=>y(C,k));else if(typeof A=="object")for(var D in A)Oe(A,D)&&y(C,A[D],D);else if(uc(A)||E!==void 0){var M=uc(A)?p(A)?A.fn+".transform":A.fn:E;if(Oe(C,M)&&C[M]!==A&&!g.silent)throw new Error('Cannot import "'+M+'" twice');C[M]=A}else if(!g.silent)throw new TypeError("Factory, Object, or Array expected")}var w={};y(w,v);for(var S in w)if(Oe(w,S)){var x=w[S];if(uc(x))u(x,g);else if(c(x))a(S,x,g);else if(!g.silent)throw new TypeError("Factory, Object, or Array expected")}}function a(v,g,b){if(b.wrap&&typeof g=="function"&&(g=l(g)),f(g)&&(g=t(v,{[g.signature]:g})),t.isTypedFunction(r[v])&&t.isTypedFunction(g)){b.override?g=t(v,g.signatures):g=t(r[v],g),r[v]=g,delete n[v],o(v,g),r.emit("import",v,function(){return g});return}if(r[v]===void 0||b.override){r[v]=g,delete n[v],o(v,g),r.emit("import",v,function(){return g});return}if(!b.silent)throw new Error('Cannot import "'+v+'": already exists')}function o(v,g){g&&typeof g.transform=="function"?(r.expression.transform[v]=g.transform,h(v)&&(r.expression.mathWithTransform[v]=g.transform)):(delete r.expression.transform[v],h(v)&&(r.expression.mathWithTransform[v]=g))}function s(v){delete r.expression.transform[v],h(v)?r.expression.mathWithTransform[v]=r[v]:delete r.expression.mathWithTransform[v]}function l(v){var g=function(){for(var y=[],w=0,S=arguments.length;w<S;w++){var x=arguments[w];y[w]=x&&x.valueOf()}return v.apply(r,y)};return v.transform&&(g.transform=v.transform),g}function u(v,g){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.fn;if(vS(b,"."))throw new Error("Factory name should not contain a nested path. Name: "+JSON.stringify(b));var y=p(v)?r.expression.transform:r,w=b in r.expression.transform,S=Oe(y,b)?y[b]:void 0,x=function(){var A={};v.dependencies.map(hk).forEach(D=>{if(vS(D,"."))throw new Error("Factory dependency should not contain a nested path. Name: "+JSON.stringify(D));D==="math"?A.math=r:D==="mathWithTransform"?A.mathWithTransform=r.expression.mathWithTransform:D==="classes"?A.classes=r:A[D]=r[D]});var E=v(A);if(E&&typeof E.transform=="function")throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(S===void 0||g.override)return E;if(t.isTypedFunction(S)&&t.isTypedFunction(E))return t(S,E);if(g.silent)return S;throw new Error('Cannot import "'+b+'": already exists')};!v.meta||v.meta.lazy!==!1?(td(y,b,x),S&&w?s(b):(p(v)||d(v))&&td(r.expression.mathWithTransform,b,()=>y[b])):(y[b]=x(),S&&w?s(b):(p(v)||d(v))&&td(r.expression.mathWithTransform,b,()=>y[b])),n[b]=v,r.emit("import",b,x)}function c(v){return typeof v=="function"||typeof v=="number"||typeof v=="string"||typeof v=="boolean"||v===null||yi(v)||Di(v)||Qe(v)||Ms(v)||We(v)||Array.isArray(v)}function f(v){return typeof v=="function"&&typeof v.signature=="string"}function h(v){return!Oe(m,v)}function d(v){return v.fn.indexOf(".")===-1&&!Oe(m,v.fn)&&(!v.meta||!v.meta.isClass)}function p(v){return v!==void 0&&v.meta!==void 0&&v.meta.isTransformFunction===!0||!1}var m={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return i}function zB(t,e){var r=te({},sm,e);if(typeof Object.create!="function")throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var n=Bee({isNumber:nt,isComplex:Di,isBigNumber:Qe,isFraction:Ms,isUnit:yi,isString:Kr,isArray:yt,isMatrix:We,isCollection:Mi,isDenseMatrix:Fc,isSparseMatrix:ao,isRange:lm,isIndex:uf,isBoolean:zT,isResultSet:UT,isHelp:sx,isFunction:qT,isDate:HT,isRegExp:VT,isObject:um,isNull:WT,isUndefined:jT,isAccessorNode:Do,isArrayNode:kn,isAssignmentNode:GT,isBlockNode:KT,isConditionalNode:YT,isConstantNode:at,isFunctionAssignmentNode:uu,isFunctionNode:Ba,isIndexNode:Ts,isNode:xt,isObjectNode:cf,isOperatorNode:er,isParenthesisNode:na,isRangeNode:JT,isRelationalNode:ZT,isSymbolNode:mr,isChain:lx});n.config=s8(r,n.emit),n.expression={transform:{},mathWithTransform:{config:n.config}};var i=[],a=[];function o(c){if(uc(c))return c(n);var f=c[Object.keys(c)[0]];if(uc(f))return f(n);if(!a8(c))throw console.warn("Factory object with properties `type`, `name`, and `factory` expected",c),new Error("Factory object with properties `type`, `name`, and `factory` expected");var h=i.indexOf(c),d;return h===-1?(c.math===!0?d=c.factory(n.type,r,o,n.typed,n):d=c.factory(n.type,r,o,n.typed),i.push(c),a.push(d)):d=a[h],d}var s={};function l(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];return n.typed.apply(n.typed,f)}l.isTypedFunction=is.isTypedFunction;var u=Fee(l,o,n,s);return n.import=u,n.on("config",()=>{uS(s).forEach(c=>{c&&c.meta&&c.meta.recreateOnConfigChange&&u(c,{override:!0})})}),n.create=zB.bind(null,t),n.factory=_,n.import(uS(i8(t))),n.ArgumentsError=Ua,n.DimensionError=Xe,n.IndexError=ci,n}function UB(t,e){return function(){return t.apply(e,arguments)}}const{toString:$ee}=Object.prototype,{getPrototypeOf:qx}=Object,Dm=(t=>e=>{const r=$ee.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ua=t=>(t=t.toLowerCase(),e=>Dm(e)===t),Am=t=>e=>typeof e===t,{isArray:gu}=Array,_c=Am("undefined");function Ree(t){return t!==null&&!_c(t)&&t.constructor!==null&&!_c(t.constructor)&&ri(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qB=ua("ArrayBuffer");function Pee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qB(t.buffer),e}const Iee=Am("string"),ri=Am("function"),HB=Am("number"),Em=t=>t!==null&&typeof t=="object",Lee=t=>t===!0||t===!1,nd=t=>{if(Dm(t)!=="object")return!1;const e=qx(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_ee=ua("Date"),zee=ua("File"),Uee=ua("Blob"),qee=ua("FileList"),Hee=t=>Em(t)&&ri(t.pipe),Vee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ri(t.append)&&((e=Dm(t))==="formdata"||e==="object"&&ri(t.toString)&&t.toString()==="[object FormData]"))},Wee=ua("URLSearchParams"),jee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pf(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),gu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let s;for(n=0;n<o;n++)s=a[n],e.call(null,t[s],s,t)}}function VB(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const WB=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),jB=t=>!_c(t)&&t!==WB;function ry(){const{caseless:t}=jB(this)&&this||{},e={},r=(n,i)=>{const a=t&&VB(e,i)||i;nd(e[a])&&nd(n)?e[a]=ry(e[a],n):nd(n)?e[a]=ry({},n):gu(n)?e[a]=n.slice():e[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&pf(arguments[n],r);return e}const Gee=(t,e,r,{allOwnKeys:n}={})=>(pf(e,(i,a)=>{r&&ri(i)?t[a]=UB(i,r):t[a]=i},{allOwnKeys:n}),t),Kee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Yee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Jee=(t,e,r,n)=>{let i,a,o;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],(!n||n(o,t,e))&&!s[o]&&(e[o]=t[o],s[o]=!0);t=r!==!1&&qx(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Zee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Xee=t=>{if(!t)return null;if(gu(t))return t;let e=t.length;if(!HB(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Qee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&qx(Uint8Array)),ete=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},tte=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},rte=ua("HTMLFormElement"),nte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),EA=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),ite=ua("RegExp"),GB=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};pf(r,(i,a)=>{e(i,a,t)!==!1&&(n[a]=i)}),Object.defineProperties(t,n)},ate=t=>{GB(t,(e,r)=>{if(ri(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ri(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ote=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return gu(t)?n(t):n(String(t).split(e)),r},ste=()=>{},lte=(t,e)=>(t=+t,Number.isFinite(t)?t:e),av="abcdefghijklmnopqrstuvwxyz",NA="0123456789",KB={DIGIT:NA,ALPHA:av,ALPHA_DIGIT:av+av.toUpperCase()+NA},ute=(t=16,e=KB.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function cte(t){return!!(t&&ri(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const fte=t=>{const e=new Array(10),r=(n,i)=>{if(Em(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const a=gu(n)?[]:{};return pf(n,(o,s)=>{const l=r(o,i+1);!_c(l)&&(a[s]=l)}),e[i]=void 0,a}}return n};return r(t,0)},hte=ua("AsyncFunction"),dte=t=>t&&(Em(t)||ri(t))&&ri(t.then)&&ri(t.catch),ye={isArray:gu,isArrayBuffer:qB,isBuffer:Ree,isFormData:Vee,isArrayBufferView:Pee,isString:Iee,isNumber:HB,isBoolean:Lee,isObject:Em,isPlainObject:nd,isUndefined:_c,isDate:_ee,isFile:zee,isBlob:Uee,isRegExp:ite,isFunction:ri,isStream:Hee,isURLSearchParams:Wee,isTypedArray:Qee,isFileList:qee,forEach:pf,merge:ry,extend:Gee,trim:jee,stripBOM:Kee,inherits:Yee,toFlatObject:Jee,kindOf:Dm,kindOfTest:ua,endsWith:Zee,toArray:Xee,forEachEntry:ete,matchAll:tte,isHTMLForm:rte,hasOwnProperty:EA,hasOwnProp:EA,reduceDescriptors:GB,freezeMethods:ate,toObjectSet:ote,toCamelCase:nte,noop:ste,toFiniteNumber:lte,findKey:VB,global:WB,isContextDefined:jB,ALPHABET:KB,generateString:ute,isSpecCompliantForm:cte,toJSONObject:fte,isAsyncFn:hte,isThenable:dte};function dt(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}ye.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const YB=dt.prototype,JB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{JB[t]={value:t}});Object.defineProperties(dt,JB);Object.defineProperty(YB,"isAxiosError",{value:!0});dt.from=(t,e,r,n,i,a)=>{const o=Object.create(YB);return ye.toFlatObject(t,o,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),dt.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const pte=null;function ny(t){return ye.isPlainObject(t)||ye.isArray(t)}function ZB(t){return ye.endsWith(t,"[]")?t.slice(0,-2):t}function MA(t,e,r){return t?t.concat(e).map(function(i,a){return i=ZB(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function mte(t){return ye.isArray(t)&&!t.some(ny)}const gte=ye.toFlatObject(ye,{},null,function(e){return/^is[A-Z]/.test(e)});function Nm(t,e,r){if(!ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ye.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,v){return!ye.isUndefined(v[m])});const n=r.metaTokens,i=r.visitor||c,a=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(ye.isDate(p))return p.toISOString();if(!l&&ye.isBlob(p))throw new dt("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(p)||ye.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,m,v){let g=p;if(p&&!v&&typeof p=="object"){if(ye.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(ye.isArray(p)&&mte(p)||(ye.isFileList(p)||ye.endsWith(m,"[]"))&&(g=ye.toArray(p)))return m=ZB(m),g.forEach(function(y,w){!(ye.isUndefined(y)||y===null)&&e.append(o===!0?MA([m],w,a):o===null?m:m+"[]",u(y))}),!1}return ny(p)?!0:(e.append(MA(v,m,a),u(p)),!1)}const f=[],h=Object.assign(gte,{defaultVisitor:c,convertValue:u,isVisitable:ny});function d(p,m){if(!ye.isUndefined(p)){if(f.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(p),ye.forEach(p,function(g,b){(!(ye.isUndefined(g)||g===null)&&i.call(e,g,ye.isString(b)?b.trim():b,m,h))===!0&&d(g,m?m.concat(b):[b])}),f.pop()}}if(!ye.isObject(t))throw new TypeError("data must be an object");return d(t),e}function TA(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Hx(t,e){this._pairs=[],t&&Nm(t,this,e)}const XB=Hx.prototype;XB.append=function(e,r){this._pairs.push([e,r])};XB.toString=function(e){const r=e?function(n){return e.call(this,n,TA)}:TA;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function vte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QB(t,e,r){if(!e)return t;const n=r&&r.encode||vte,i=r&&r.serialize;let a;if(i?a=i(e,r):a=ye.isURLSearchParams(e)?e.toString():new Hx(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class yte{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ye.forEach(this.handlers,function(n){n!==null&&e(n)})}}const kA=yte,eF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xte=typeof URLSearchParams<"u"?URLSearchParams:Hx,bte=typeof FormData<"u"?FormData:null,wte=typeof Blob<"u"?Blob:null,Ste=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Cte=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ki={isBrowser:!0,classes:{URLSearchParams:xte,FormData:bte,Blob:wte},isStandardBrowserEnv:Ste,isStandardBrowserWebWorkerEnv:Cte,protocols:["http","https","file","blob","url","data"]};function Dte(t,e){return Nm(t,new Ki.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,a){return Ki.isNode&&ye.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function Ate(t){return ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ete(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function tF(t){function e(r,n,i,a){let o=r[a++];const s=Number.isFinite(+o),l=a>=r.length;return o=!o&&ye.isArray(i)?i.length:o,l?(ye.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):((!i[o]||!ye.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],a)&&ye.isArray(i[o])&&(i[o]=Ete(i[o])),!s)}if(ye.isFormData(t)&&ye.isFunction(t.entries)){const r={};return ye.forEachEntry(t,(n,i)=>{e(Ate(n),i,r,0)}),r}return null}const Nte={"Content-Type":void 0};function Mte(t,e,r){if(ye.isString(t))try{return(e||JSON.parse)(t),ye.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Mm={transitional:eF,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=ye.isObject(e);if(a&&ye.isHTMLForm(e)&&(e=new FormData(e)),ye.isFormData(e))return i&&i?JSON.stringify(tF(e)):e;if(ye.isArrayBuffer(e)||ye.isBuffer(e)||ye.isStream(e)||ye.isFile(e)||ye.isBlob(e))return e;if(ye.isArrayBufferView(e))return e.buffer;if(ye.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Dte(e,this.formSerializer).toString();if((s=ye.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Nm(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Mte(e)):e}],transformResponse:[function(e){const r=this.transitional||Mm.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&ye.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?dt.from(s,dt.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ki.classes.FormData,Blob:Ki.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ye.forEach(["delete","get","head"],function(e){Mm.headers[e]={}});ye.forEach(["post","put","patch"],function(e){Mm.headers[e]=ye.merge(Nte)});const Vx=Mm,Tte=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kte=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Tte[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},OA=Symbol("internals");function Fu(t){return t&&String(t).trim().toLowerCase()}function id(t){return t===!1||t==null?t:ye.isArray(t)?t.map(id):String(t)}function Ote(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Bte=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ov(t,e,r,n,i){if(ye.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!ye.isString(e)){if(ye.isString(n))return e.indexOf(n)!==-1;if(ye.isRegExp(n))return n.test(e)}}function Fte(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function $te(t,e){const r=ye.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,o){return this[n].call(this,e,i,a,o)},configurable:!0})})}class Tm{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(s,l,u){const c=Fu(l);if(!c)throw new Error("header name must be a non-empty string");const f=ye.findKey(i,c);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=id(s))}const o=(s,l)=>ye.forEach(s,(u,c)=>a(u,c,l));return ye.isPlainObject(e)||e instanceof this.constructor?o(e,r):ye.isString(e)&&(e=e.trim())&&!Bte(e)?o(kte(e),r):e!=null&&a(r,e,n),this}get(e,r){if(e=Fu(e),e){const n=ye.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Ote(i);if(ye.isFunction(r))return r.call(this,i,n);if(ye.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Fu(e),e){const n=ye.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||ov(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(o){if(o=Fu(o),o){const s=ye.findKey(n,o);s&&(!r||ov(n,n[s],s,r))&&(delete n[s],i=!0)}}return ye.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||ov(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return ye.forEach(this,(i,a)=>{const o=ye.findKey(n,a);if(o){r[o]=id(i),delete r[a];return}const s=e?Fte(a):String(a).trim();s!==a&&delete r[a],r[s]=id(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ye.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&ye.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[OA]=this[OA]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Fu(o);n[s]||($te(i,o),n[s]=!0)}return ye.isArray(e)?e.forEach(a):a(e),this}}Tm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.freezeMethods(Tm.prototype);ye.freezeMethods(Tm);const Ea=Tm;function sv(t,e){const r=this||Vx,n=e||r,i=Ea.from(n.headers);let a=n.data;return ye.forEach(t,function(s){a=s.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function rF(t){return!!(t&&t.__CANCEL__)}function mf(t,e,r){dt.call(this,t??"canceled",dt.ERR_CANCELED,e,r),this.name="CanceledError"}ye.inherits(mf,dt,{__CANCEL__:!0});function Rte(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new dt("Request failed with status code "+r.status,[dt.ERR_BAD_REQUEST,dt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const Pte=Ki.isStandardBrowserEnv?function(){return{write:function(r,n,i,a,o,s){const l=[];l.push(r+"="+encodeURIComponent(n)),ye.isNumber(i)&&l.push("expires="+new Date(i).toGMTString()),ye.isString(a)&&l.push("path="+a),ye.isString(o)&&l.push("domain="+o),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ite(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Lte(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function nF(t,e){return t&&!Ite(e)?Lte(t,e):e}const _te=Ki.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(a){let o=a;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const s=ye.isString(o)?i(o):o;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function zte(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ute(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[a];o||(o=u),r[i]=l,n[i]=u;let f=a,h=0;for(;f!==i;)h+=r[f++],f=f%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),u-o<e)return;const d=c&&u-c;return d?Math.round(h*1e3/d):void 0}}function BA(t,e){let r=0;const n=Ute(50,250);return i=>{const a=i.loaded,o=i.lengthComputable?i.total:void 0,s=a-r,l=n(s),u=a<=o;r=a;const c={loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:l||void 0,estimated:l&&o&&u?(o-a)/l:void 0,event:i};c[e?"download":"upload"]=!0,t(c)}}const qte=typeof XMLHttpRequest<"u",Hte=qte&&function(t){return new Promise(function(r,n){let i=t.data;const a=Ea.from(t.headers).normalize(),o=t.responseType;let s;function l(){t.cancelToken&&t.cancelToken.unsubscribe(s),t.signal&&t.signal.removeEventListener("abort",s)}ye.isFormData(i)&&(Ki.isStandardBrowserEnv||Ki.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const d=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(d+":"+p))}const c=nF(t.baseURL,t.url);u.open(t.method.toUpperCase(),QB(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function f(){if(!u)return;const d=Ea.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:d,config:t,request:u};Rte(function(g){r(g),l()},function(g){n(g),l()},m),u=null}if("onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(f)},u.onabort=function(){u&&(n(new dt("Request aborted",dt.ECONNABORTED,t,u)),u=null)},u.onerror=function(){n(new dt("Network Error",dt.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const m=t.transitional||eF;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),n(new dt(p,m.clarifyTimeoutError?dt.ETIMEDOUT:dt.ECONNABORTED,t,u)),u=null},Ki.isStandardBrowserEnv){const d=(t.withCredentials||_te(c))&&t.xsrfCookieName&&Pte.read(t.xsrfCookieName);d&&a.set(t.xsrfHeaderName,d)}i===void 0&&a.setContentType(null),"setRequestHeader"in u&&ye.forEach(a.toJSON(),function(p,m){u.setRequestHeader(m,p)}),ye.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",BA(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",BA(t.onUploadProgress)),(t.cancelToken||t.signal)&&(s=d=>{u&&(n(!d||d.type?new mf(null,t,u):d),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(s),t.signal&&(t.signal.aborted?s():t.signal.addEventListener("abort",s)));const h=zte(c);if(h&&Ki.protocols.indexOf(h)===-1){n(new dt("Unsupported protocol "+h+":",dt.ERR_BAD_REQUEST,t));return}u.send(i||null)})},ad={http:pte,xhr:Hte};ye.forEach(ad,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Vte={getAdapter:t=>{t=ye.isArray(t)?t:[t];const{length:e}=t;let r,n;for(let i=0;i<e&&(r=t[i],!(n=ye.isString(r)?ad[r.toLowerCase()]:r));i++);if(!n)throw n===!1?new dt(`Adapter ${r} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ye.hasOwnProp(ad,r)?`Adapter '${r}' is not available in the build`:`Unknown adapter '${r}'`);if(!ye.isFunction(n))throw new TypeError("adapter is not a function");return n},adapters:ad};function lv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mf(null,t)}function FA(t){return lv(t),t.headers=Ea.from(t.headers),t.data=sv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Vte.getAdapter(t.adapter||Vx.adapter)(t).then(function(n){return lv(t),n.data=sv.call(t,t.transformResponse,n),n.headers=Ea.from(n.headers),n},function(n){return rF(n)||(lv(t),n&&n.response&&(n.response.data=sv.call(t,t.transformResponse,n.response),n.response.headers=Ea.from(n.response.headers))),Promise.reject(n)})}const $A=t=>t instanceof Ea?t.toJSON():t;function Wl(t,e){e=e||{};const r={};function n(u,c,f){return ye.isPlainObject(u)&&ye.isPlainObject(c)?ye.merge.call({caseless:f},u,c):ye.isPlainObject(c)?ye.merge({},c):ye.isArray(c)?c.slice():c}function i(u,c,f){if(ye.isUndefined(c)){if(!ye.isUndefined(u))return n(void 0,u,f)}else return n(u,c,f)}function a(u,c){if(!ye.isUndefined(c))return n(void 0,c)}function o(u,c){if(ye.isUndefined(c)){if(!ye.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function s(u,c,f){if(f in e)return n(u,c);if(f in t)return n(void 0,u)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(u,c)=>i($A(u),$A(c),!0)};return ye.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||i,h=f(t[c],e[c],c);ye.isUndefined(h)&&f!==s||(r[c]=h)}),r}const iF="1.4.0",Wx={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wx[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const RA={};Wx.transitional=function(e,r,n){function i(a,o){return"[Axios v"+iF+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,s)=>{if(e===!1)throw new dt(i(o," has been removed"+(r?" in "+r:"")),dt.ERR_DEPRECATED);return r&&!RA[o]&&(RA[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,s):!0}};function Wte(t,e,r){if(typeof t!="object")throw new dt("options must be an object",dt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],o=e[a];if(o){const s=t[a],l=s===void 0||o(s,a,t);if(l!==!0)throw new dt("option "+a+" must be "+l,dt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new dt("Unknown option "+a,dt.ERR_BAD_OPTION)}}const iy={assertOptions:Wte,validators:Wx},ja=iy.validators;class pp{constructor(e){this.defaults=e,this.interceptors={request:new kA,response:new kA}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Wl(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&iy.assertOptions(n,{silentJSONParsing:ja.transitional(ja.boolean),forcedJSONParsing:ja.transitional(ja.boolean),clarifyTimeoutError:ja.transitional(ja.boolean)},!1),i!=null&&(ye.isFunction(i)?r.paramsSerializer={serialize:i}:iy.assertOptions(i,{encode:ja.function,serialize:ja.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o;o=a&&ye.merge(a.common,a[r.method]),o&&ye.forEach(["delete","get","head","post","put","patch","common"],p=>{delete a[p]}),r.headers=Ea.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,s.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let c,f=0,h;if(!l){const p=[FA.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,u),h=p.length,c=Promise.resolve(r);f<h;)c=c.then(p[f++],p[f++]);return c}h=s.length;let d=r;for(f=0;f<h;){const p=s[f++],m=s[f++];try{d=p(d)}catch(v){m.call(this,v);break}}try{c=FA.call(this,d)}catch(p){return Promise.reject(p)}for(f=0,h=u.length;f<h;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=Wl(this.defaults,e);const r=nF(e.baseURL,e.url);return QB(r,e.params,e.paramsSerializer)}}ye.forEach(["delete","get","head","options"],function(e){pp.prototype[e]=function(r,n){return this.request(Wl(n||{},{method:e,url:r,data:(n||{}).data}))}});ye.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,s){return this.request(Wl(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}pp.prototype[e]=r(),pp.prototype[e+"Form"]=r(!0)});const od=pp;class jx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{n.subscribe(s),a=s}).then(i);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,s){n.reason||(n.reason=new mf(a,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new jx(function(i){e=i}),cancel:e}}}const jte=jx;function Gte(t){return function(r){return t.apply(null,r)}}function Kte(t){return ye.isObject(t)&&t.isAxiosError===!0}const ay={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ay).forEach(([t,e])=>{ay[e]=t});const Yte=ay;function aF(t){const e=new od(t),r=UB(od.prototype.request,e);return ye.extend(r,od.prototype,e,{allOwnKeys:!0}),ye.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return aF(Wl(t,i))},r}const vr=aF(Vx);vr.Axios=od;vr.CanceledError=mf;vr.CancelToken=jte;vr.isCancel=rF;vr.VERSION=iF;vr.toFormData=Nm;vr.AxiosError=dt;vr.Cancel=vr.CanceledError;vr.all=function(e){return Promise.all(e)};vr.spread=Gte;vr.isAxiosError=Kte;vr.mergeConfig=Wl;vr.AxiosHeaders=Ea;vr.formToJSON=t=>tF(ye.isHTMLForm(t)?new FormData(t):t);vr.HttpStatusCode=Yte;vr.default=vr;const Jte=vr,Zte=async()=>(await Jte.get("https://api.exchangerate.host/latest?base=USD"))?.data??{base:"USD",rates:{USD:1}},Xte="AED|AFN|ALL|AMD|ANG|AOA|ARS|AUD|AWG|AZN|BAM|BBD|BDT|BGN|BHD|BIF|BMD|BND|BOB|BRL|BSD|BTC|BTN|BWP|BYN|BZD|CAD|CDF|CHF|CLF|CLP|CNH|CNY|COP|CRC|CUC|CUP|CVE|CZK|DJF|DKK|DOP|DZD|EGP|ERN|ETB|EUR|FJD|FKP|GBP|GEL|GGP|GHS|GIP|GMD|GNF|GTQ|GYD|HKD|HNL|HRK|HTG|HUF|IDR|ILS|IMP|INR|IQD|IRR|ISK|JEP|JMD|JOD|JPY|KES|KGS|KHR|KMF|KPW|KRW|KWD|KYD|KZT|LAK|LBP|LKR|LRD|LSL|LYD|MAD|MDL|MGA|MKD|MMK|MNT|MOP|MRU|MUR|MVR|MWK|MXN|MYR|MZN|NAD|NGN|NIO|NOK|NPR|NZD|OMR|PAB|PEN|PGK|PHP|PKR|PLN|PYG|QAR|RON|RSD|RUB|RWF|SAR|SBD|SCR|SDG|SEK|SGD|SHP|SLL|SOS|SRD|SSP|STD|STN|SVC|SYP|SZL|THB|TJS|TMT|TND|TOP|TRY|TTD|TWD|TZS|UAH|UGX|USD|UYU|UZS|VES|VND|VUV|WST|XAF|XAG|XAU|XCD|XDR|XOF|XPD|XPF|XPT|YER|ZAR|ZMW|ZWL".split("|"),oF={usd:"$",gbp:"£",eur:"€",jpy:"¥",rub:"₽",cny:"¥"},Qte=async()=>{const t=await Zte(),r=zB(Tee,{epsilon:1e-60,number:"BigNumber",precision:64}),n=r.factory("add",["typed"],({typed:s})=>s("add",{"Date, Unit":function(l,u){return new Date(l.getTime()+u.toNumber("ms"))},"Unit, Date":function(l,u){return new Date(l.toNumber("ms")+u.getTime())}})),i=r.factory("subtract",["typed"],({typed:s})=>s("subtract",{"Date, Unit":function(l,u){return new Date(l.getTime()-u.toNumber("ms"))},"Date, Date":function(l,u){return r.unit(l.getTime()-u.getTime(),"ms").to("s")}}));r.import([n,i],{}),r.import({date:PA,epoch:PA},{}),r.createUnit("tps"),r.createUnit("pixel",{aliases:["pixels","px"],definition:r.evaluate("1 inch/96")}),r.createUnit("point",{aliases:["points","pt"],definition:r.evaluate("1 px/0.75")},{override:!0}),r.createUnit("em",{aliases:["rem"],definition:"16 px"}),r.createUnit("mph",{definition:"1 miles/hour"}),r.createUnit("kph",{definition:"1 kilometers/hour"}),r.import({hexToChar:rre,charToHex:nre},{}),r.createUnit(t.base,{aliases:[t.base.toLowerCase()]});const a=["cup"];let o=1;return Object.keys(t.rates).filter(s=>s!==t.base).forEach(s=>{r.createUnit(s,{definition:r.unit(`${1/t.rates[s]}${t.base}`),aliases:[a.includes(s.toLowerCase())?"":s.toLowerCase()]}),o+=1}),console.log("Loaded definitions for %d currencies.",o),r.createUnit("penny",{aliases:["pennies","¢","cent","cents"],definition:r.evaluate("0.01 USD")}),r.createUnit("nickel",{aliases:["nickels"],definition:r.evaluate("0.05 USD")}),r.createUnit("dime",{aliases:["dimes"],definition:r.evaluate("0.1 USD")}),r.createUnit("quarter",{aliases:["quarters"],definition:r.evaluate("0.25 USD")}),r};function ere(){let t=uv();t.setDate(t.getDate()-1);let e=uv();e.setDate(e.getDate()+1);const r=new Date;return{today:uv(),now:r,time:r,yesterday:t,tomorrow:e}}function uv(){let t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t}function PA(t){let e=t.toString();return tre(e)?(e.length<12&&(e+="000"),new Date(Number(e))):new Date(e)}function tre(t){return t!=null&&t!==""&&!isNaN(Number(t.toString()))}function rre(t){const e=t.match(/.{1,4}/g)||[];var r="";for(var n of e)r+=String.fromCharCode(parseInt(n,16));return r}function nre(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r).toString(16);e+=`000${n}`.slice(-4)}return e.toUpperCase()}const sF=J.createContext(_T),ire=({children:t})=>{const[e,r]=J.useReducer(n8,_T);J.useEffect(()=>{Qte().then(s=>{r({type:"SET_MATH",payload:{math:s}})})},[]);const n=s=>{r({type:"SET_DOC",payload:{doc:s}})},i=s=>{r({type:"SET_LINES",payload:{lines:s}})},a=s=>{r({type:"SET_RESULTS",payload:{results:s}})},o={math:e.math,doc:e.doc,lines:e.lines,results:e.results,setDoc:n,setLines:i,setResults:a};return Te(sF.Provider,{value:o,children:t})},gf=()=>{const t=J.useContext(sF);if(t===void 0)throw new Error("useCalc must be used within CalcContext");return t};function kt(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}class bt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,r,n){let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(r,this.length,i,1),Wi.from(i,this.length-(r-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,r=this.length){let n=[];return this.decompose(e,r,n,0),Wi.from(n,r-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let r=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new cc(this),a=new cc(e);for(let o=r,s=r;;){if(i.next(o),a.next(o),o=0,i.lineBreak!=a.lineBreak||i.done!=a.done||i.value!=a.value)return!1;if(s+=i.value.length,i.done||s>=n)return!0}}iter(e=1){return new cc(this,e)}iterRange(e,r=this.length){return new lF(this,e,r)}iterLines(e,r){let n;if(e==null)n=this.iter();else{r==null&&(r=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,r==this.lines+1?this.length:r<=1?0:this.line(r-1).to))}return new uF(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?bt.empty:e.length<=32?new tr(e):Wi.from(tr.split(e,[]))}}class tr extends bt{constructor(e,r=are(e)){super(),this.text=e,this.length=r}get lines(){return this.text.length}get children(){return null}lineInner(e,r,n,i){for(let a=0;;a++){let o=this.text[a],s=i+o.length;if((r?n:s)>=e)return new ore(i,s,n,o);i=s+1,n++}}decompose(e,r,n,i){let a=e<=0&&r>=this.length?this:new tr(IA(this.text,e,r),Math.min(r,this.length)-Math.max(0,e));if(i&1){let o=n.pop(),s=sd(a.text,o.text.slice(),0,a.length);if(s.length<=32)n.push(new tr(s,o.length+a.length));else{let l=s.length>>1;n.push(new tr(s.slice(0,l)),new tr(s.slice(l)))}}else n.push(a)}replace(e,r,n){if(!(n instanceof tr))return super.replace(e,r,n);let i=sd(this.text,sd(n.text,IA(this.text,0,e)),r),a=this.length+n.length-(r-e);return i.length<=32?new tr(i,a):Wi.from(tr.split(i,[]),a)}sliceString(e,r=this.length,n=`
`){let i="";for(let a=0,o=0;a<=r&&o<this.text.length;o++){let s=this.text[o],l=a+s.length;a>e&&o&&(i+=n),e<l&&r>a&&(i+=s.slice(Math.max(0,e-a),r-a)),a=l+1}return i}flatten(e){for(let r of this.text)e.push(r)}scanIdentical(){return 0}static split(e,r){let n=[],i=-1;for(let a of e)n.push(a),i+=a.length+1,n.length==32&&(r.push(new tr(n,i)),n=[],i=-1);return i>-1&&r.push(new tr(n,i)),r}}class Wi extends bt{constructor(e,r){super(),this.children=e,this.length=r,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,r,n,i){for(let a=0;;a++){let o=this.children[a],s=i+o.length,l=n+o.lines-1;if((r?l:s)>=e)return o.lineInner(e,r,n,i);i=s+1,n=l+1}}decompose(e,r,n,i){for(let a=0,o=0;o<=r&&a<this.children.length;a++){let s=this.children[a],l=o+s.length;if(e<=l&&r>=o){let u=i&((o<=e?1:0)|(l>=r?2:0));o>=e&&l<=r&&!u?n.push(s):s.decompose(e-o,r-o,n,u)}o=l+1}}replace(e,r,n){if(n.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let o=this.children[i],s=a+o.length;if(e>=a&&r<=s){let l=o.replace(e-a,r-a,n),u=this.lines-o.lines+l.lines;if(l.lines<u>>5-1&&l.lines>u>>5+1){let c=this.children.slice();return c[i]=l,new Wi(c,this.length-(r-e)+n.length)}return super.replace(a,s,l)}a=s+1}return super.replace(e,r,n)}sliceString(e,r=this.length,n=`
`){let i="";for(let a=0,o=0;a<this.children.length&&o<=r;a++){let s=this.children[a],l=o+s.length;o>e&&a&&(i+=n),e<l&&r>o&&(i+=s.sliceString(e-o,r-o,n)),o=l+1}return i}flatten(e){for(let r of this.children)r.flatten(e)}scanIdentical(e,r){if(!(e instanceof Wi))return 0;let n=0,[i,a,o,s]=r>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=r,a+=r){if(i==o||a==s)return n;let l=this.children[i],u=e.children[a];if(l!=u)return n+l.scanIdentical(u,r);n+=l.length+1}}static from(e,r=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let d of e)n+=d.lines;if(n<32){let d=[];for(let p of e)p.flatten(d);return new tr(d,r)}let i=Math.max(32,n>>5),a=i<<1,o=i>>1,s=[],l=0,u=-1,c=[];function f(d){let p;if(d.lines>a&&d instanceof Wi)for(let m of d.children)f(m);else d.lines>o&&(l>o||!l)?(h(),s.push(d)):d instanceof tr&&l&&(p=c[c.length-1])instanceof tr&&d.lines+p.lines<=32?(l+=d.lines,u+=d.length+1,c[c.length-1]=new tr(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>i&&h(),l+=d.lines,u+=d.length+1,c.push(d))}function h(){l!=0&&(s.push(c.length==1?c[0]:Wi.from(c,u)),u=-1,l=c.length=0)}for(let d of e)f(d);return h(),s.length==1?s[0]:new Wi(s,r)}}bt.empty=new tr([""],0);function are(t){let e=-1;for(let r of t)e+=r.length+1;return e}function sd(t,e,r=0,n=1e9){for(let i=0,a=0,o=!0;a<t.length&&i<=n;a++){let s=t[a],l=i+s.length;l>=r&&(l>n&&(s=s.slice(0,n-i)),i<r&&(s=s.slice(r-i)),o?(e[e.length-1]+=s,o=!1):e.push(s)),i=l+1}return e}function IA(t,e,r){return sd(t,[""],e,r)}class cc{constructor(e,r=1){this.dir=r,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[r>0?1:(e instanceof tr?e.text.length:e.children.length)<<1]}nextInner(e,r){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],a=this.offsets[n],o=a>>1,s=i instanceof tr?i.text.length:i.children.length;if(o==(r>0?s:0)){if(n==0)return this.done=!0,this.value="",this;r>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(r>0?0:1)){if(this.offsets[n]+=r,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof tr){let l=i.text[o+(r<0?-1:0)];if(this.offsets[n]+=r,l.length>Math.max(0,e))return this.value=e==0?l:r>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(r<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=r):(r<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(r>0?1:(l instanceof tr?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class lF{constructor(e,r,n){this.value="",this.done=!1,this.cursor=new cc(e,r>n?-1:1),this.pos=r>n?e.length:0,this.from=Math.min(r,n),this.to=Math.max(r,n)}nextInner(e,r){if(r<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,r<0?this.pos-this.to:this.from-this.pos);let n=r<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*r,this.value=i.length<=n?i:r<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class uF{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:r,lineBreak:n,value:i}=this.inner.next(e);return r?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(bt.prototype[Symbol.iterator]=function(){return this.iter()},cc.prototype[Symbol.iterator]=lF.prototype[Symbol.iterator]=uF.prototype[Symbol.iterator]=function(){return this});class ore{constructor(e,r,n,i){this.from=e,this.to=r,this.number=n,this.text=i}get length(){return this.to-this.from}}let Cl="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Cl.length;t++)Cl[t]+=Cl[t-1];function sre(t){for(let e=1;e<Cl.length;e+=2)if(Cl[e]>t)return Cl[e-1]<=t;return!1}function LA(t){return t>=127462&&t<=127487}const _A=8205;function rn(t,e,r=!0,n=!0){return(r?cF:lre)(t,e,n)}function cF(t,e,r){if(e==t.length)return e;e&&fF(t.charCodeAt(e))&&hF(t.charCodeAt(e-1))&&e--;let n=Tr(t,e);for(e+=Xn(n);e<t.length;){let i=Tr(t,e);if(n==_A||i==_A||r&&sre(i))e+=Xn(i),n=i;else if(LA(i)){let a=0,o=e-2;for(;o>=0&&LA(Tr(t,o));)a++,o-=2;if(a%2==0)break;e+=2}else break}return e}function lre(t,e,r){for(;e>0;){let n=cF(t,e-2,r);if(n<e)return n;e--}return 0}function fF(t){return t>=56320&&t<57344}function hF(t){return t>=55296&&t<56320}function Tr(t,e){let r=t.charCodeAt(e);if(!hF(r)||e+1==t.length)return r;let n=t.charCodeAt(e+1);return fF(n)?(r-55296<<10)+(n-56320)+65536:r}function Gx(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Xn(t){return t<65536?1:2}const oy=/\r\n?|\n/;var tn=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(tn||(tn={}));class Qi{constructor(e){this.sections=e}get length(){let e=0;for(let r=0;r<this.sections.length;r+=2)e+=this.sections[r];return e}get newLength(){let e=0;for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r+1];e+=n<0?this.sections[r]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let r=0,n=0,i=0;r<this.sections.length;){let a=this.sections[r++],o=this.sections[r++];o<0?(e(n,i,a),i+=a):i+=o,n+=a}}iterChangedRanges(e,r=!1){sy(this,e,r)}get invertedDesc(){let e=[];for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];i<0?e.push(n,i):e.push(i,n)}return new Qi(e)}composeDesc(e){return this.empty?e:e.empty?this:dF(this,e)}mapDesc(e,r=!1){return e.empty?this:ly(this,e,r)}mapPos(e,r=-1,n=tn.Simple){let i=0,a=0;for(let o=0;o<this.sections.length;){let s=this.sections[o++],l=this.sections[o++],u=i+s;if(l<0){if(u>e)return a+(e-i);a+=s}else{if(n!=tn.Simple&&u>=e&&(n==tn.TrackDel&&i<e&&u>e||n==tn.TrackBefore&&i<e||n==tn.TrackAfter&&u>e))return null;if(u>e||u==e&&r<0&&!s)return e==i||r<0?a:a+l;a+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return a}touchesRange(e,r=e){for(let n=0,i=0;n<this.sections.length&&i<=r;){let a=this.sections[n++],o=this.sections[n++],s=i+a;if(o>=0&&i<=r&&s>=e)return i<e&&s>r?"cover":!0;i=s}return!1}toString(){let e="";for(let r=0;r<this.sections.length;){let n=this.sections[r++],i=this.sections[r++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(r=>typeof r!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Qi(e)}static create(e){return new Qi(e)}}class hr extends Qi{constructor(e,r){super(e),this.inserted=r}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return sy(this,(r,n,i,a,o)=>e=e.replace(i,i+(n-r),o),!1),e}mapDesc(e,r=!1){return ly(this,e,r,!0)}invert(e){let r=this.sections.slice(),n=[];for(let i=0,a=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s>=0){r[i]=s,r[i+1]=o;let l=i>>1;for(;n.length<l;)n.push(bt.empty);n.push(o?e.slice(a,a+o):bt.empty)}a+=o}return new hr(r,n)}compose(e){return this.empty?e:e.empty?this:dF(this,e,!0)}map(e,r=!1){return e.empty?this:ly(this,e,r,!0)}iterChanges(e,r=!1){sy(this,e,r)}get desc(){return Qi.create(this.sections)}filter(e){let r=[],n=[],i=[],a=new zc(this);e:for(let o=0,s=0;;){let l=o==e.length?1e9:e[o++];for(;s<l||s==l&&a.len==0;){if(a.done)break e;let c=Math.min(a.len,l-s);jr(i,c,-1);let f=a.ins==-1?-1:a.off==0?a.ins:0;jr(r,c,f),f>0&&lo(n,r,a.text),a.forward(c),s+=c}let u=e[o++];for(;s<u;){if(a.done)break e;let c=Math.min(a.len,u-s);jr(r,c,-1),jr(i,c,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(c),s+=c}}return{changes:new hr(r,n),filtered:Qi.create(i)}}toJSON(){let e=[];for(let r=0;r<this.sections.length;r+=2){let n=this.sections[r],i=this.sections[r+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[r>>1].toJSON()))}return e}static of(e,r,n){let i=[],a=[],o=0,s=null;function l(c=!1){if(!c&&!i.length)return;o<r&&jr(i,r-o,-1);let f=new hr(i,a);s=s?s.compose(f.map(s)):f,i=[],a=[],o=0}function u(c){if(Array.isArray(c))for(let f of c)u(f);else if(c instanceof hr){if(c.length!=r)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${r})`);l(),s=s?s.compose(c.map(s)):c}else{let{from:f,to:h=f,insert:d}=c;if(f>h||f<0||h>r)throw new RangeError(`Invalid change range ${f} to ${h} (in doc of length ${r})`);let p=d?typeof d=="string"?bt.of(d.split(n||oy)):d:bt.empty,m=p.length;if(f==h&&m==0)return;f<o&&l(),f>o&&jr(i,f-o,-1),jr(i,h-f,m),lo(a,i,p),o=h}}return u(e),l(!s),s}static empty(e){return new hr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let r=[],n=[];for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")r.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((o,s)=>s&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)r.push(a[0],0);else{for(;n.length<i;)n.push(bt.empty);n[i]=bt.of(a.slice(1)),r.push(a[0],n[i].length)}}}return new hr(r,n)}static createSet(e,r){return new hr(e,r)}}function jr(t,e,r,n=!1){if(e==0&&r<=0)return;let i=t.length-2;i>=0&&r<=0&&r==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=r:n?(t[i]+=e,t[i+1]+=r):t.push(e,r)}function lo(t,e,r){if(r.length==0)return;let n=e.length-2>>1;if(n<t.length)t[t.length-1]=t[t.length-1].append(r);else{for(;t.length<n;)t.push(bt.empty);t.push(r)}}function sy(t,e,r){let n=t.inserted;for(let i=0,a=0,o=0;o<t.sections.length;){let s=t.sections[o++],l=t.sections[o++];if(l<0)i+=s,a+=s;else{let u=i,c=a,f=bt.empty;for(;u+=s,c+=l,l&&n&&(f=f.append(n[o-2>>1])),!(r||o==t.sections.length||t.sections[o+1]<0);)s=t.sections[o++],l=t.sections[o++];e(i,u,a,c,f),i=u,a=c}}}function ly(t,e,r,n=!1){let i=[],a=n?[]:null,o=new zc(t),s=new zc(e);for(let l=-1;;)if(o.ins==-1&&s.ins==-1){let u=Math.min(o.len,s.len);jr(i,u,-1),o.forward(u),s.forward(u)}else if(s.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(s.len<o.len||s.len==o.len&&!r))){let u=s.len;for(jr(i,s.ins,-1);u;){let c=Math.min(o.len,u);o.ins>=0&&l<o.i&&o.len<=c&&(jr(i,0,o.ins),a&&lo(a,i,o.text),l=o.i),o.forward(c),u-=c}s.next()}else if(o.ins>=0){let u=0,c=o.len;for(;c;)if(s.ins==-1){let f=Math.min(c,s.len);u+=f,c-=f,s.forward(f)}else if(s.ins==0&&s.len<c)c-=s.len,s.next();else break;jr(i,u,l<o.i?o.ins:0),a&&l<o.i&&lo(a,i,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&s.done)return a?hr.createSet(i,a):Qi.create(i);throw new Error("Mismatched change set lengths")}}function dF(t,e,r=!1){let n=[],i=r?[]:null,a=new zc(t),o=new zc(e);for(let s=!1;;){if(a.done&&o.done)return i?hr.createSet(n,i):Qi.create(n);if(a.ins==0)jr(n,a.len,0,s),a.next();else if(o.len==0&&!o.done)jr(n,0,o.ins,s),i&&lo(i,n,o.text),o.next();else{if(a.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(a.len2,o.len),u=n.length;if(a.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;jr(n,l,c,s),i&&c&&lo(i,n,o.text)}else o.ins==-1?(jr(n,a.off?0:a.len,l,s),i&&lo(i,n,a.textBit(l))):(jr(n,a.off?0:a.len,o.off?0:o.ins,s),i&&!o.off&&lo(i,n,o.text));s=(a.ins>l||o.ins>=0&&o.len>l)&&(s||n.length>u),a.forward2(l),o.forward(l)}}}}class zc{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length?bt.empty:e[r]}textBit(e){let{inserted:r}=this.set,n=this.i-2>>1;return n>=r.length&&!e?bt.empty:r[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class as{constructor(e,r,n){this.from=e,this.to=r,this.flags=n}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,r=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,r):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new as(n,i,this.flags)}extend(e,r=e){if(e<=this.anchor&&r>=this.anchor)return be.range(e,r);let n=Math.abs(e-this.anchor)>Math.abs(r-this.anchor)?e:r;return be.range(this.anchor,n)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return be.range(e.anchor,e.head)}static create(e,r,n){return new as(e,r,n)}}class be{constructor(e,r){this.ranges=e,this.mainIndex=r}map(e,r=-1){return e.empty?this:be.create(this.ranges.map(n=>n.map(e,r)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new be([this.main],0)}addRange(e,r=!0){return be.create([e].concat(this.ranges),r?0:this.mainIndex+1)}replaceRange(e,r=this.mainIndex){let n=this.ranges.slice();return n[r]=e,be.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new be(e.ranges.map(r=>as.fromJSON(r)),e.main)}static single(e,r=e){return new be([be.range(e,r)],0)}static create(e,r=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let a=e[i];if(a.empty?a.from<=n:a.from<n)return be.normalized(e.slice(),r);n=a.to}return new be(e,r)}static cursor(e,r=0,n,i){return as.create(e,e,(r==0?0:r<0?4:8)|(n==null?3:Math.min(2,n))|(i??33554431)<<5)}static range(e,r,n,i){let a=(n??33554431)<<5|(i==null?3:Math.min(2,i));return r<e?as.create(r,e,24|a):as.create(e,r,(r>e?4:0)|a)}static normalized(e,r=0){let n=e[r];e.sort((i,a)=>i.from-a.from),r=e.indexOf(n);for(let i=1;i<e.length;i++){let a=e[i],o=e[i-1];if(a.empty?a.from<=o.to:a.from<o.to){let s=o.from,l=Math.max(a.to,o.to);i<=r&&r--,e.splice(--i,2,a.anchor>a.head?be.range(l,s):be.range(s,l))}}return new be(e,r)}}function pF(t,e){for(let r of t.ranges)if(r.to>e)throw new RangeError("Selection points outside of document")}let Kx=0;class ze{constructor(e,r,n,i,a){this.combine=e,this.compareInput=r,this.compare=n,this.isStatic=i,this.id=Kx++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}static define(e={}){return new ze(e.combine||(r=>r),e.compareInput||((r,n)=>r===n),e.compare||(e.combine?(r,n)=>r===n:Yx),!!e.static,e.enables)}of(e){return new ld([],this,0,e)}compute(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new ld(e,this,1,r)}computeN(e,r){if(this.isStatic)throw new Error("Can't compute a static facet");return new ld(e,this,2,r)}from(e,r){return r||(r=n=>n),this.compute([e],n=>r(n.field(e)))}}function Yx(t,e){return t==e||t.length==e.length&&t.every((r,n)=>r===e[n])}class ld{constructor(e,r,n,i){this.dependencies=e,this.facet=r,this.type=n,this.value=i,this.id=Kx++}dynamicSlot(e){var r;let n=this.value,i=this.facet.compareInput,a=this.id,o=e[a]>>1,s=this.type==2,l=!1,u=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:((r=e[f.id])!==null&&r!==void 0?r:1)&1||c.push(e[f.id]);return{create(f){return f.values[o]=n(f),1},update(f,h){if(l&&h.docChanged||u&&(h.docChanged||h.selection)||uy(f,c)){let d=n(f);if(s?!zA(d,f.values[o],i):!i(d,f.values[o]))return f.values[o]=d,1}return 0},reconfigure:(f,h)=>{let d,p=h.config.address[a];if(p!=null){let m=gp(h,p);if(this.dependencies.every(v=>v instanceof ze?h.facet(v)===f.facet(v):v instanceof Lr?h.field(v,!1)==f.field(v,!1):!0)||(s?zA(d=n(f),m,i):i(d=n(f),m)))return f.values[o]=m,0}else d=n(f);return f.values[o]=d,1}}}}function zA(t,e,r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1;return!0}function uy(t,e){let r=!1;for(let n of e)fc(t,n)&1&&(r=!0);return r}function ure(t,e,r){let n=r.map(l=>t[l.id]),i=r.map(l=>l.type),a=n.filter(l=>!(l&1)),o=t[e.id]>>1;function s(l){let u=[];for(let c=0;c<n.length;c++){let f=gp(l,n[c]);if(i[c]==2)for(let h of f)u.push(h);else u.push(f)}return e.combine(u)}return{create(l){for(let u of n)fc(l,u);return l.values[o]=s(l),1},update(l,u){if(!uy(l,a))return 0;let c=s(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,u){let c=uy(l,n),f=u.config.facets[e.id],h=u.facet(e);if(f&&!c&&Yx(r,f))return l.values[o]=h,0;let d=s(l);return e.compare(d,h)?(l.values[o]=h,0):(l.values[o]=d,1)}}}const UA=ze.define({static:!0});class Lr{constructor(e,r,n,i,a){this.id=e,this.createF=r,this.updateF=n,this.compareF=i,this.spec=a,this.provides=void 0}static define(e){let r=new Lr(Kx++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(r.provides=e.provide(r)),r}create(e){let r=e.facet(UA).find(n=>n.field==this);return(r?.create||this.createF)(e)}slot(e){let r=e[this.id]>>1;return{create:n=>(n.values[r]=this.create(n),1),update:(n,i)=>{let a=n.values[r],o=this.updateF(a,i);return this.compareF(a,o)?0:(n.values[r]=o,1)},reconfigure:(n,i)=>i.config.address[this.id]!=null?(n.values[r]=i.field(this),0):(n.values[r]=this.create(n),1)}}init(e){return[this,UA.of({field:this,create:e})]}get extension(){return this}}const Xo={lowest:4,low:3,default:2,high:1,highest:0};function $u(t){return e=>new mF(e,t)}const vu={highest:$u(Xo.highest),high:$u(Xo.high),default:$u(Xo.default),low:$u(Xo.low),lowest:$u(Xo.lowest)};class mF{constructor(e,r){this.inner=e,this.prec=r}}class km{of(e){return new cy(this,e)}reconfigure(e){return km.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class cy{constructor(e,r){this.compartment=e,this.inner=r}}class mp{constructor(e,r,n,i,a,o){for(this.base=e,this.compartments=r,this.dynamicSlots=n,this.address=i,this.staticValues=a,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let r=this.address[e.id];return r==null?e.default:this.staticValues[r>>1]}static resolve(e,r,n){let i=[],a=Object.create(null),o=new Map;for(let h of cre(e,r,o))h instanceof Lr?i.push(h):(a[h.facet.id]||(a[h.facet.id]=[])).push(h);let s=Object.create(null),l=[],u=[];for(let h of i)s[h.id]=u.length<<1,u.push(d=>h.slot(d));let c=n?.config.facets;for(let h in a){let d=a[h],p=d[0].facet,m=c&&c[h]||[];if(d.every(v=>v.type==0))if(s[p.id]=l.length<<1|1,Yx(m,d))l.push(n.facet(p));else{let v=p.combine(d.map(g=>g.value));l.push(n&&p.compare(v,n.facet(p))?n.facet(p):v)}else{for(let v of d)v.type==0?(s[v.id]=l.length<<1|1,l.push(v.value)):(s[v.id]=u.length<<1,u.push(g=>v.dynamicSlot(g)));s[p.id]=u.length<<1,u.push(v=>ure(v,p,d))}}let f=u.map(h=>h(s));return new mp(e,o,f,s,l,a)}}function cre(t,e,r){let n=[[],[],[],[],[]],i=new Map;function a(o,s){let l=i.get(o);if(l!=null){if(l<=s)return;let u=n[l].indexOf(o);u>-1&&n[l].splice(u,1),o instanceof cy&&r.delete(o.compartment)}if(i.set(o,s),Array.isArray(o))for(let u of o)a(u,s);else if(o instanceof cy){if(r.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;r.set(o.compartment,u),a(u,s)}else if(o instanceof mF)a(o.inner,o.prec);else if(o instanceof Lr)n[s].push(o),o.provides&&a(o.provides,s);else if(o instanceof ld)n[s].push(o),o.facet.extensions&&a(o.facet.extensions,Xo.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(u,s)}}return a(t,Xo.default),n.reduce((o,s)=>o.concat(s))}function fc(t,e){if(e&1)return 2;let r=e>>1,n=t.status[r];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;t.status[r]=4;let i=t.computeSlot(t,t.config.dynamicSlots[r]);return t.status[r]=2|i}function gp(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const gF=ze.define(),vF=ze.define({combine:t=>t.some(e=>e),static:!0}),yF=ze.define({combine:t=>t.length?t[0]:void 0,static:!0}),xF=ze.define(),bF=ze.define(),wF=ze.define(),SF=ze.define({combine:t=>t.length?t[0]:!1});class ca{constructor(e,r){this.type=e,this.value=r}static define(){return new fre}}class fre{of(e){return new ca(this,e)}}class hre{constructor(e){this.map=e}of(e){return new rt(this,e)}}class rt{constructor(e,r){this.type=e,this.value=r}map(e){let r=this.type.map(this.value,e);return r===void 0?void 0:r==this.value?this:new rt(this.type,r)}is(e){return this.type==e}static define(e={}){return new hre(e.map||(r=>r))}static mapEffects(e,r){if(!e.length)return e;let n=[];for(let i of e){let a=i.map(r);a&&n.push(a)}return n}}rt.reconfigure=rt.define();rt.appendConfig=rt.define();class gr{constructor(e,r,n,i,a,o){this.startState=e,this.changes=r,this.selection=n,this.effects=i,this.annotations=a,this.scrollIntoView=o,this._doc=null,this._state=null,n&&pF(n,r.newLength),a.some(s=>s.type==gr.time)||(this.annotations=a.concat(gr.time.of(Date.now())))}static create(e,r,n,i,a,o){return new gr(e,r,n,i,a,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let r of this.annotations)if(r.type==e)return r.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let r=this.annotation(gr.userEvent);return!!(r&&(r==e||r.length>e.length&&r.slice(0,e.length)==e&&r[e.length]=="."))}}gr.time=ca.define();gr.userEvent=ca.define();gr.addToHistory=ca.define();gr.remote=ca.define();function dre(t,e){let r=[];for(let n=0,i=0;;){let a,o;if(n<t.length&&(i==e.length||e[i]>=t[n]))a=t[n++],o=t[n++];else if(i<e.length)a=e[i++],o=e[i++];else return r;!r.length||r[r.length-1]<a?r.push(a,o):r[r.length-1]<o&&(r[r.length-1]=o)}}function CF(t,e,r){var n;let i,a,o;return r?(i=e.changes,a=hr.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),a=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(a):(n=t.selection)===null||n===void 0?void 0:n.map(i),effects:rt.mapEffects(t.effects,i).concat(rt.mapEffects(e.effects,a)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function fy(t,e,r){let n=e.selection,i=Dl(e.annotations);return e.userEvent&&(i=i.concat(gr.userEvent.of(e.userEvent))),{changes:e.changes instanceof hr?e.changes:hr.of(e.changes||[],r,t.facet(yF)),selection:n&&(n instanceof be?n:be.single(n.anchor,n.head)),effects:Dl(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function DF(t,e,r){let n=fy(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(r=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(r=!1);let o=!!e[a].sequential;n=CF(n,fy(t,e[a],o?n.changes.newLength:t.doc.length),o)}let i=gr.create(t,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return mre(r?pre(i):i)}function pre(t){let e=t.startState,r=!0;for(let i of e.facet(xF)){let a=i(t);if(a===!1){r=!1;break}Array.isArray(a)&&(r=r===!0?a:dre(r,a))}if(r!==!0){let i,a;if(r===!1)a=t.changes.invertedDesc,i=hr.empty(e.doc.length);else{let o=t.changes.filter(r);i=o.changes,a=o.filtered.mapDesc(o.changes).invertedDesc}t=gr.create(e,i,t.selection&&t.selection.map(a),rt.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}let n=e.facet(bF);for(let i=n.length-1;i>=0;i--){let a=n[i](t);a instanceof gr?t=a:Array.isArray(a)&&a.length==1&&a[0]instanceof gr?t=a[0]:t=DF(e,Dl(a),!1)}return t}function mre(t){let e=t.startState,r=e.facet(wF),n=t;for(let i=r.length-1;i>=0;i--){let a=r[i](t);a&&Object.keys(a).length&&(n=CF(n,fy(e,a,t.changes.newLength),!0))}return n==t?t:gr.create(e,t.changes,t.selection,n.effects,n.annotations,n.scrollIntoView)}const gre=[];function Dl(t){return t==null?gre:Array.isArray(t)?t:[t]}var zt=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(zt||(zt={}));const vre=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let hy;try{hy=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function yre(t){if(hy)return hy.test(t);for(let e=0;e<t.length;e++){let r=t[e];if(/\w/.test(r)||r>""&&(r.toUpperCase()!=r.toLowerCase()||vre.test(r)))return!0}return!1}function xre(t){return e=>{if(!/\S/.test(e))return zt.Space;if(yre(e))return zt.Word;for(let r=0;r<t.length;r++)if(e.indexOf(t[r])>-1)return zt.Word;return zt.Other}}class ct{constructor(e,r,n,i,a,o){this.config=e,this.doc=r,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=a,o&&(o._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)fc(this,s<<1);this.computeSlot=null}field(e,r=!0){let n=this.config.address[e.id];if(n==null){if(r)throw new RangeError("Field is not present in this state");return}return fc(this,n),gp(this,n)}update(...e){return DF(this,e,!0)}applyTransaction(e){let r=this.config,{base:n,compartments:i}=r;for(let o of e.effects)o.is(km.reconfigure)?(r&&(i=new Map,r.compartments.forEach((s,l)=>i.set(l,s)),r=null),i.set(o.value.compartment,o.value.extension)):o.is(rt.reconfigure)?(r=null,n=o.value):o.is(rt.appendConfig)&&(r=null,n=Dl(n).concat(o.value));let a;r?a=e.startState.values.slice():(r=mp.resolve(n,i,this),a=new ct(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(s,l)=>l.reconfigure(s,this),null).values),new ct(r,e.newDoc,e.newSelection,a,(o,s)=>s.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:e},range:be.cursor(r.from+e.length)}))}changeByRange(e){let r=this.selection,n=e(r.ranges[0]),i=this.changes(n.changes),a=[n.range],o=Dl(n.effects);for(let s=1;s<r.ranges.length;s++){let l=e(r.ranges[s]),u=this.changes(l.changes),c=u.map(i);for(let h=0;h<s;h++)a[h]=a[h].map(c);let f=i.mapDesc(u,!0);a.push(l.range.map(f)),i=i.compose(c),o=rt.mapEffects(o,c).concat(rt.mapEffects(Dl(l.effects),f))}return{changes:i,selection:be.create(a,r.mainIndex),effects:o}}changes(e=[]){return e instanceof hr?e:hr.of(e,this.doc.length,this.facet(ct.lineSeparator))}toText(e){return bt.of(e.split(this.facet(ct.lineSeparator)||oy))}sliceDoc(e=0,r=this.doc.length){return this.doc.sliceString(e,r,this.lineBreak)}facet(e){let r=this.config.address[e.id];return r==null?e.default:(fc(this,r),gp(this,r))}toJSON(e){let r={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof Lr&&this.config.address[i.id]!=null&&(r[n]=i.spec.toJSON(this.field(e[n]),this))}return r}static fromJSON(e,r={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let a in n)if(Object.prototype.hasOwnProperty.call(e,a)){let o=n[a],s=e[a];i.push(o.init(l=>o.spec.fromJSON(s,l)))}}return ct.create({doc:e.doc,selection:be.fromJSON(e.selection),extensions:r.extensions?i.concat([r.extensions]):i})}static create(e={}){let r=mp.resolve(e.extensions||[],new Map),n=e.doc instanceof bt?e.doc:bt.of((e.doc||"").split(r.staticFacet(ct.lineSeparator)||oy)),i=e.selection?e.selection instanceof be?e.selection:be.single(e.selection.anchor,e.selection.head):be.single(0);return pF(i,n.length),r.staticFacet(vF)||(i=i.asSingle()),new ct(r,n,i,r.dynamicSlots.map(()=>null),(a,o)=>o.create(a),null)}get tabSize(){return this.facet(ct.tabSize)}get lineBreak(){return this.facet(ct.lineSeparator)||`
`}get readOnly(){return this.facet(SF)}phrase(e,...r){for(let n of this.facet(ct.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let a=+(i||1);return!a||a>r.length?n:r[a-1]})),e}languageDataAt(e,r,n=-1){let i=[];for(let a of this.facet(gF))for(let o of a(this,r,n))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return xre(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:r,from:n,length:i}=this.doc.lineAt(e),a=this.charCategorizer(e),o=e-n,s=e-n;for(;o>0;){let l=rn(r,o,!1);if(a(r.slice(l,o))!=zt.Word)break;o=l}for(;s<i;){let l=rn(r,s);if(a(r.slice(s,l))!=zt.Word)break;s=l}return o==s?null:be.range(o+n,s+n)}}ct.allowMultipleSelections=vF;ct.tabSize=ze.define({combine:t=>t.length?t[0]:4});ct.lineSeparator=yF;ct.readOnly=SF;ct.phrases=ze.define({compare(t,e){let r=Object.keys(t),n=Object.keys(e);return r.length==n.length&&r.every(i=>t[i]==e[i])}});ct.languageData=gF;ct.changeFilter=xF;ct.transactionFilter=bF;ct.transactionExtender=wF;km.reconfigure=rt.define();function fa(t,e,r={}){let n={};for(let i of t)for(let a of Object.keys(i)){let o=i[a],s=n[a];if(s===void 0)n[a]=o;else if(!(s===o||o===void 0))if(Object.hasOwnProperty.call(r,a))n[a]=r[a](s,o);else throw new Error("Config merge conflict for field "+a)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class ys{eq(e){return this==e}range(e,r=e){return dy.create(e,r,this)}}ys.prototype.startSide=ys.prototype.endSide=0;ys.prototype.point=!1;ys.prototype.mapMode=tn.TrackDel;let dy=class AF{constructor(e,r,n){this.from=e,this.to=r,this.value=n}static create(e,r,n){return new AF(e,r,n)}};function py(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Jx{constructor(e,r,n,i){this.from=e,this.to=r,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,r,n,i=0){let a=n?this.to:this.from;for(let o=i,s=a.length;;){if(o==s)return o;let l=o+s>>1,u=a[l]-e||(n?this.value[l].endSide:this.value[l].startSide)-r;if(l==o)return u>=0?o:s;u>=0?s=l:o=l+1}}between(e,r,n,i){for(let a=this.findIndex(r,-1e9,!0),o=this.findIndex(n,1e9,!1,a);a<o;a++)if(i(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,r){let n=[],i=[],a=[],o=-1,s=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,h,d;if(c==f){let p=r.mapPos(c,u.startSide,u.mapMode);if(p==null||(h=d=p,u.startSide!=u.endSide&&(d=r.mapPos(c,u.endSide),d<h)))continue}else if(h=r.mapPos(c,u.startSide),d=r.mapPos(f,u.endSide),h>d||h==d&&u.startSide>0&&u.endSide<=0)continue;(d-h||u.endSide-u.startSide)<0||(o<0&&(o=h),u.point&&(s=Math.max(s,d-h)),n.push(u),i.push(h-o),a.push(d-o))}return{mapped:n.length?new Jx(i,a,n,s):null,pos:o}}}class At{constructor(e,r,n,i){this.chunkPos=e,this.chunk=r,this.nextLayer=n,this.maxPoint=i}static create(e,r,n,i){return new At(e,r,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let r of this.chunk)e+=r.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:r=[],sort:n=!1,filterFrom:i=0,filterTo:a=this.length}=e,o=e.filter;if(r.length==0&&!o)return this;if(n&&(r=r.slice().sort(py)),this.isEmpty)return r.length?At.of(r):this;let s=new EF(this,null,-1).goto(0),l=0,u=[],c=new $a;for(;s.value||l<r.length;)if(l<r.length&&(s.from-r[l].from||s.startSide-r[l].value.startSide)>=0){let f=r[l++];c.addInner(f.from,f.to,f.value)||u.push(f)}else s.rangeIndex==1&&s.chunkIndex<this.chunk.length&&(l==r.length||this.chunkEnd(s.chunkIndex)<r[l].from)&&(!o||i>this.chunkEnd(s.chunkIndex)||a<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!o||i>s.to||a<s.from||o(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||u.push(dy.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?At.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let r=[],n=[],i=-1;for(let o=0;o<this.chunk.length;o++){let s=this.chunkPos[o],l=this.chunk[o],u=e.touchesRange(s,s+l.length);if(u===!1)i=Math.max(i,l.maxPoint),r.push(l),n.push(e.mapPos(s));else if(u===!0){let{mapped:c,pos:f}=l.map(s,e);c&&(i=Math.max(i,c.maxPoint),r.push(c),n.push(f))}}let a=this.nextLayer.map(e);return r.length==0?a:new At(n,r,a||At.empty,i)}between(e,r,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let a=this.chunkPos[i],o=this.chunk[i];if(r>=a&&e<=a+o.length&&o.between(a,e-a,r-a,n)===!1)return}this.nextLayer.between(e,r,n)}}iter(e=0){return Uc.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,r=0){return Uc.from(e).goto(r)}static compare(e,r,n,i,a=-1){let o=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=a),s=r.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=a),l=qA(o,s,n),u=new Ru(o,l,a),c=new Ru(s,l,a);n.iterGaps((f,h,d)=>HA(u,f,c,h,d,i)),n.empty&&n.length==0&&HA(u,0,c,0,0,i)}static eq(e,r,n=0,i){i==null&&(i=1e9-1);let a=e.filter(c=>!c.isEmpty&&r.indexOf(c)<0),o=r.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(a.length!=o.length)return!1;if(!a.length)return!0;let s=qA(a,o),l=new Ru(a,s,0).goto(n),u=new Ru(o,s,0).goto(n);for(;;){if(l.to!=u.to||!my(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,r,n,i,a=-1){let o=new Ru(e,null,a).goto(r),s=r,l=o.openStart;for(;;){let u=Math.min(o.to,n);if(o.point){let c=o.activeForPoint(o.to),f=o.pointFrom<r?c.length+1:Math.min(c.length,l);i.point(s,u,o.point,c,f,o.pointRank),l=Math.min(o.openEnd(u),c.length)}else u>s&&(i.span(s,u,o.active,l),l=o.openEnd(u));if(o.to>n)return l+(o.point&&o.to>n?1:0);s=o.to,o.next()}}static of(e,r=!1){let n=new $a;for(let i of e instanceof dy?[e]:r?bre(e):e)n.add(i.from,i.to,i.value);return n.finish()}}At.empty=new At([],[],null,-1);function bre(t){if(t.length>1)for(let e=t[0],r=1;r<t.length;r++){let n=t[r];if(py(e,n)>0)return t.slice().sort(py);e=n}return t}At.empty.nextLayer=At.empty;class $a{finishChunk(e){this.chunks.push(new Jx(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,r,n){this.addInner(e,r,n)||(this.nextLayer||(this.nextLayer=new $a)).add(e,r,n)}addInner(e,r,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(r-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=r,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,r-e)),!0)}addChunk(e,r){if((e-this.lastTo||r.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,r.maxPoint),this.chunks.push(r),this.chunkPos.push(e);let n=r.value.length-1;return this.last=r.value[n],this.lastFrom=r.from[n]+e,this.lastTo=r.to[n]+e,!0}finish(){return this.finishInner(At.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let r=At.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,r}}function qA(t,e,r){let n=new Map;for(let a of t)for(let o=0;o<a.chunk.length;o++)a.chunk[o].maxPoint<=0&&n.set(a.chunk[o],a.chunkPos[o]);let i=new Set;for(let a of e)for(let o=0;o<a.chunk.length;o++){let s=n.get(a.chunk[o]);s!=null&&(r?r.mapPos(s):s)==a.chunkPos[o]&&!r?.touchesRange(s,s+a.chunk[o].length)&&i.add(a.chunk[o])}return i}class EF{constructor(e,r,n,i=0){this.layer=e,this.skip=r,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,r=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,r,!1),this}gotoInner(e,r,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],r,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,r){(this.to-e||this.endSide-r)<0&&this.gotoInner(e,r,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],r=this.layer.chunk[this.chunkIndex],n=e+r.from[this.rangeIndex];if(this.from=n,this.to=e+r.to[this.rangeIndex],this.value=r.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Uc{constructor(e){this.heap=e}static from(e,r=null,n=-1){let i=[];for(let a=0;a<e.length;a++)for(let o=e[a];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&i.push(new EF(o,r,n,a));return i.length==1?i[0]:new Uc(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,r=-1e9){for(let n of this.heap)n.goto(e,r);for(let n=this.heap.length>>1;n>=0;n--)cv(this.heap,n);return this.next(),this}forward(e,r){for(let n of this.heap)n.forward(e,r);for(let n=this.heap.length>>1;n>=0;n--)cv(this.heap,n);(this.to-e||this.value.endSide-r)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),cv(this.heap,0)}}}function cv(t,e){for(let r=t[e];;){let n=(e<<1)+1;if(n>=t.length)break;let i=t[n];if(n+1<t.length&&i.compare(t[n+1])>=0&&(i=t[n+1],n++),r.compare(i)<0)break;t[n]=r,t[e]=i,e=n}}class Ru{constructor(e,r,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Uc.from(e,r,n)}goto(e,r=-1e9){return this.cursor.goto(e,r),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=r,this.openStart=-1,this.next(),this}forward(e,r){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-r)<0;)this.removeActive(this.minActive);this.cursor.forward(e,r)}removeActive(e){bh(this.active,e),bh(this.activeTo,e),bh(this.activeRank,e),this.minActive=VA(this.active,this.activeTo)}addActive(e){let r=0,{value:n,to:i,rank:a}=this.cursor;for(;r<this.activeRank.length&&this.activeRank[r]<=a;)r++;wh(this.active,r,n),wh(this.activeTo,r,i),wh(this.activeRank,r,a),e&&wh(e,r,this.cursor.from),this.minActive=VA(this.active,this.activeTo)}next(){let e=this.to,r=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&bh(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(n),this.cursor.next();else if(r&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let r=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&r.push(this.active[n]);return r.reverse()}openEnd(e){let r=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)r++;return r}}function HA(t,e,r,n,i,a){t.goto(e),r.goto(n);let o=n+i,s=n,l=n-e;for(;;){let u=t.to+l-r.to||t.endSide-r.endSide,c=u<0?t.to+l:r.to,f=Math.min(c,o);if(t.point||r.point?t.point&&r.point&&(t.point==r.point||t.point.eq(r.point))&&my(t.activeForPoint(t.to),r.activeForPoint(r.to))||a.comparePoint(s,f,t.point,r.point):f>s&&!my(t.active,r.active)&&a.compareRange(s,f,t.active,r.active),c>o)break;s=c,u<=0&&t.next(),u>=0&&r.next()}}function my(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!=e[r]&&!t[r].eq(e[r]))return!1;return!0}function bh(t,e){for(let r=e,n=t.length-1;r<n;r++)t[r]=t[r+1];t.pop()}function wh(t,e,r){for(let n=t.length-1;n>=e;n--)t[n+1]=t[n];t[e]=r}function VA(t,e){let r=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||t[i].endSide-t[r].endSide)<0&&(r=i,n=e[i]);return r}function vf(t,e,r=t.length){let n=0;for(let i=0;i<r;)t.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=rn(t,i));return n}function gy(t,e,r,n){for(let i=0,a=0;;){if(a>=e)return i;if(i==t.length)break;a+=t.charCodeAt(i)==9?r-a%r:1,i=rn(t,i)}return n===!0?-1:t.length}const vy="ͼ",WA=typeof Symbol>"u"?"__"+vy:Symbol.for(vy),yy=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),jA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class No{constructor(e,r){this.rules=[];let{finish:n}=r||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function a(o,s,l,u){let c=[],f=/^@(\w+)\b/.exec(o[0]),h=f&&f[1]=="keyframes";if(f&&s==null)return l.push(o[0]+";");for(let d in s){let p=s[d];if(/&/.test(d))a(d.split(/,\s*/).map(m=>o.map(v=>m.replace(/&/,v))).reduce((m,v)=>m.concat(v)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+d+") should be a primitive value.");a(i(d),p,c,h)}else p!=null&&c.push(d.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(c.length||h)&&l.push((n&&!f&&!u?o.map(n):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)a(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=jA[WA]||1;return jA[WA]=e+1,vy+e.toString(36)}static mount(e,r){(e[yy]||new wre(e)).mount(Array.isArray(r)?r:[r])}}let GA=new Map;class wre{constructor(e){let r=e.ownerDocument||e,n=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let i=GA.get(r);if(i)return e.adoptedStyleSheets=[i.sheet,...e.adoptedStyleSheets],e[yy]=i;this.sheet=new n.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],GA.set(r,this)}else{this.styleTag=r.createElement("style");let i=e.head||e;i.insertBefore(this.styleTag,i.firstChild)}this.modules=[],e[yy]=this}mount(e){let r=this.sheet,n=0,i=0;for(let a=0;a<e.length;a++){let o=e[a],s=this.modules.indexOf(o);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),s==-1){if(this.modules.splice(i++,0,o),r)for(let l=0;l<o.rules.length;l++)r.insertRule(o.rules[l],n++)}else{for(;i<s;)n+=this.modules[i++].rules.length;n+=o.rules.length,i++}}if(!r){let a="";for(let o=0;o<this.modules.length;o++)a+=this.modules[o].getRules()+`
`;this.styleTag.textContent=a}}}var Mo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},qc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Sre=typeof navigator<"u"&&/Mac/.test(navigator.platform),Cre=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var kr=0;kr<10;kr++)Mo[48+kr]=Mo[96+kr]=String(kr);for(var kr=1;kr<=24;kr++)Mo[kr+111]="F"+kr;for(var kr=65;kr<=90;kr++)Mo[kr]=String.fromCharCode(kr+32),qc[kr]=String.fromCharCode(kr);for(var fv in Mo)qc.hasOwnProperty(fv)||(qc[fv]=Mo[fv]);function Dre(t){var e=Sre&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Cre&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?qc:Mo)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}function vp(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function jl(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Are(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function ud(t,e){if(!e.anchorNode)return!1;try{return jl(t,e.anchorNode)}catch{return!1}}function Gl(t){return t.nodeType==3?Kl(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function yp(t,e,r,n){return r?KA(t,e,r,n,-1)||KA(t,e,r,n,1):!1}function xp(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function KA(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:To(t))){if(t.nodeName=="DIV")return!1;let a=t.parentNode;if(!a||a.nodeType!=1)return!1;e=xp(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?To(t):0}else return!1}}function To(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Om(t,e){let r=e?t.left:t.right;return{left:r,right:r,top:t.top,bottom:t.bottom}}function Ere(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function Nre(t,e,r,n,i,a,o,s){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t;c;)if(c.nodeType==1){let f,h=c==l.body;if(h)f=Ere(u);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let m=c.getBoundingClientRect();f={left:m.left,right:m.left+c.clientWidth,top:m.top,bottom:m.top+c.clientHeight}}let d=0,p=0;if(i=="nearest")e.top<f.top?(p=-(f.top-e.top+o),r>0&&e.bottom>f.bottom+p&&(p=e.bottom-f.bottom+p+o)):e.bottom>f.bottom&&(p=e.bottom-f.bottom+o,r<0&&e.top-p<f.top&&(p=-(f.top+p-e.top+o)));else{let m=e.bottom-e.top,v=f.bottom-f.top;p=(i=="center"&&m<=v?e.top+m/2-v/2:i=="start"||i=="center"&&r<0?e.top-o:e.bottom-v+o)-f.top}if(n=="nearest"?e.left<f.left?(d=-(f.left-e.left+a),r>0&&e.right>f.right+d&&(d=e.right-f.right+d+a)):e.right>f.right&&(d=e.right-f.right+a,r<0&&e.left<f.left+d&&(d=-(f.left+d-e.left+a))):d=(n=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:n=="start"==s?e.left-a:e.right-(f.right-f.left)+a)-f.left,d||p)if(h)u.scrollBy(d,p);else{let m=0,v=0;if(p){let g=c.scrollTop;c.scrollTop+=p,v=c.scrollTop-g}if(d){let g=c.scrollLeft;c.scrollLeft+=d,m=c.scrollLeft-g}e={left:e.left-m,top:e.top-v,right:e.right-m,bottom:e.bottom-v},m&&Math.abs(m-d)<1&&(n="nearest"),v&&Math.abs(v-p)<1&&(i="nearest")}if(h)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function Mre(t){let e=t.ownerDocument;for(let r=t.parentNode;r&&r!=e.body;)if(r.nodeType==1){if(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth)return r;r=r.assignedSlot||r.parentNode}else if(r.nodeType==11)r=r.host;else break;return null}class Tre{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:r,focusNode:n}=e;this.set(r,Math.min(e.anchorOffset,r?To(r):0),n,Math.min(e.focusOffset,n?To(n):0))}set(e,r,n,i){this.anchorNode=e,this.anchorOffset=r,this.focusNode=n,this.focusOffset=i}}let Vs=null;function NF(t){if(t.setActive)return t.setActive();if(Vs)return t.focus(Vs);let e=[];for(let r=t;r&&(e.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(t.focus(Vs==null?{get preventScroll(){return Vs={preventScroll:!0},!0}}:void 0),!Vs){Vs=!1;for(let r=0;r<e.length;){let n=e[r++],i=e[r++],a=e[r++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=a&&(n.scrollLeft=a)}}}let YA;function Kl(t,e,r=e){let n=YA||(YA=document.createRange());return n.setEnd(t,r),n.setStart(t,e),n}function Al(t,e,r){let n={key:e,code:e,keyCode:r,which:r,cancelable:!0},i=new KeyboardEvent("keydown",n);i.synthetic=!0,t.dispatchEvent(i);let a=new KeyboardEvent("keyup",n);return a.synthetic=!0,t.dispatchEvent(a),i.defaultPrevented||a.defaultPrevented}function kre(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function MF(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Ore(t,e){let r=e.focusNode,n=e.focusOffset;if(!r||e.anchorNode!=r||e.anchorOffset!=n)return!1;for(n=Math.min(n,To(r));;)if(n){if(r.nodeType!=1)return!1;let i=r.childNodes[n-1];i.contentEditable=="false"?n--:(r=i,n=To(r))}else{if(r==t)return!0;n=xp(r),r=r.parentNode}}class Fr{constructor(e,r,n=!0){this.node=e,this.offset=r,this.precise=n}static before(e,r){return new Fr(e.parentNode,xp(e),r)}static after(e,r){return new Fr(e.parentNode,xp(e)+1,r)}}const Zx=[];class Rt{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let r=this.posAtStart;for(let n of this.children){if(n==e)return r;r+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,r){if(this.dirty&2){let n=this.dom,i=null,a;for(let o of this.children){if(o.dirty){if(!o.dom&&(a=i?i.nextSibling:n.firstChild)){let s=Rt.get(a);(!s||!s.parent&&s.canReuseDOM(o))&&o.reuseDOM(a)}o.sync(e,r),o.dirty=0}if(a=i?i.nextSibling:n.firstChild,r&&!r.written&&r.node==n&&a!=o.dom&&(r.written=!0),o.dom.parentNode==n)for(;a&&a!=o.dom;)a=JA(a);else n.insertBefore(o.dom,a);i=o.dom}for(a=i?i.nextSibling:n.firstChild,a&&r&&r.node==n&&(r.written=!0);a;)a=JA(a)}else if(this.dirty&1)for(let n of this.children)n.dirty&&(n.sync(e,r),n.dirty=0)}reuseDOM(e){}localPosFromDOM(e,r){let n;if(e==this.dom)n=this.dom.childNodes[r];else{let i=To(e)==0?0:r==0?-1:1;for(;;){let a=e.parentNode;if(a==this.dom)break;i==0&&a.firstChild!=a.lastChild&&(e==a.firstChild?i=-1:i=1),e=a}i<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!Rt.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,a=0;;i++){let o=this.children[i];if(o.dom==n)return a;a+=o.length+o.breakAfter}}domBoundsAround(e,r,n=0){let i=-1,a=-1,o=-1,s=-1;for(let l=0,u=n,c=n;l<this.children.length;l++){let f=this.children[l],h=u+f.length;if(u<e&&h>r)return f.domBoundsAround(e,r,u);if(h>=e&&i==-1&&(i=l,a=u),u>r&&f.dom.parentNode==this.dom){o=l,s=c;break}c=h,u=h+f.breakAfter}return{from:a,to:s<0?n+this.length:s,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let r=this.parent;r;r=r.parent){if(e&&(r.dirty|=2),r.dirty&1)return;r.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let r=e.parent;if(!r)return e;e=r}}replaceChildren(e,r,n=Zx){this.markDirty();for(let i=e;i<r;i++){let a=this.children[i];a.parent==this&&a.destroy()}this.children.splice(e,r-e,...n);for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new TF(this.children,e,this.children.length)}childPos(e,r=1){return this.childCursor().findPos(e,r)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,r,n,i,a,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}Rt.prototype.breakAfter=0;function JA(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class TF{constructor(e,r,n){this.children=e,this.pos=r,this.i=n,this.off=0}findPos(e,r=1){for(;;){if(e>this.pos||e==this.pos&&(r>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function kF(t,e,r,n,i,a,o,s,l){let{children:u}=t,c=u.length?u[e]:null,f=a.length?a[a.length-1]:null,h=f?f.breakAfter:o;if(!(e==n&&c&&!o&&!h&&a.length<2&&c.merge(r,i,a.length?f:null,r==0,s,l))){if(n<u.length){let d=u[n];d&&i<d.length?(e==n&&(d=d.split(i),i=0),!h&&f&&d.merge(0,i,f,!0,0,l)?a[a.length-1]=d:(i&&d.merge(0,i,null,!1,0,l),a.push(d))):d?.breakAfter&&(f?f.breakAfter=1:o=1),n++}for(c&&(c.breakAfter=o,r>0&&(!o&&a.length&&c.merge(r,c.length,a[0],!1,s,0)?c.breakAfter=a.shift().breakAfter:(r<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(r,c.length,null,!1,s,0),e++));e<n&&a.length;)if(u[n-1].become(a[a.length-1]))n--,a.pop(),l=a.length?0:s;else if(u[e].become(a[0]))e++,a.shift(),s=a.length?0:l;else break;!a.length&&e&&n<u.length&&!u[e-1].breakAfter&&u[n].merge(0,0,u[e-1],!1,s,l)&&e--,(e<n||a.length)&&t.replaceChildren(e,n,a)}}function OF(t,e,r,n,i,a){let o=t.childCursor(),{i:s,off:l}=o.findPos(r,1),{i:u,off:c}=o.findPos(e,-1),f=e-r;for(let h of n)f+=h.length;t.length+=f,kF(t,u,c,s,l,n,0,i,a)}let Bn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},xy=typeof document<"u"?document:{documentElement:{style:{}}};const by=/Edge\/(\d+)/.exec(Bn.userAgent),BF=/MSIE \d/.test(Bn.userAgent),wy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Bn.userAgent),Bm=!!(BF||wy||by),ZA=!Bm&&/gecko\/(\d+)/i.test(Bn.userAgent),hv=!Bm&&/Chrome\/(\d+)/.exec(Bn.userAgent),XA="webkitFontSmoothing"in xy.documentElement.style,FF=!Bm&&/Apple Computer/.test(Bn.vendor),QA=FF&&(/Mobile\/\w+/.test(Bn.userAgent)||Bn.maxTouchPoints>2);var _e={mac:QA||/Mac/.test(Bn.platform),windows:/Win/.test(Bn.platform),linux:/Linux|X11/.test(Bn.platform),ie:Bm,ie_version:BF?xy.documentMode||6:wy?+wy[1]:by?+by[1]:0,gecko:ZA,gecko_version:ZA?+(/Firefox\/(\d+)/.exec(Bn.userAgent)||[0,0])[1]:0,chrome:!!hv,chrome_version:hv?+hv[1]:0,ios:QA,android:/Android\b/.test(Bn.userAgent),webkit:XA,safari:FF,webkit_version:XA?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:xy.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Bre=256;class xs extends Rt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,r){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,r,n){return n&&(!(n instanceof xs)||this.length-(r-e)+n.length>Bre)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(r),this.markDirty(),!0)}split(e){let r=new xs(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),r}localPosFromDOM(e,r){return e==this.dom?r:r?this.text.length:0}domAtPos(e){return new Fr(this.dom,e)}domBoundsAround(e,r,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,r){return Sy(this.dom,e,r)}}class Ra extends Rt{constructor(e,r=[],n=0){super(),this.mark=e,this.children=r,this.length=n;for(let i of r)i.setParent(this)}setAttrs(e){if(MF(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let r in this.mark.attrs)e.setAttribute(r,this.mark.attrs[r]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,r){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,r)}merge(e,r,n,i,a,o){return n&&(!(n instanceof Ra&&n.mark.eq(this.mark))||e&&a<=0||r<this.length&&o<=0)?!1:(OF(this,e,r,n?n.children:[],a-1,o-1),this.markDirty(),!0)}split(e){let r=[],n=0,i=-1,a=0;for(let s of this.children){let l=n+s.length;l>e&&r.push(n<e?s.split(e-n):s),i<0&&n>=e&&(i=a),n=l,a++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Ra(this.mark,r,o)}domAtPos(e){return LF(this,e)}coordsAt(e,r){return zF(this,e,r)}}function Sy(t,e,r){let n=t.nodeValue.length;e>n&&(e=n);let i=e,a=e,o=0;e==0&&r<0||e==n&&r>=0?_e.chrome||_e.gecko||(e?(i--,o=1):a<n&&(a++,o=-1)):r<0?i--:a<n&&a++;let s=Kl(t,i,a).getClientRects();if(!s.length)return null;let l=s[(o?o<0:r>=0)?0:s.length-1];return _e.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(s,u=>u.width)||l),o?Om(l,o<0):l||null}class uo extends Rt{constructor(e,r,n){super(),this.widget=e,this.length=r,this.side=n,this.prevWidget=null}static create(e,r,n){return new(e.customView||uo)(e,r,n)}split(e){let r=uo.create(this.widget,this.length-e,this.side);return this.length-=e,r}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,r,n,i,a,o){return n&&(!(n instanceof uo)||!this.widget.compare(n.widget)||e>0&&a<=0||r<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}become(e){return e instanceof uo&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return bt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:r}=e,n=r&&r.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):bt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Fr.before(this.dom):Fr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,r){let n=this.widget.coordsAt(this.dom,e,r);if(n)return n;let i=this.dom.getClientRects(),a=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let s=o?i.length-1:0;a=i[s],!(e>0?s==0:s==i.length-1||a.top<a.bottom);s+=o?-1:1);return Om(a,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class $F extends uo{domAtPos(e){let{topView:r,text:n}=this.widget;return r?Cy(e,0,r,n,this.length-r.length,(i,a)=>i.domAtPos(a),(i,a)=>new Fr(i,Math.min(a,i.nodeValue.length))):new Fr(n,Math.min(e,n.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,r){let{topView:n,text:i}=this.widget;return n?PF(e,r,n,i,this.length-n.length):Math.min(r,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,r){let{topView:n,text:i}=this.widget;return n?Cy(e,r,n,i,this.length-n.length,(a,o,s)=>a.coordsAt(o,s),(a,o,s)=>Sy(a,o,s)):Sy(i,e,r)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function Cy(t,e,r,n,i,a,o){if(r instanceof Ra){for(let s=r.dom.firstChild;s;s=s.nextSibling){let l=Rt.get(s);if(l){let u=jl(s,n),c=l.length+(u?i:0);if(t<c||t==c&&l.getSide()<=0)return u?Cy(t,e,l,n,i,a,o):a(l,t,e);t-=c}else{let u=RF(t,e,s,o);if(typeof u!="number")return u;t=u}}return a(r,r.length,-1)}else return r.dom==n?o(n,t,e):a(r,t,e)}function RF(t,e,r,n){if(r.nodeType==3){let i=r.nodeValue.length;if(t<=i)return n(r,t,e);t-=i}else if(r.nodeType==1&&r.contentEditable!="false")for(let i=r.firstChild;i;i=i.nextSibling){let a=RF(t,e,i,n);if(typeof a!="number")return a;t=a}return t}function PF(t,e,r,n,i){if(r instanceof Ra){let a=0;for(let o=r.dom.firstChild;o;o=o.nextSibling){let s=Rt.get(o);if(s){let l=jl(o,n);if(jl(o,t))return a+(l?PF(t,e,s,n,i):s.localPosFromDOM(t,e));a+=s.length+(l?i:0)}else{let l=IF(t,e,o);if(l.result!=null)return a+l.result;a+=l.size}}}else if(r.dom==n)return Math.min(e,n.nodeValue.length);return r.localPosFromDOM(t,e)}function IF(t,e,r){if(r.nodeType==3)return t==r?{result:e}:{size:r.nodeValue.length};if(r.nodeType==1&&r.contentEditable!="false"){let n=0;for(let i=r.firstChild,a=0;;i=i.nextSibling,a++){if(t==r&&a==e)return{result:n};if(!i)return{size:n};let o=IF(t,e,i);if(o.result!=null)return{result:e+o.result};n+=o.size}}else return r.contains(t)?{result:0}:{size:0}}class Yl extends Rt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Yl&&e.side==this.side}split(){return new Yl(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Fr.before(this.dom):Fr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return bt.empty}get isHidden(){return!0}}xs.prototype.children=uo.prototype.children=Yl.prototype.children=Zx;function LF(t,e){let r=t.dom,{children:n}=t,i=0;for(let a=0;i<n.length;i++){let o=n[i],s=a+o.length;if(!(s==a&&o.getSide()<=0)){if(e>a&&e<s&&o.dom.parentNode==r)return o.domAtPos(e-a);if(e<=a)break;a=s}}for(let a=i;a>0;a--){let o=n[a-1];if(o.dom.parentNode==r)return o.domAtPos(o.length)}for(let a=i;a<n.length;a++){let o=n[a];if(o.dom.parentNode==r)return o.domAtPos(0)}return new Fr(r,0)}function _F(t,e,r){let n,{children:i}=t;r>0&&e instanceof Ra&&i.length&&(n=i[i.length-1])instanceof Ra&&n.mark.eq(e.mark)?_F(n,e.children[0],r-1):(i.push(e),e.setParent(t)),t.length+=e.length}function zF(t,e,r){let n=null,i=-1,a=null,o=-1;function s(u,c){for(let f=0,h=0;f<u.children.length&&h<=c;f++){let d=u.children[f],p=h+d.length;p>=c&&(d.children.length?s(d,c-h):(!a||a.isHidden&&r>0)&&(p>c||h==p&&d.getSide()>0)?(a=d,o=c-h):(h<c||h==p&&d.getSide()<0&&!d.isHidden)&&(n=d,i=c-h)),h=p}}s(t,e);let l=(r<0?n:a)||n||a;return l?l.coordsAt(Math.max(0,l==n?i:o),r):Fre(t)}function Fre(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let r=Gl(e);return r[r.length-1]||null}function Dy(t,e){for(let r in t)r=="class"&&e.class?e.class+=" "+t.class:r=="style"&&e.style?e.style+=";"+t.style:e[r]=t[r];return e}function Xx(t,e){if(t==e)return!0;if(!t||!e)return!1;let r=Object.keys(t),n=Object.keys(e);if(r.length!=n.length)return!1;for(let i of r)if(n.indexOf(i)==-1||t[i]!==e[i])return!1;return!0}function Ay(t,e,r){let n=null;if(e)for(let i in e)r&&i in r||t.removeAttribute(n=i);if(r)for(let i in r)e&&e[i]==r[i]||t.setAttribute(n=i,r[i]);return!!n}class ha{eq(e){return!1}updateDOM(e,r){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,r,n){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var Gt=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Gt||(Gt={}));class Ue extends ys{constructor(e,r,n,i){super(),this.startSide=e,this.endSide=r,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Fm(e)}static widget(e){let r=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return r+=n&&!e.inlineOrder?r>0?3e8:-4e8:r>0?1e8:-1e8,new ko(e,r,r,n,e.widget||null,!1)}static replace(e){let r=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:a,end:o}=UF(e,r);n=(a?r?-3e8:-1:5e8)-1,i=(o?r?2e8:1:-6e8)+1}return new ko(e,n,i,r,e.widget||null,!0)}static line(e){return new yf(e)}static set(e,r=!1){return At.of(e,r)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Ue.none=At.empty;class Fm extends Ue{constructor(e){let{start:r,end:n}=UF(e);super(r?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof Fm&&this.tagName==e.tagName&&this.class==e.class&&Xx(this.attrs,e.attrs)}range(e,r=e){if(e>=r)throw new RangeError("Mark decorations may not be empty");return super.range(e,r)}}Fm.prototype.point=!1;class yf extends Ue{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof yf&&this.spec.class==e.spec.class&&Xx(this.spec.attributes,e.spec.attributes)}range(e,r=e){if(r!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,r)}}yf.prototype.mapMode=tn.TrackBefore;yf.prototype.point=!0;class ko extends Ue{constructor(e,r,n,i,a,o){super(r,n,a,e),this.block=i,this.isReplace=o,this.mapMode=i?r<=0?tn.TrackBefore:tn.TrackAfter:tn.TrackDel}get type(){return this.startSide<this.endSide?Gt.WidgetRange:this.startSide<=0?Gt.WidgetBefore:Gt.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ko&&$re(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,r=e){if(this.isReplace&&(e>r||e==r&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&r!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,r)}}ko.prototype.point=!0;function UF(t,e=!1){let{inclusiveStart:r,inclusiveEnd:n}=t;return r==null&&(r=t.inclusive),n==null&&(n=t.inclusive),{start:r??e,end:n??e}}function $re(t,e){return t==e||!!(t&&e&&t.compare(e))}function Ey(t,e,r,n=0){let i=r.length-1;i>=0&&r[i]+n>=t?r[i]=Math.max(r[i],e):r.push(t,e)}class pn extends Rt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,r,n,i,a,o){if(n){if(!(n instanceof pn))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),OF(this,e,r,n?n.children:[],a,o),!0}split(e){let r=new pn;if(r.breakAfter=this.breakAfter,this.length==0)return r;let{i:n,off:i}=this.childPos(e);i&&(r.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let a=n;a<this.children.length;a++)r.append(this.children[a],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,r}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Xx(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,r){_F(this,e,r)}addLineDeco(e){let r=e.spec.attributes,n=e.spec.class;r&&(this.attrs=Dy(r,this.attrs||{})),n&&(this.attrs=Dy({class:n},this.attrs||{}))}domAtPos(e){return LF(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,r){var n;this.dom?this.dirty&4&&(MF(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Ay(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,r);let i=this.dom.lastChild;for(;i&&Rt.get(i)instanceof Ra;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=Rt.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!_e.ios||!this.children.some(a=>a instanceof xs))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,r;for(let n of this.children){if(!(n instanceof xs)||/[^ -~]/.test(n.text))return null;let i=Gl(n.dom);if(i.length!=1)return null;e+=i[0].width,r=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:r}:null}coordsAt(e,r){let n=zF(this,e,r);if(!this.children.length&&n&&this.parent){let{heightOracle:i}=this.parent.view.viewState,a=n.bottom-n.top;if(Math.abs(a-i.lineHeight)<2&&i.textHeight<a){let o=(a-i.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return!1}get type(){return Gt.Text}static find(e,r){for(let n=0,i=0;n<e.children.length;n++){let a=e.children[n],o=i+a.length;if(o>=r){if(a instanceof pn)return a;if(o>r)break}i=o+a.breakAfter}return null}}class cs extends Rt{constructor(e,r,n){super(),this.widget=e,this.length=r,this.type=n,this.breakAfter=0,this.prevWidget=null}merge(e,r,n,i,a,o){return n&&(!(n instanceof cs)||!this.widget.compare(n.widget)||e>0&&a<=0||r<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-r),!0)}domAtPos(e){return e==0?Fr.before(this.dom):Fr.after(this.dom,e==this.length)}split(e){let r=this.length-e;this.length=e;let n=new cs(this.widget,r,this.type);return n.breakAfter=this.breakAfter,n}get children(){return Zx}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):bt.empty}domBoundsAround(){return null}become(e){return e instanceof cs&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,r){return this.widget.coordsAt(this.dom,e,r)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Qx{constructor(e,r,n,i){this.doc=e,this.pos=r,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=r}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof cs&&e.type==Gt.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new pn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Sh(new Yl(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,r,n){for(;e>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:o,done:s}=this.cursor.next(this.skip);if(this.skip=0,s)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=a,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(r.slice(r.length-n)),this.getLine().append(Sh(new xs(this.text.slice(this.textOff,this.textOff+i)),r),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=0}}span(e,r,n,i){this.buildText(r-e,n,i),this.pos=r,this.openStart<0&&(this.openStart=i)}point(e,r,n,i,a,o){if(this.disallowBlockEffectsFor[o]&&n instanceof ko){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(r>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=r-e;if(n instanceof ko)if(n.block){let{type:l}=n;l==Gt.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new cs(n.widget||new eE("div"),s,l))}else{let l=uo.create(n.widget||new eE("span"),s,s?0:n.startSide),u=this.atCursorPos&&!l.isEditable&&a<=i.length&&(e<r||n.startSide>0),c=!l.isEditable&&(e<r||a>i.length||n.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(f.append(Sh(new Yl(1),i),a),a=i.length+Math.max(0,a-i.length)),f.append(Sh(l,i),a),this.atCursorPos=c,this.pendingBuffer=c?e<r||a>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=r),this.openStart<0&&(this.openStart=a)}static build(e,r,n,i,a){let o=new Qx(e,r,n,a);return o.openEnd=At.spans(i,r,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Sh(t,e){for(let r of e)t=new Ra(r,[t],t.length);return t}class eE extends ha{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const qF=ze.define(),HF=ze.define(),VF=ze.define(),WF=ze.define(),Ny=ze.define(),jF=ze.define(),GF=ze.define(),KF=ze.define({combine:t=>t.some(e=>e)}),YF=ze.define({combine:t=>t.some(e=>e)});class bp{constructor(e,r="nearest",n="nearest",i=5,a=5){this.range=e,this.y=r,this.x=n,this.yMargin=i,this.xMargin=a}map(e){return e.empty?this:new bp(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const tE=rt.define({map:(t,e)=>t.map(e)});function ni(t,e,r){let n=t.facet(WF);n.length?n[0](e):window.onerror?window.onerror(String(e),r,void 0,void 0,e):r?console.error(r+":",e):console.error(e)}const $m=ze.define({combine:t=>t.length?t[0]:!0});let Rre=0;const Ju=ze.define();class nr{constructor(e,r,n,i){this.id=e,this.create=r,this.domEventHandlers=n,this.extension=i(this)}static define(e,r){const{eventHandlers:n,provide:i,decorations:a}=r||{};return new nr(Rre++,e,n,o=>{let s=[Ju.of(o)];return a&&s.push(Hc.of(l=>{let u=l.plugin(o);return u?a(u):Ue.none})),i&&s.push(i(o)),s})}static fromClass(e,r){return nr.define(n=>new e(n),r)}}class dv{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let r=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(r)}catch(n){if(ni(r.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(r){ni(e.state,r,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var r;if(!((r=this.value)===null||r===void 0)&&r.destroy)try{this.value.destroy()}catch(n){ni(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const JF=ze.define(),eb=ze.define(),Hc=ze.define(),tb=ze.define(),ZF=ze.define();function XF(t){let e=0,r=0,n=0,i=0;for(let a of t.state.facet(ZF)){let o=a(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(r=Math.max(r,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:r,top:n,bottom:i}}const Zu=ze.define();class ea{constructor(e,r,n,i){this.fromA=e,this.toA=r,this.fromB=n,this.toB=i}join(e){return new ea(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let r=e.length,n=this;for(;r>0;r--){let i=e[r-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(r-1,1)}}return e.splice(r,0,n),e}static extendWithRanges(e,r){if(r.length==0)return e;let n=[];for(let i=0,a=0,o=0,s=0;;i++){let l=i==e.length?null:e[i],u=o-s,c=l?l.fromB:1e9;for(;a<r.length&&r[a]<c;){let f=r[a],h=r[a+1],d=Math.max(s,f),p=Math.min(c,h);if(d<=p&&new ea(d+u,p+u,d,p).addToSet(n),h>c)break;a+=2}if(!l)return n;new ea(l.fromA,l.toA,l.fromB,l.toB).addToSet(n),o=l.toA,s=l.toB}}}class wp{constructor(e,r,n){this.view=e,this.state=r,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=hr.empty(this.startState.doc.length);for(let a of n)this.changes=this.changes.compose(a.changes);let i=[];this.changes.iterChangedRanges((a,o,s,l)=>i.push(new ea(a,o,s,l))),this.changedRanges=i}static create(e,r,n){return new wp(e,r,n)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Vt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Vt||(Vt={}));const My=Vt.LTR,Pre=Vt.RTL;function QF(t){let e=[];for(let r=0;r<t.length;r++)e.push(1<<+t[r]);return e}const Ire=QF("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Lre=QF("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Ty=Object.create(null),Pi=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),r=t.charCodeAt(1);Ty[e]=r,Ty[r]=-e}function _re(t){return t<=247?Ire[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Lre[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const zre=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class El{constructor(e,r,n){this.from=e,this.to=r,this.level=n}get dir(){return this.level%2?Pre:My}side(e,r){return this.dir==r==e?this.to:this.from}static find(e,r,n,i){let a=-1;for(let o=0;o<e.length;o++){let s=e[o];if(s.from<=r&&s.to>=r){if(s.level==n)return o;(a<0||(i!=0?i<0?s.from<r:s.to>r:e[a].level>s.level))&&(a=o)}}if(a<0)throw new RangeError("Index out of range");return a}}const qt=[];function Ure(t,e){let r=t.length,n=e==My?1:2,i=e==My?2:1;if(!t||n==1&&!zre.test(t))return e4(r);for(let o=0,s=n,l=n;o<r;o++){let u=_re(t.charCodeAt(o));u==512?u=s:u==8&&l==4&&(u=16),qt[o]=u==4?2:u,u&7&&(l=u),s=u}for(let o=0,s=n,l=n;o<r;o++){let u=qt[o];if(u==128)o<r-1&&s==qt[o+1]&&s&24?u=qt[o]=s:qt[o]=256;else if(u==64){let c=o+1;for(;c<r&&qt[c]==64;)c++;let f=o&&s==8||c<r&&qt[c]==8?l==1?1:8:256;for(let h=o;h<c;h++)qt[h]=f;o=c-1}else u==8&&l==1&&(qt[o]=1);s=u,u&7&&(l=u)}for(let o=0,s=0,l=0,u,c,f;o<r;o++)if(c=Ty[u=t.charCodeAt(o)])if(c<0){for(let h=s-3;h>=0;h-=3)if(Pi[h+1]==-c){let d=Pi[h+2],p=d&2?n:d&4?d&1?i:n:0;p&&(qt[o]=qt[Pi[h]]=p),s=h;break}}else{if(Pi.length==189)break;Pi[s++]=o,Pi[s++]=u,Pi[s++]=l}else if((f=qt[o])==2||f==1){let h=f==n;l=h?0:1;for(let d=s-3;d>=0;d-=3){let p=Pi[d+2];if(p&2)break;if(h)Pi[d+2]|=2;else{if(p&4)break;Pi[d+2]|=4}}}for(let o=0;o<r;o++)if(qt[o]==256){let s=o+1;for(;s<r&&qt[s]==256;)s++;let l=(o?qt[o-1]:n)==1,u=(s<r?qt[s]:n)==1,c=l==u?l?1:2:n;for(let f=o;f<s;f++)qt[f]=c;o=s-1}let a=[];if(n==1)for(let o=0;o<r;){let s=o,l=qt[o++]!=1;for(;o<r&&l==(qt[o]!=1);)o++;if(l)for(let u=o;u>s;){let c=u,f=qt[--u]!=2;for(;u>s&&f==(qt[u-1]!=2);)u--;a.push(new El(u,c,f?2:1))}else a.push(new El(s,o,0))}else for(let o=0;o<r;){let s=o,l=qt[o++]==2;for(;o<r&&l==(qt[o]==2);)o++;a.push(new El(s,o,l?1:2))}return a}function e4(t){return[new El(0,t,0)]}let t4="";function qre(t,e,r,n,i){var a;let o=n.head-t.from,s=-1;if(o==0){if(!i||!t.length)return null;e[0].level!=r&&(o=e[0].side(!1,r),s=0)}else if(o==t.length){if(i)return null;let h=e[e.length-1];h.level!=r&&(o=h.side(!0,r),s=e.length-1)}s<0&&(s=El.find(e,o,(a=n.bidiLevel)!==null&&a!==void 0?a:-1,n.assoc));let l=e[s];o==l.side(i,r)&&(l=e[s+=i?1:-1],o=l.side(!i,r));let u=i==(l.dir==r),c=rn(t.text,o,u);if(t4=t.text.slice(Math.min(o,c),Math.max(o,c)),c!=l.side(i,r))return be.cursor(c+t.from,u?-1:1,l.level);let f=s==(i?e.length-1:0)?null:e[s+(i?1:-1)];return!f&&l.level!=r?be.cursor(i?t.to:t.from,i?-1:1,r):f&&f.level<l.level?be.cursor(f.side(!i,r)+t.from,i?1:-1,f.level):be.cursor(c+t.from,i?-1:1,l.level)}const cl="￿";class r4{constructor(e,r){this.points=e,this.text="",this.lineSeparator=r.facet(ct.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=cl}readRange(e,r){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let a=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==r)break;let s=Rt.get(i),l=Rt.get(o);(s&&l?s.breakAfter:(s?s.breakAfter:rE(i))||rE(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>a)&&this.lineBreak(),i=o}return this.findPointBefore(n,r),this}readTextNode(e){let r=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,r.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,o=1,s;if(this.lineSeparator?(a=r.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(s=i.exec(r))&&(a=s.index,o=s[0].length),this.append(r.slice(n,a<0?r.length:a)),a<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);n=a+o}}readNode(e){if(e.cmIgnore)return;let r=Rt.get(e),n=r&&r.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,r){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==r&&(n.pos=this.text.length)}findPointInside(e,r){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+Math.min(r,n.offset))}}function rE(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class nE{constructor(e,r){this.node=e,this.offset=r,this.pos=-1}}class iE extends Rt{constructor(e){super(),this.view=e,this.compositionDeco=Ue.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new pn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ea(0,0,0,e.state.doc.length)],0)}get length(){return this.view.state.doc.length}update(e){let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:o,toA:s})=>s<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Ue.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=Vre(this.view,e.changes)),(_e.ie||_e.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let n=this.decorations,i=this.updateDeco(),a=Kre(n,i,e.changes);return r=ea.extendWithRanges(r,a),this.dirty==0&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,r);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=_e.chrome||_e.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.dirty=0,a&&(a.written||n.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof cs&&a.widget instanceof aE&&i.push(a.dom);n.updateGaps(i)}updateChildren(e,r){let n=this.childCursor(r);for(let i=e.length-1;;i--){let a=i>=0?e[i]:null;if(!a)break;let{fromA:o,toA:s,fromB:l,toB:u}=a,{content:c,breakAtStart:f,openStart:h,openEnd:d}=Qx.build(this.view.state.doc,l,u,this.decorations,this.dynamicDecorationMap),{i:p,off:m}=n.findPos(s,1),{i:v,off:g}=n.findPos(o,-1);kF(this,v,g,p,m,c,f,h,d)}}updateSelection(e=!1,r=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,a=!i&&ud(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||r||a))return;let o=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,l=this.domAtPos(s.anchor),u=s.empty?l:this.domAtPos(s.head);if(_e.gecko&&s.empty&&!this.compositionDeco.size&&Hre(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=u=new Fr(f,0),o=!0}let c=this.view.observer.selectionRange;(o||!c.focusNode||!yp(l.node,l.offset,c.anchorNode,c.anchorOffset)||!yp(u.node,u.offset,c.focusNode,c.focusOffset))&&(this.view.observer.ignore(()=>{_e.android&&_e.chrome&&this.dom.contains(c.focusNode)&&Yre(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=vp(this.view.root);if(f)if(s.empty){if(_e.gecko){let h=jre(l.node,l.offset);if(h&&h!=3){let d=i4(l.node,l.offset,h==1?1:-1);d&&(l=new Fr(d,h==1?0:d.nodeValue.length))}}f.collapse(l.node,l.offset),s.bidiLevel!=null&&c.cursorBidiLevel!=null&&(c.cursorBidiLevel=s.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(u.node,u.offset)}catch{}}else{let h=document.createRange();s.anchor>s.head&&([l,u]=[u,l]),h.setEnd(u.node,u.offset),h.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(h)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Fr(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new Fr(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,r=e.state.selection.main,n=vp(e.root),{anchorNode:i,anchorOffset:a}=e.observer.selectionRange;if(!n||!r.empty||!r.assoc||!n.modify)return;let o=pn.find(this,r.head);if(!o)return;let s=o.posAtStart;if(r.head==s||r.head==s+o.length)return;let l=this.coordsAt(r.head,-1),u=this.coordsAt(r.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(r.head+r.assoc);n.collapse(c.node,c.offset),n.modify("move",r.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=r.from&&n.collapse(i,a)}nearest(e){for(let r=e;r;){let n=Rt.get(r);if(n&&n.rootView==this)return n;r=r.parentNode}return null}posFromDOM(e,r){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,r)+n.posAtStart}domAtPos(e){let{i:r,off:n}=this.childCursor().findPos(e,-1);for(;r<this.children.length-1;){let i=this.children[r];if(n<i.length||i instanceof pn)break;r++,n=0}return this.children[r].domAtPos(n)}coordsAt(e,r){for(let n=this.length,i=this.children.length-1;;i--){let a=this.children[i],o=n-a.breakAfter-a.length;if(e>o||e==o&&a.type!=Gt.WidgetBefore&&a.type!=Gt.WidgetAfter&&(!i||r==2||this.children[i-1].breakAfter||this.children[i-1].type==Gt.WidgetBefore&&r>-2))return a.coordsAt(e-o,r);n=o}}measureVisibleLineHeights(e){let r=[],{from:n,to:i}=e,a=this.view.contentDOM.clientWidth,o=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,l=this.view.textDirection==Vt.LTR;for(let u=0,c=0;c<this.children.length;c++){let f=this.children[c],h=u+f.length;if(h>i)break;if(u>=n){let d=f.dom.getBoundingClientRect();if(r.push(d.height),o){let p=f.dom.lastChild,m=p?Gl(p):[];if(m.length){let v=m[m.length-1],g=l?v.right-d.left:d.right-v.left;g>s&&(s=g,this.minWidth=a,this.minWidthFrom=u,this.minWidthTo=h)}}}u=h+f.breakAfter}return r}textDirectionAt(e){let{i:r}=this.childPos(e,1);return getComputedStyle(this.children[r].dom).direction=="rtl"?Vt.RTL:Vt.LTR}measureTextSize(){for(let a of this.children)if(a instanceof pn){let o=a.measureTextSize();if(o)return o}let e=document.createElement("div"),r,n,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let a=Gl(e.firstChild)[0];r=e.getBoundingClientRect().height,n=a?a.width/27:7,i=a?a.height:r,e.remove()}),{lineHeight:r,charWidth:n,textHeight:i}}childCursor(e=this.length){let r=this.children.length;return r&&(e-=this.children[--r].length),new TF(this.children,e,r)}computeBlockGapDeco(){let e=[],r=this.view.viewState;for(let n=0,i=0;;i++){let a=i==r.viewports.length?null:r.viewports[i],o=a?a.from-1:this.length;if(o>n){let s=r.lineBlockAt(o).bottom-r.lineBlockAt(n).top;e.push(Ue.replace({widget:new aE(s),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!a)break;n=a.to+1}return Ue.set(e)}updateDeco(){let e=this.view.state.facet(Hc).map((r,n)=>(this.dynamicDecorationMap[n]=typeof r=="function")?r(this.view):r);for(let r=e.length;r<e.length+3;r++)this.dynamicDecorationMap[r]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:r}=e,n=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1),i;if(!n)return;!r.empty&&(i=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let a=XF(this.view),o={left:n.left-a.left,top:n.top-a.top,right:n.right+a.right,bottom:n.bottom+a.bottom};Nre(this.view.scrollDOM,o,r.head<r.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Vt.LTR)}}function Hre(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class aE extends ha{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function n4(t){let e=t.observer.selectionRange,r=e.focusNode&&i4(e.focusNode,e.focusOffset,0);if(!r)return null;let n=t.docView.nearest(r);if(!n)return null;if(n instanceof pn){let i=r;for(;i.parentNode!=n.dom;)i=i.parentNode;let a=i.previousSibling;for(;a&&!Rt.get(a);)a=a.previousSibling;let o=a?Rt.get(a).posAtEnd:n.posAtStart;return{from:o,to:o,node:i,text:r}}else{for(;;){let{parent:a}=n;if(!a)return null;if(a instanceof pn)break;n=a}let i=n.posAtStart;return{from:i,to:i+n.length,node:n.dom,text:r}}}function Vre(t,e){let r=n4(t);if(!r)return Ue.none;let{from:n,to:i,node:a,text:o}=r,s=e.mapPos(n,1),l=Math.max(s,e.mapPos(i,-1)),{state:u}=t,c=new r4([],u);a.nodeType==3?c.readTextNode(a):c.readRange(a.firstChild,null);let{text:f}=c;if(f.indexOf(cl)>-1)return Ue.none;if(l-s<f.length)if(u.doc.sliceString(s,Math.min(u.doc.length,s+f.length))==f)l=s+f.length;else if(u.doc.sliceString(Math.max(0,l-f.length),l)==f)s=l-f.length;else return Ue.none;else if(u.doc.sliceString(s,l)!=f)return Ue.none;let h=Rt.get(a);return h instanceof $F?h=h.widget.topView:h&&(h.parent=null),Ue.set(Ue.replace({widget:new Wre(a,o,h),inclusive:!0}).range(s,l))}class Wre extends ha{constructor(e,r,n){super(),this.top=e,this.text=r,this.topView=n}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return $F}}function i4(t,e,r){if(r<=0)for(let n=t,i=e;;){if(n.nodeType==3)return n;if(n.nodeType==1&&i>0)n=n.childNodes[i-1],i=To(n);else break}if(r>=0)for(let n=t,i=e;;){if(n.nodeType==3)return n;if(n.nodeType==1&&i<n.childNodes.length&&r>=0)n=n.childNodes[i],i=0;else break}return null}function jre(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class Gre{constructor(){this.changes=[]}compareRange(e,r){Ey(e,r,this.changes)}comparePoint(e,r){Ey(e,r,this.changes)}}function Kre(t,e,r){let n=new Gre;return At.compare(t,e,r,n),n.changes}function Yre(t,e){for(let r=t;r&&r!=e;r=r.assignedSlot||r.parentNode)if(r.nodeType==1&&r.contentEditable=="false")return!0;return!1}function Jre(t,e,r=1){let n=t.charCategorizer(e),i=t.doc.lineAt(e),a=e-i.from;if(i.length==0)return be.cursor(e);a==0?r=1:a==i.length&&(r=-1);let o=a,s=a;r<0?o=rn(i.text,a,!1):s=rn(i.text,a);let l=n(i.text.slice(o,s));for(;o>0;){let u=rn(i.text,o,!1);if(n(i.text.slice(u,o))!=l)break;o=u}for(;s<i.length;){let u=rn(i.text,s);if(n(i.text.slice(s,u))!=l)break;s=u}return be.range(o+i.from,s+i.from)}function Zre(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Xre(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function pv(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function oE(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function sE(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function ky(t,e,r){let n,i,a,o,s=!1,l,u,c,f;for(let p=t.firstChild;p;p=p.nextSibling){let m=Gl(p);for(let v=0;v<m.length;v++){let g=m[v];i&&pv(i,g)&&(g=oE(sE(g,i.bottom),i.top));let b=Zre(e,g),y=Xre(r,g);if(b==0&&y==0)return p.nodeType==3?lE(p,e,r):ky(p,e,r);if(!n||o>y||o==y&&a>b){n=p,i=g,a=b,o=y;let w=y?r<g.top?-1:1:b?e<g.left?-1:1:0;s=!w||(w>0?v<m.length-1:v>0)}b==0?r>g.bottom&&(!c||c.bottom<g.bottom)?(l=p,c=g):r<g.top&&(!f||f.top>g.top)&&(u=p,f=g):c&&pv(c,g)?c=sE(c,g.bottom):f&&pv(f,g)&&(f=oE(f,g.top))}}if(c&&c.bottom>=r?(n=l,i=c):f&&f.top<=r&&(n=u,i=f),!n)return{node:t,offset:0};let h=Math.max(i.left,Math.min(i.right,e));if(n.nodeType==3)return lE(n,h,r);if(s&&n.contentEditable!="false")return ky(n,h,r);let d=Array.prototype.indexOf.call(t.childNodes,n)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function lE(t,e,r){let n=t.nodeValue.length,i=-1,a=1e9,o=0;for(let s=0;s<n;s++){let l=Kl(t,s,s+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;o||(o=e-c.left);let f=(c.top>r?c.top-r:r-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<a){let h=e>=(c.left+c.right)/2,d=h;if((_e.chrome||_e.gecko)&&Kl(t,s).getBoundingClientRect().left==c.right&&(d=!h),f<=0)return{node:t,offset:s+(d?1:0)};i=s+(d?1:0),a=f}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function a4(t,e,r,n=-1){var i,a;let o=t.contentDOM.getBoundingClientRect(),s=o.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:f}=e,h=f-s;if(h<0)return 0;if(h>u)return t.state.doc.length;for(let w=t.viewState.heightOracle.textHeight/2,S=!1;l=t.elementAtHeight(h),l.type!=Gt.Text;)for(;h=n>0?l.bottom+w:l.top-w,!(h>=0&&h<=u);){if(S)return r?null:0;S=!0,n=-n}f=s+h;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:r?null:uE(t,o,l,c,f);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:r?null:uE(t,o,l,c,f);let p=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:p,v=m.elementFromPoint(c,f);v&&!t.contentDOM.contains(v)&&(v=null),v||(c=Math.max(o.left+1,Math.min(o.right-1,c)),v=m.elementFromPoint(c,f),v&&!t.contentDOM.contains(v)&&(v=null));let g,b=-1;if(v&&((i=t.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let w=p.caretPositionFromPoint(c,f);w&&({offsetNode:g,offset:b}=w)}else if(p.caretRangeFromPoint){let w=p.caretRangeFromPoint(c,f);w&&({startContainer:g,startOffset:b}=w,(!t.contentDOM.contains(g)||_e.safari&&Qre(g,b,c)||_e.chrome&&ene(g,b,c))&&(g=void 0))}}if(!g||!t.docView.dom.contains(g)){let w=pn.find(t.docView,d);if(!w)return h>l.top+l.height/2?l.to:l.from;({node:g,offset:b}=ky(w.dom,c,f))}let y=t.docView.nearest(g);if(!y)return null;if(y.isWidget&&((a=y.dom)===null||a===void 0?void 0:a.nodeType)==1){let w=y.dom.getBoundingClientRect();return e.y<w.top||e.y<=w.bottom&&e.x<=(w.left+w.right)/2?y.posAtStart:y.posAtEnd}else return y.localPosFromDOM(g,b)+y.posAtStart}function uE(t,e,r,n,i){let a=Math.round((n-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&r.height>t.defaultLineHeight*1.5){let s=t.viewState.heightOracle.textHeight,l=Math.floor((i-r.top-(t.defaultLineHeight-s)*.5)/s);a+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(r.from,r.to);return r.from+gy(o,a,t.state.tabSize)}function Qre(t,e,r){let n;if(t.nodeType!=3||e!=(n=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Kl(t,n-1,n).getBoundingClientRect().left>r}function ene(t,e,r){if(e!=0)return!1;for(let i=t;;){let a=i.parentNode;if(!a||a.nodeType!=1||a.firstChild!=i)return!1;if(a.classList.contains("cm-line"))break;i=a}let n=t.nodeType==1?t.getBoundingClientRect():Kl(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return r-n.left>5}function Oy(t,e){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){for(let n of r.type)if(n.to>e||n.to==e&&(n.to==r.to||n.type==Gt.Text))return n}return r}function tne(t,e,r,n){let i=Oy(t,e.head),a=!n||i.type!=Gt.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(a){let o=t.dom.getBoundingClientRect(),s=t.textDirectionAt(i.from),l=t.posAtCoords({x:r==(s==Vt.LTR)?o.right-1:o.left+1,y:(a.top+a.bottom)/2});if(l!=null)return be.cursor(l,r?-1:1)}return be.cursor(r?i.to:i.from,r?-1:1)}function cE(t,e,r,n){let i=t.state.doc.lineAt(e.head),a=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let s=e,l=null;;){let u=qre(i,a,o,s,r),c=t4;if(!u){if(i.number==(r?t.state.doc.lines:1))return s;c=`
`,i=t.state.doc.line(i.number+(r?1:-1)),a=t.bidiSpans(i),u=be.cursor(r?i.from:i.to)}if(l){if(!l(c))return s}else{if(!n)return u;l=n(c)}s=u}}function rne(t,e,r){let n=t.state.charCategorizer(e),i=n(r);return a=>{let o=n(a);return i==zt.Space&&(i=o),i==o}}function nne(t,e,r,n){let i=e.head,a=r?1:-1;if(i==(r?t.state.doc.length:0))return be.cursor(i,e.assoc);let o=e.goalColumn,s,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i),c=t.documentTop;if(u)o==null&&(o=u.left-l.left),s=a<0?u.top:u.bottom;else{let d=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-d.from))),s=(a<0?d.top:d.bottom)+c}let f=l.left+o,h=n??t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let p=s+(h+d)*a,m=a4(t,{x:f,y:p},!1,a);if(p<l.top||p>l.bottom||(a<0?m<i:m>i))return be.cursor(m,e.assoc,void 0,o)}}function cd(t,e,r){for(;;){let n=0;for(let i of t)i.between(e-1,e+1,(a,o,s)=>{if(e>a&&e<o){let l=n||r||(e-a<o-e?-1:1);e=l<0?a:o,n=l}});if(!n)return e}}function mv(t,e,r){let n=cd(t.state.facet(tb).map(i=>i(t)),r.from,e.head>r.from?-1:1);return n==r.from?r:be.cursor(n,n<r.from?1:-1)}class ine{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let r=(n,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():n(e,i))};for(let n in or){let i=or[n];e.contentDOM.addEventListener(n,a=>{fE(e,a)&&r(i,a)},By[n]),this.registeredEvents.push(n)}e.scrollDOM.addEventListener("mousedown",n=>{if(n.target==e.scrollDOM&&n.clientY>e.contentDOM.getBoundingClientRect().bottom&&(r(or.mousedown,n),!n.defaultPrevented&&n.button==2)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),e.scrollDOM.addEventListener("drop",n=>{n.target==e.scrollDOM&&n.clientY>e.contentDOM.getBoundingClientRect().bottom&&r(or.drop,n)}),_e.chrome&&_e.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,_e.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,r){var n;let i;this.customHandlers=[];for(let a of r)if(i=(n=a.update(e).spec)===null||n===void 0?void 0:n.domEventHandlers){this.customHandlers.push({plugin:a.value,handlers:i});for(let o in i)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,s=>{fE(e,s)&&this.runCustomHandlers(o,e,s)&&s.preventDefault()}))}}runCustomHandlers(e,r,n){for(let i of this.customHandlers){let a=i.handlers[e];if(a)try{if(a.call(i.plugin,n,r)||n.defaultPrevented)return!0}catch(o){ni(r.state,o)}}return!1}runScrollHandlers(e,r){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let n of this.customHandlers){let i=n.handlers.scroll;if(i)try{i.call(n.plugin,r,e)}catch(a){ni(e.state,a)}}}keydown(e,r){if(this.lastKeyCode=r.keyCode,this.lastKeyTime=Date.now(),r.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(r.keyCode!=27&&s4.indexOf(r.keyCode)<0&&(e.inputState.lastEscPress=0),_e.android&&_e.chrome&&!r.synthetic&&(r.keyCode==13||r.keyCode==8))return e.observer.delayAndroidKey(r.key,r.keyCode),!0;let n;return _e.ios&&!r.synthetic&&!r.altKey&&!r.metaKey&&((n=o4.find(i=>i.keyCode==r.keyCode))&&!r.ctrlKey||ane.indexOf(r.key)>-1&&r.ctrlKey&&!r.shiftKey)?(this.pendingIOSKey=n||r,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let r=this.pendingIOSKey;return r?(this.pendingIOSKey=void 0,Al(e.contentDOM,r.key,r.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:_e.safari&&!_e.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const o4=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],ane="dthko",s4=[16,17,18,20,91,92,224,225],Ch=6;function Dh(t){return Math.max(0,t)*.7+8}class one{constructor(e,r,n,i){this.view=e,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=r,this.scrollParent=Mre(e.contentDOM),this.atoms=e.state.facet(tb).map(o=>o(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=r.shiftKey,this.multiple=e.state.facet(ct.allowMultipleSelections)&&sne(e,r),this.dragging=une(e,r)&&f4(r)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var r;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let n=0,i=0,a=((r=this.scrollParent)===null||r===void 0?void 0:r.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},o=XF(this.view);e.clientX-o.left<=a.left+Ch?n=-Dh(a.left-e.clientX):e.clientX+o.right>=a.right-Ch&&(n=Dh(e.clientX-a.right)),e.clientY-o.top<=a.top+Ch?i=-Dh(a.top-e.clientY):e.clientY+o.bottom>=a.bottom-Ch&&(i=Dh(e.clientY-a.bottom)),this.setScrollSpeed(n,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,r){this.scrollSpeed={x:e,y:r},e||r?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let r=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],a=null;if(i.empty){let o=cd(this.atoms,i.from,0);o!=i.from&&(a=be.cursor(o,-1))}else{let o=cd(this.atoms,i.from,-1),s=cd(this.atoms,i.to,1);(o!=i.from||s!=i.to)&&(a=be.range(i.from==i.anchor?o:s,i.from==i.head?o:s))}a&&(r||(r=e.ranges.slice()),r[n]=a)}return r?be.create(r,e.mainIndex):e}select(e){let{view:r}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(r.state.selection)||n.main.assoc!=r.state.selection.main.assoc)&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function sne(t,e){let r=t.state.facet(qF);return r.length?r[0](e):_e.mac?e.metaKey:e.ctrlKey}function lne(t,e){let r=t.state.facet(HF);return r.length?r[0](e):_e.mac?!e.altKey:!e.ctrlKey}function une(t,e){let{main:r}=t.state.selection;if(r.empty)return!1;let n=vp(t.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let a=0;a<i.length;a++){let o=i[a];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function fE(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target,n;r!=t.contentDOM;r=r.parentNode)if(!r||r.nodeType==11||(n=Rt.get(r))&&n.ignoreEvent(e))return!1;return!0}const or=Object.create(null),By=Object.create(null),l4=_e.ie&&_e.ie_version<15||_e.ios&&_e.webkit_version<604;function cne(t){let e=t.dom.parentNode;if(!e)return;let r=e.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.remove(),u4(t,r.value)},50)}function u4(t,e){let{state:r}=t,n,i=1,a=r.toText(e),o=a.lines==r.selection.ranges.length;if(Fy!=null&&r.selection.ranges.every(l=>l.empty)&&Fy==a.toString()){let l=-1;n=r.changeByRange(u=>{let c=r.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let f=r.toText((o?a.line(i++).text:e)+r.lineBreak);return{changes:{from:c.from,insert:f},range:be.cursor(u.from+f.length)}})}else o?n=r.changeByRange(l=>{let u=a.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:be.cursor(l.from+u.length)}}):n=r.replaceSelection(a);t.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}or.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now())};or.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};or.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};By.touchstart=By.touchmove={passive:!0};or.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let r=null;for(let n of t.state.facet(VF))if(r=n(t,e),r)break;if(!r&&e.button==0&&(r=dne(t,e)),r){let n=t.root.activeElement!=t.contentDOM;t.inputState.startMouseSelection(new one(t,e,r,n)),n&&t.observer.ignore(()=>NF(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function hE(t,e,r,n){if(n==1)return be.cursor(e,r);if(n==2)return Jre(t.state,e,r);{let i=pn.find(t.docView,e),a=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:a.from,s=i?i.posAtEnd:a.to;return s<t.state.doc.length&&s==a.to&&s++,be.range(o,s)}}let c4=(t,e)=>t>=e.top&&t<=e.bottom,dE=(t,e,r)=>c4(e,r)&&t>=r.left&&t<=r.right;function fne(t,e,r,n){let i=pn.find(t.docView,e);if(!i)return 1;let a=e-i.posAtStart;if(a==0)return 1;if(a==i.length)return-1;let o=i.coordsAt(a,-1);if(o&&dE(r,n,o))return-1;let s=i.coordsAt(a,1);return s&&dE(r,n,s)?1:o&&c4(n,o)?-1:1}function pE(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:r,bias:fne(t,r,e.clientX,e.clientY)}}const hne=_e.ie&&_e.ie_version<=11;let mE=null,gE=0,vE=0;function f4(t){if(!hne)return t.detail;let e=mE,r=vE;return mE=t,vE=Date.now(),gE=!e||r>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(gE+1)%3:1}function dne(t,e){let r=pE(t,e),n=f4(e),i=t.state.selection;return{update(a){a.docChanged&&(r.pos=a.changes.mapPos(r.pos),i=i.map(a.changes))},get(a,o,s){let l=pE(t,a),u,c=hE(t,l.pos,l.bias,n);if(r.pos!=l.pos&&!o){let f=hE(t,r.pos,r.bias,n),h=Math.min(f.from,c.from),d=Math.max(f.to,c.to);c=h<c.from?be.range(h,d):be.range(d,h)}return o?i.replaceRange(i.main.extend(c.from,c.to)):s&&n==1&&i.ranges.length>1&&(u=pne(i,l.pos))?u:s?i.addRange(c):be.create([c])}}}function pne(t,e){for(let r=0;r<t.ranges.length;r++){let{from:n,to:i}=t.ranges[r];if(n<=e&&i>=e)return be.create(t.ranges.slice(0,r).concat(t.ranges.slice(r+1)),t.mainIndex==r?0:t.mainIndex-(t.mainIndex>r?1:0))}return null}or.dragstart=(t,e)=>{let{selection:{main:r}}=t.state,{mouseSelection:n}=t.inputState;n&&(n.dragging=r),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(r.from,r.to)),e.dataTransfer.effectAllowed="copyMove")};function yE(t,e,r,n){if(!r)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:a}=t.inputState,o=n&&a&&a.dragging&&lne(t,e)?{from:a.dragging.from,to:a.dragging.to}:null,s={from:i,insert:r},l=t.state.changes(o?[o,s]:s);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"})}or.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let r=e.dataTransfer.files;if(r&&r.length){e.preventDefault();let n=Array(r.length),i=0,a=()=>{++i==r.length&&yE(t,e,n.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<r.length;o++){let s=new FileReader;s.onerror=a,s.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(s.result)||(n[o]=s.result),a()},s.readAsText(r[o])}}else yE(t,e,e.dataTransfer.getData("Text"),!0)};or.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let r=l4?null:e.clipboardData;r?(u4(t,r.getData("text/plain")||r.getData("text/uri-text")),e.preventDefault()):cne(t)};function mne(t,e){let r=t.dom.parentNode;if(!r)return;let n=r.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),t.focus()},50)}function gne(t){let e=[],r=[],n=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),r.push(i));if(!e.length){let i=-1;for(let{from:a}of t.selection.ranges){let o=t.doc.lineAt(a);o.number>i&&(e.push(o.text),r.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}n=!0}return{text:e.join(t.lineBreak),ranges:r,linewise:n}}let Fy=null;or.copy=or.cut=(t,e)=>{let{text:r,ranges:n,linewise:i}=gne(t.state);if(!r&&!i)return;Fy=i?r:null;let a=l4?null:e.clipboardData;a?(e.preventDefault(),a.clearData(),a.setData("text/plain",r)):mne(t,r),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"})};const h4=ca.define();function d4(t,e){let r=[];for(let n of t.facet(GF)){let i=n(t,e);i&&r.push(i)}return r?t.update({effects:r,annotations:h4.of(!0)}):null}function p4(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let r=d4(t.state,e);r?t.dispatch(r):t.update([])}},10)}or.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),p4(t)};or.blur=t=>{t.observer.clearSelectionRange(),p4(t)};or.compositionstart=or.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};or.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,_e.chrome&&_e.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.compositionDeco.size&&t.update([])},50)};or.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};or.beforeinput=(t,e)=>{var r;let n;if(_e.chrome&&_e.android&&(n=o4.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(n.key,n.keyCode),n.key=="Backspace"||n.key=="Delete")){let i=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var a;(((a=window.visualViewport)===null||a===void 0?void 0:a.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const xE=["pre-wrap","normal","pre-line","break-spaces"];class vne{constructor(e){this.lineWrapping=e,this.doc=bt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,r){let n=this.doc.lineAt(r).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((r-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return xE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let r=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(r=!0,this.heightSamples[Math.floor(i*10)]=!0)}return r}refresh(e,r,n,i,a,o){let s=xE.indexOf(e)>-1,l=Math.round(r)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=r,this.charWidth=n,this.textHeight=i,this.lineLength=a,l){this.heightSamples={};for(let u=0;u<o.length;u++){let c=o[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class yne{constructor(e,r){this.from=e,this.heights=r,this.index=0}get more(){return this.index<this.heights.length}}class ji{constructor(e,r,n,i,a){this.from=e,this.length=r,this.top=n,this.height=i,this._content=a}get type(){return typeof this._content=="number"?Gt.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ko?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let r=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ji(this.from,this.length+e.length,this.top,this.height+e.height,r)}}var It=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(It||(It={}));const fd=.001;class an{constructor(e,r,n=2){this.length=e,this.height=r,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,r){this.height!=r&&(Math.abs(this.height-r)>fd&&(e.heightChanged=!0),this.height=r)}replace(e,r,n){return an.of(n)}decomposeLeft(e,r){r.push(this)}decomposeRight(e,r){r.push(this)}applyChanges(e,r,n,i){let a=this,o=n.doc;for(let s=i.length-1;s>=0;s--){let{fromA:l,toA:u,fromB:c,toB:f}=i[s],h=a.lineAt(l,It.ByPosNoHeight,n.setDoc(r),0,0),d=h.to>=u?h:a.lineAt(u,It.ByPosNoHeight,n,0,0);for(f+=d.to-u,u=d.to;s>0&&h.from<=i[s-1].toA;)l=i[s-1].fromA,c=i[s-1].fromB,s--,l<h.from&&(h=a.lineAt(l,It.ByPosNoHeight,n,0,0));c+=h.from-l,l=h.from;let p=rb.build(n.setDoc(o),e,c,f);a=a.replace(l,u,p)}return a.updateHeight(n,0)}static empty(){return new Tn(0,0)}static of(e){if(e.length==1)return e[0];let r=0,n=e.length,i=0,a=0;for(;;)if(r==n)if(i>a*2){let s=e[r-1];s.break?e.splice(--r,1,s.left,null,s.right):e.splice(--r,1,s.left,s.right),n+=1+s.break,i-=s.size}else if(a>i*2){let s=e[n];s.break?e.splice(n,1,s.left,null,s.right):e.splice(n,1,s.left,s.right),n+=2+s.break,a-=s.size}else break;else if(i<a){let s=e[r++];s&&(i+=s.size)}else{let s=e[--n];s&&(a+=s.size)}let o=0;return e[r-1]==null?(o=1,r--):e[r]==null&&(o=1,n++),new xne(an.of(e.slice(0,r)),o,an.of(e.slice(n)))}}an.prototype.size=1;class m4 extends an{constructor(e,r,n){super(e,r),this.deco=n}blockAt(e,r,n,i){return new ji(i,this.length,n,this.height,this.deco||0)}lineAt(e,r,n,i,a){return this.blockAt(0,n,i,a)}forEachLine(e,r,n,i,a,o){e<=a+this.length&&r>=a&&o(this.blockAt(0,n,i,a))}updateHeight(e,r=0,n=!1,i){return i&&i.from<=r&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Tn extends m4{constructor(e,r){super(e,r,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,r,n,i){return new ji(i,this.length,n,this.height,this.breaks)}replace(e,r,n){let i=n[0];return n.length==1&&(i instanceof Tn||i instanceof Nr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Nr?i=new Tn(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):an.of(n)}updateHeight(e,r=0,n=!1,i){return i&&i.from<=r&&i.more?this.setHeight(e,i.heights[i.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Nr extends an{constructor(e){super(e,0)}heightMetrics(e,r){let n=e.doc.lineAt(r).number,i=e.doc.lineAt(r+this.length).number,a=i-n+1,o,s=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*a);o=l/a,this.length>a+1&&(s=(this.height-l)/(this.length-a-1))}else o=this.height/a;return{firstLine:n,lastLine:i,perLine:o,perChar:s}}blockAt(e,r,n,i){let{firstLine:a,lastLine:o,perLine:s,perChar:l}=this.heightMetrics(r,i);if(r.lineWrapping){let u=i+Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length),c=r.doc.lineAt(u),f=s+c.length*l,h=Math.max(n,e-f/2);return new ji(c.from,c.length,h,f,0)}else{let u=Math.max(0,Math.min(o-a,Math.floor((e-n)/s))),{from:c,length:f}=r.doc.line(a+u);return new ji(c,f,n+s*u,s,0)}}lineAt(e,r,n,i,a){if(r==It.ByHeight)return this.blockAt(e,n,i,a);if(r==It.ByPosNoHeight){let{from:d,to:p}=n.doc.lineAt(e);return new ji(d,p-d,0,0,0)}let{firstLine:o,perLine:s,perChar:l}=this.heightMetrics(n,a),u=n.doc.lineAt(e),c=s+u.length*l,f=u.number-o,h=i+s*f+l*(u.from-a-f);return new ji(u.from,u.length,Math.max(i,Math.min(h,i+this.height-c)),c,0)}forEachLine(e,r,n,i,a,o){e=Math.max(e,a),r=Math.min(r,a+this.length);let{firstLine:s,perLine:l,perChar:u}=this.heightMetrics(n,a);for(let c=e,f=i;c<=r;){let h=n.doc.lineAt(c);if(c==e){let p=h.number-s;f+=l*p+u*(e-a-p)}let d=l+u*h.length;o(new ji(h.from,h.length,f,d,0)),f+=d,c=h.to+1}}replace(e,r,n){let i=this.length-r;if(i>0){let a=n[n.length-1];a instanceof Nr?n[n.length-1]=new Nr(a.length+i):n.push(null,new Nr(i-1))}if(e>0){let a=n[0];a instanceof Nr?n[0]=new Nr(e+a.length):n.unshift(new Nr(e-1),null)}return an.of(n)}decomposeLeft(e,r){r.push(new Nr(e-1),null)}decomposeRight(e,r){r.push(null,new Nr(this.length-e-1))}updateHeight(e,r=0,n=!1,i){let a=r+this.length;if(i&&i.from<=r+this.length&&i.more){let o=[],s=Math.max(r,i.from),l=-1;for(i.from>r&&o.push(new Nr(i.from-r-1).updateHeight(e,r));s<=a&&i.more;){let c=e.doc.lineAt(s).length;o.length&&o.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=fd&&(l=-2);let h=new Tn(c,f);h.outdated=!1,o.push(h),s+=c+1}s<=a&&o.push(null,new Nr(a-s).updateHeight(e,s));let u=an.of(o);return(l<0||Math.abs(u.height-this.height)>=fd||Math.abs(l-this.heightMetrics(e,r).perLine)>=fd)&&(e.heightChanged=!0),u}else(n||this.outdated)&&(this.setHeight(e,e.heightForGap(r,r+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class xne extends an{constructor(e,r,n){super(e.length+r+n.length,e.height+n.height,r|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,r,n,i){let a=n+this.left.height;return e<a?this.left.blockAt(e,r,n,i):this.right.blockAt(e,r,a,i+this.left.length+this.break)}lineAt(e,r,n,i,a){let o=i+this.left.height,s=a+this.left.length+this.break,l=r==It.ByHeight?e<o:e<s,u=l?this.left.lineAt(e,r,n,i,a):this.right.lineAt(e,r,n,o,s);if(this.break||(l?u.to<s:u.from>s))return u;let c=r==It.ByPosNoHeight?It.ByPosNoHeight:It.ByPos;return l?u.join(this.right.lineAt(s,c,n,o,s)):this.left.lineAt(s,c,n,i,a).join(u)}forEachLine(e,r,n,i,a,o){let s=i+this.left.height,l=a+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,r,n,i,a,o),r>=l&&this.right.forEachLine(e,r,n,s,l,o);else{let u=this.lineAt(l,It.ByPos,n,i,a);e<u.from&&this.left.forEachLine(e,u.from-1,n,i,a,o),u.to>=e&&u.from<=r&&o(u),r>u.to&&this.right.forEachLine(u.to+1,r,n,s,l,o)}}replace(e,r,n){let i=this.left.length+this.break;if(r<i)return this.balanced(this.left.replace(e,r,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,r-i,n));let a=[];e>0&&this.decomposeLeft(e,a);let o=a.length;for(let s of n)a.push(s);if(e>0&&bE(a,o-1),r<this.length){let s=a.length;this.decomposeRight(r,a),bE(a,s)}return an.of(a)}decomposeLeft(e,r){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,r);r.push(this.left),this.break&&(n++,e>=n&&r.push(null)),e>n&&this.right.decomposeLeft(e-n,r)}decomposeRight(e,r){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,r);e<n&&this.left.decomposeRight(e,r),this.break&&e<i&&r.push(null),r.push(this.right)}balanced(e,r){return e.size>2*r.size||r.size>2*e.size?an.of(this.break?[e,null,r]:[e,r]):(this.left=e,this.right=r,this.height=e.height+r.height,this.outdated=e.outdated||r.outdated,this.size=e.size+r.size,this.length=e.length+this.break+r.length,this)}updateHeight(e,r=0,n=!1,i){let{left:a,right:o}=this,s=r+a.length+this.break,l=null;return i&&i.from<=r+a.length&&i.more?l=a=a.updateHeight(e,r,n,i):a.updateHeight(e,r,n),i&&i.from<=s+o.length&&i.more?l=o=o.updateHeight(e,s,n,i):o.updateHeight(e,s,n),l?this.balanced(a,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function bE(t,e){let r,n;t[e]==null&&(r=t[e-1])instanceof Nr&&(n=t[e+1])instanceof Nr&&t.splice(e-1,3,new Nr(r.length+1+n.length))}const bne=5;class rb{constructor(e,r){this.pos=e,this.oracle=r,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,r){if(this.lineStart>-1){let n=Math.min(r,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Tn?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Tn(n-this.pos,-1)),this.writtenTo=n,r>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=r}point(e,r,n){if(e<r||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,a=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=r-e;n.block?this.addBlock(new m4(o,i,n)):(o||a||i>=bne)&&this.addLineDeco(i,a,o)}else r>e&&this.span(e,r);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:r}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=r,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Tn(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,r){let n=new Nr(r-e);return this.oracle.doc.lineAt(e).to==r&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Tn)return e;let r=new Tn(0,-1);return this.nodes.push(r),r}addBlock(e){var r;this.enterLine();let n=(r=e.deco)===null||r===void 0?void 0:r.type;n==Gt.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n!=Gt.WidgetBefore&&(this.covering=e)}addLineDeco(e,r,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=r,this.writtenTo=this.pos=this.pos+n}finish(e){let r=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(r instanceof Tn)&&!this.isCovered?this.nodes.push(new Tn(0,-1)):(this.writtenTo<this.pos||r==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof Tn&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,r,n,i){let a=new rb(n,e);return At.spans(r,n,i,a,0),a.finish(n)}}function wne(t,e,r){let n=new Sne;return At.compare(t,e,r,n,0),n.changes}class Sne{constructor(){this.changes=[]}compareRange(){}comparePoint(e,r,n,i){(e<r||n&&n.heightRelevant||i&&i.heightRelevant)&&Ey(e,r,this.changes,5)}}function Cne(t,e){let r=t.getBoundingClientRect(),n=t.ownerDocument,i=n.defaultView||window,a=Math.max(0,r.left),o=Math.min(i.innerWidth,r.right),s=Math.max(0,r.top),l=Math.min(i.innerHeight,r.bottom);for(let u=t.parentNode;u&&u!=n.body;)if(u.nodeType==1){let c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){let h=c.getBoundingClientRect();a=Math.max(a,h.left),o=Math.min(o,h.right),s=Math.max(s,h.top),l=u==t.parentNode?h.bottom:Math.min(l,h.bottom)}u=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:a-r.left,right:Math.max(a,o)-r.left,top:s-(r.top+e),bottom:Math.max(s,l)-(r.top+e)}}function Dne(t,e){let r=t.getBoundingClientRect();return{left:0,right:r.right-r.left,top:e,bottom:r.bottom-(r.top+e)}}class gv{constructor(e,r,n){this.from=e,this.to=r,this.size=n}static same(e,r){if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],a=r[n];if(i.from!=a.from||i.to!=a.to||i.size!=a.size)return!1}return!0}draw(e){return Ue.replace({widget:new Ane(this.size,e)}).range(this.from,this.to)}}class Ane extends ha{constructor(e,r){super(),this.size=e,this.vertical=r}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class wE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=SE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Vt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let r=e.facet(eb).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new vne(r),this.stateDeco=e.facet(Hc).filter(n=>typeof n!="function"),this.heightMap=an.empty().applyChanges(this.stateDeco,bt.empty,this.heightOracle.setDoc(e.doc),[new ea(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ue.set(this.lineGaps.map(n=>n.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:r}=this.state.selection;for(let n=0;n<=1;n++){let i=n?r.head:r.anchor;if(!e.some(({from:a,to:o})=>i>=a&&i<=o)){let{from:a,to:o}=this.lineBlockAt(i);e.push(new Ah(a,o))}}this.viewports=e.sort((n,i)=>n.from-i.from),this.scaler=this.heightMap.height<=7e6?SE:new Mne(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Xu(e,this.scaler))})}update(e,r=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(Hc).filter(c=>typeof c!="function");let i=e.changedRanges,a=ea.extendWithRanges(i,wne(n,this.stateDeco,e?e.changes:hr.empty(this.state.doc.length))),o=this.heightMap.height,s=this.scrolledToBottom?null:this.lineBlockAtHeight(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),this.heightMap.height!=o&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(r&&(r.range.head<l.from||r.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,r));let u=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),u&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),r&&(this.scrollTarget=r),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(YF)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let r=e.contentDOM,n=window.getComputedStyle(r),i=this.heightOracle,a=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?Vt.RTL:Vt.LTR;let o=this.heightOracle.mustRefreshForWrapping(a),s=r.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let u=0,c=0,f=parseInt(n.paddingTop)||0,h=parseInt(n.paddingBottom)||0;(this.paddingTop!=f||this.paddingBottom!=h)&&(this.paddingTop=f,this.paddingBottom=h,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8),this.scrollTop!=e.scrollDOM.scrollTop&&(this.scrollAnchorHeight=-1,this.scrollTop=e.scrollDOM.scrollTop),this.scrolledToBottom=this.scrollTop>e.scrollDOM.scrollHeight-e.scrollDOM.clientHeight-4;let d=(this.printing?Dne:Cne)(r,this.paddingTop),p=d.top-this.pixelViewport.top,m=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let g=s.width;if((this.contentDOMWidth!=g||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let y=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(y)&&(o=!0),o||i.lineWrapping&&Math.abs(g-this.contentDOMWidth)>i.charWidth){let{lineHeight:w,charWidth:S,textHeight:x}=e.docView.measureTextSize();o=w>0&&i.refresh(a,w,S,x,g/S,y),o&&(e.docView.minWidth=0,u|=8)}p>0&&m>0?c=Math.max(p,m):p<0&&m<0&&(c=Math.min(p,m)),i.heightChanged=!1;for(let w of this.viewports){let S=w.from==this.viewport.from?y:e.docView.measureVisibleLineHeights(w);this.heightMap=(o?an.empty().applyChanges(this.stateDeco,bt.empty,this.heightOracle,[new ea(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new yne(w.from,S))}i.heightChanged&&(u|=2)}let b=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return b&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(u&2||b)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,r){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,a=this.heightOracle,{visibleTop:o,visibleBottom:s}=this,l=new Ah(i.lineAt(o-n*1e3,It.ByHeight,a,0,0).from,i.lineAt(s+(1-n)*1e3,It.ByHeight,a,0,0).to);if(r){let{head:u}=r.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(u,It.ByPos,a,0,0),h;r.y=="center"?h=(f.top+f.bottom)/2-c/2:r.y=="start"||r.y=="nearest"&&u<l.from?h=f.top:h=f.bottom-c,l=new Ah(i.lineAt(h-1e3/2,It.ByHeight,a,0,0).from,i.lineAt(h+c+1e3/2,It.ByHeight,a,0,0).to)}}return l}mapViewport(e,r){let n=r.mapPos(e.from,-1),i=r.mapPos(e.to,1);return new Ah(this.heightMap.lineAt(n,It.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,It.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:r},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,It.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(r,It.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:s}=this;return(e==0||i<=o-Math.max(10,Math.min(-n,250)))&&(r==this.state.doc.length||a>=s+Math.max(10,Math.min(n,250)))&&i>o-2*1e3&&a<s+2*1e3}mapLineGaps(e,r){if(!e.length||r.empty)return e;let n=[];for(let i of e)r.touchesRange(i.from,i.to)||n.push(new gv(r.mapPos(i.from),r.mapPos(i.to),i.size));return n}ensureLineGaps(e,r){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,a=i>>1,o=i<<1;if(this.defaultTextDirection!=Vt.LTR&&!n)return[];let s=[],l=(u,c,f,h)=>{if(c-u<a)return;let d=this.state.selection.main,p=[d.from];d.empty||p.push(d.to);for(let v of p)if(v>u&&v<c){l(u,v-10,f,h),l(v+10,c,f,h);return}let m=Nne(e,v=>v.from>=f.from&&v.to<=f.to&&Math.abs(v.from-u)<a&&Math.abs(v.to-c)<a&&!p.some(g=>v.from<g&&v.to>g));if(!m){if(c<f.to&&r&&n&&r.visibleRanges.some(v=>v.from<=c&&v.to>=c)){let v=r.moveToLineBoundary(be.cursor(c),!1,!0).head;v>u&&(c=v)}m=new gv(u,c,this.gapSize(f,u,c,h))}s.push(m)};for(let u of this.viewportLines){if(u.length<o)continue;let c=Ene(u.from,u.to,this.stateDeco);if(c.total<o)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,h,d;if(n){let p=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,m,v;if(f!=null){let g=Nh(c,f),b=((this.visibleBottom-this.visibleTop)/2+p)/u.height;m=g-b,v=g+b}else m=(this.visibleTop-u.top-p)/u.height,v=(this.visibleBottom-u.top+p)/u.height;h=Eh(c,m),d=Eh(c,v)}else{let p=c.total*this.heightOracle.charWidth,m=i*this.heightOracle.charWidth,v,g;if(f!=null){let b=Nh(c,f),y=((this.pixelViewport.right-this.pixelViewport.left)/2+m)/p;v=b-y,g=b+y}else v=(this.pixelViewport.left-m)/p,g=(this.pixelViewport.right+m)/p;h=Eh(c,v),d=Eh(c,g)}h>u.from&&l(u.from,h,u,c),d<u.to&&l(d,u.to,u,c)}return s}gapSize(e,r,n,i){let a=Nh(i,n)-Nh(i,r);return this.heightOracle.lineWrapping?e.height*a:i.total*this.heightOracle.charWidth*a}updateLineGaps(e){gv.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ue.set(e.map(r=>r.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let r=[];At.spans(e,this.viewport.from,this.viewport.to,{span(i,a){r.push({from:i,to:a})},point(){}},20);let n=r.length!=this.visibleRanges.length||this.visibleRanges.some((i,a)=>i.from!=r[a].from||i.to!=r[a].to);return this.visibleRanges=r,n?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(r=>r.from<=e&&r.to>=e)||Xu(this.heightMap.lineAt(e,It.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Xu(this.heightMap.lineAt(this.scaler.fromDOM(e),It.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return Xu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Ah{constructor(e,r){this.from=e,this.to=r}}function Ene(t,e,r){let n=[],i=t,a=0;return At.spans(r,t,e,{span(){},point(o,s){o>i&&(n.push({from:i,to:o}),a+=o-i),i=s}},20),i<e&&(n.push({from:i,to:e}),a+=e-i),{total:a,ranges:n}}function Eh({total:t,ranges:e},r){if(r<=0)return e[0].from;if(r>=1)return e[e.length-1].to;let n=Math.floor(t*r);for(let i=0;;i++){let{from:a,to:o}=e[i],s=o-a;if(n<=s)return a+n;n-=s}}function Nh(t,e){let r=0;for(let{from:n,to:i}of t.ranges){if(e<=i){r+=e-n;break}r+=i-n}return r/t.total}function Nne(t,e){for(let r of t)if(e(r))return r}const SE={toDOM(t){return t},fromDOM(t){return t},scale:1};class Mne{constructor(e,r,n){let i=0,a=0,o=0;this.viewports=n.map(({from:s,to:l})=>{let u=r.lineAt(s,It.ByPos,e,0,0).top,c=r.lineAt(l,It.ByPos,e,0,0).bottom;return i+=c-u,{from:s,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(r.height-i);for(let s of this.viewports)s.domTop=o+(s.top-a)*this.scale,o=s.domBottom=s.domTop+(s.bottom-s.top),a=s.bottom}toDOM(e){for(let r=0,n=0,i=0;;r++){let a=r<this.viewports.length?this.viewports[r]:null;if(!a||e<a.top)return i+(e-n)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);n=a.bottom,i=a.domBottom}}fromDOM(e){for(let r=0,n=0,i=0;;r++){let a=r<this.viewports.length?this.viewports[r]:null;if(!a||e<a.domTop)return n+(e-i)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);n=a.bottom,i=a.domBottom}}}function Xu(t,e){if(e.scale==1)return t;let r=e.toDOM(t.top),n=e.toDOM(t.bottom);return new ji(t.from,t.length,r,n-r,Array.isArray(t._content)?t._content.map(i=>Xu(i,e)):t._content)}const Mh=ze.define({combine:t=>t.join(" ")}),$y=ze.define({combine:t=>t.indexOf(!0)>-1}),Ry=No.newName(),g4=No.newName(),v4=No.newName(),y4={"&light":"."+g4,"&dark":"."+v4};function Py(t,e,r){return new No(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return t;if(!r||!r[i])throw new RangeError(`Unsupported selector: ${i}`);return r[i]}):t+" "+n}})}const Tne=Py("."+Ry,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},y4);class kne{constructor(e,r,n,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:a,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&r>-1)this.newSel=null;else if(r>-1&&(this.bounds=e.docView.domBoundsAround(r,n,0))){let s=a||o?[]:Bne(e),l=new r4(s,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Fne(s,this.bounds.from)}else{let s=e.observer.selectionRange,l=a&&a.node==s.focusNode&&a.offset==s.focusOffset||!jl(e.contentDOM,s.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(s.focusNode,s.focusOffset),u=o&&o.node==s.anchorNode&&o.offset==s.anchorOffset||!jl(e.contentDOM,s.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(s.anchorNode,s.anchorOffset);this.newSel=be.single(u,l)}}}function x4(t,e){let r,{newSel:n}=e,i=t.state.selection.main,a=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:s}=e.bounds,l=i.from,u=null;(a===8||_e.android&&e.text.length<s-o)&&(l=i.to,u="end");let c=One(t.state.doc.sliceString(o,s,cl),e.text,l-o,u);c&&(_e.chrome&&a==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==cl+cl&&c.toB--,r={from:o+c.from,to:o+c.toA,insert:bt.of(e.text.slice(c.from,c.toB).split(cl))})}else n&&(!t.hasFocus&&t.state.facet($m)||n.main.eq(i))&&(n=null);if(!r&&!n)return!1;if(!r&&e.typeOver&&!i.empty&&n&&n.main.empty?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:r&&r.from>=i.from&&r.to<=i.to&&(r.from!=i.from||r.to!=i.to)&&i.to-i.from-(r.to-r.from)<=4?r={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,r.from).append(r.insert).append(t.state.doc.slice(r.to,i.to))}:(_e.mac||_e.android)&&r&&r.from==r.to&&r.from==i.head-1&&/^\. ?$/.test(r.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(n&&r.insert.length==2&&(n=be.single(n.main.anchor-1,n.main.head-1)),r={from:i.from,to:i.to,insert:bt.of([" "])}):_e.chrome&&r&&r.from==r.to&&r.from==i.head&&r.insert.toString()==`
 `&&t.lineWrapping&&(n&&(n=be.single(n.main.anchor-1,n.main.head-1)),r={from:i.from,to:i.to,insert:bt.of([" "])}),r){let o=t.state;if(_e.ios&&t.inputState.flushIOSKey(t)||_e.android&&(r.from==i.from&&r.to==i.to&&r.insert.length==1&&r.insert.lines==2&&Al(t.contentDOM,"Enter",13)||(r.from==i.from-1&&r.to==i.to&&r.insert.length==0||a==8&&r.insert.length<r.to-r.from)&&Al(t.contentDOM,"Backspace",8)||r.from==i.from&&r.to==i.to+1&&r.insert.length==0&&Al(t.contentDOM,"Delete",46)))return!0;let s=r.insert.toString();if(t.state.facet(jF).some(c=>c(t,r.from,r.to,s)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let l;if(r.from>=i.from&&r.to<=i.to&&r.to-r.from>=(i.to-i.from)/3&&(!n||n.main.empty&&n.main.from==r.from+r.insert.length)&&t.inputState.composing<0){let c=i.from<r.from?o.sliceDoc(i.from,r.from):"",f=i.to>r.to?o.sliceDoc(r.to,i.to):"";l=o.replaceSelection(t.state.toText(c+r.insert.sliceString(0,void 0,t.state.lineBreak)+f))}else{let c=o.changes(r),f=n&&n.main.to<=c.newLength?n.main:void 0;if(o.selection.ranges.length>1&&t.inputState.composing>=0&&r.to<=i.to&&r.to>=i.to-10){let h=t.state.sliceDoc(r.from,r.to),d=n4(t)||t.state.doc.lineAt(i.head),p=i.to-r.to,m=i.to-i.from;l=o.changeByRange(v=>{if(v.from==i.from&&v.to==i.to)return{changes:c,range:f||v.map(c)};let g=v.to-p,b=g-h.length;if(v.to-v.from!=m||t.state.sliceDoc(b,g)!=h||d&&v.to>=d.from&&v.from<=d.to)return{range:v};let y=o.changes({from:b,to:g,insert:r.insert}),w=v.to-i.to;return{changes:y,range:f?be.range(Math.max(0,f.anchor+w),Math.max(0,f.head+w)):v.map(y)}})}else l={changes:c,selection:f&&o.selection.replaceRange(f)}}let u="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,u+=".compose",t.inputState.compositionFirstChange&&(u+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(l,{scrollIntoView:!0,userEvent:u}),!0}else if(n&&!n.main.eq(i)){let o=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),s=t.inputState.lastSelectionOrigin),t.dispatch({selection:n,scrollIntoView:o,userEvent:s}),!0}else return!1}function One(t,e,r,n){let i=Math.min(t.length,e.length),a=0;for(;a<i&&t.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==i&&t.length==e.length)return null;let o=t.length,s=e.length;for(;o>0&&s>0&&t.charCodeAt(o-1)==e.charCodeAt(s-1);)o--,s--;if(n=="end"){let l=Math.max(0,a-Math.min(o,s));r-=o+l-a}if(o<a&&t.length<e.length){let l=r<=a&&r>=o?a-r:0;a-=l,s=a+(s-o),o=a}else if(s<a){let l=r<=a&&r>=s?a-r:0;a-=l,o=a+(o-s),s=a}return{from:a,toA:o,toB:s}}function Bne(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}=t.observer.selectionRange;return r&&(e.push(new nE(r,n)),(i!=r||a!=n)&&e.push(new nE(i,a))),e}function Fne(t,e){if(t.length==0)return null;let r=t[0].pos,n=t.length==2?t[1].pos:r;return r>-1&&n>-1?be.single(r+e,n+e):null}const $ne={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},vv=_e.ie&&_e.ie_version<=11;class Rne{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Tre,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let n of r)this.queue.push(n);(_e.ie&&_e.ie_version<=11||_e.ios&&e.composing)&&r.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),vv&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var r;((r=this.view.docView)===null||r===void 0?void 0:r.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((r,n)=>r!=e[n]))){this.gapIntersection.disconnect();for(let r of e)this.gapIntersection.observe(r);this.gaps=e}}onSelectionChange(e){let r=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet($m)?n.root.activeElement!=this.dom:!ud(n.dom,i))return;let a=i.anchorNode&&n.docView.nearest(i.anchorNode);if(a&&a.ignoreEvent(e)){r||(this.selectionChanged=!1);return}(_e.ie&&_e.ie_version<=11||_e.android&&_e.chrome)&&!n.state.selection.main.empty&&i.focusNode&&yp(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,r=_e.safari&&e.root.nodeType==11&&Are(this.dom.ownerDocument)==this.dom&&Pne(this.view)||vp(e.root);if(!r||this.selectionRange.eq(r))return!1;let n=ud(this.dom,r);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Ore(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,r){this.selectionRange.set(e.node,e.offset,r.node,r.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,r=null;for(let n=this.dom;n;)if(n.nodeType==1)!r&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:r||(r=this.scrollTargets.slice(0,e)),r&&r.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!r&&(r=this.scrollTargets.slice(0,e)),r){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=r)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,$ne),vv&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),vv&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,r){var n;if(!this.delayedAndroidKey){let i=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&Al(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:r,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let r=-1,n=-1,i=!1;for(let a of e){let o=this.readMutation(a);o&&(o.typeOver&&(i=!0),r==-1?{from:r,to:n}=o:(r=Math.min(o.from,r),n=Math.max(o.to,n)))}return{from:r,to:n,typeOver:i}}readChange(){let{from:e,to:r,typeOver:n}=this.processRecords(),i=this.selectionChanged&&ud(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new kne(this.view,e,r,n))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let r=this.readChange();if(!r)return!1;let n=this.view.state,i=x4(this.view,r);return this.view.state==n&&this.view.update([]),i}readMutation(e){let r=this.view.docView.nearest(e.target);if(!r||r.ignoreMutation(e))return null;if(r.markDirty(e.type=="attributes"),e.type=="attributes"&&(r.dirty|=4),e.type=="childList"){let n=CE(r,e.previousSibling||e.target.previousSibling,-1),i=CE(r,e.nextSibling||e.target.nextSibling,1);return{from:n?r.posAfter(n):r.posAtStart,to:i?r.posBefore(i):r.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,r,n,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(r=this.gapIntersection)===null||r===void 0||r.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let a of this.scrollTargets)a.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function CE(t,e,r){for(;e;){let n=Rt.get(e);if(n&&n.parent==t)return n;let i=e.parentNode;e=i!=t.dom?i:r>0?e.nextSibling:e.previousSibling}return null}function Pne(t){let e=null;function r(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),!e)return null;let n=e.startContainer,i=e.startOffset,a=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return yp(s.node,s.offset,a,o)&&([n,i,a,o]=[a,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:a,focusOffset:o}}class $e{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(r=>this.update([r])),this.dispatch=this.dispatch.bind(this),this._root=e.root||kre(e.parent)||document,this.viewState=new wE(e.state||ct.create(e)),this.plugins=this.state.facet(Ju).map(r=>new dv(r));for(let r of this.plugins)r.update(this);this.observer=new Rne(this),this.inputState=new ine(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new iE(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){let r=e.length==1&&e[0]instanceof gr?e[0]:this.state.update(...e);this._dispatch(r,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let r=!1,n=!1,i,a=this.state;for(let h of e){if(h.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=h.state}if(this.destroyed){this.viewState.state=a;return}let o=this.hasFocus,s=0,l=null;e.some(h=>h.annotation(h4))?(this.inputState.notifiedFocused=o,s=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=d4(a,o),l||(s=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(c=null)):this.observer.clear(),a.facet(ct.phrases)!=this.state.facet(ct.phrases))return this.setState(a);i=wp.create(this,a,e),i.flags|=s;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let h of e){if(f&&(f=f.map(h.changes)),h.scrollIntoView){let{main:d}=h.state.selection;f=new bp(d.empty?d:be.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of h.effects)d.is(tE)&&(f=d.value)}this.viewState.update(i,f),this.bidiCache=Sp.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),r=this.docView.update(i),this.state.facet(Zu)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(h=>h.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Mh)!=i.state.facet(Mh)&&(this.viewState.mustMeasureContent=!0),(r||n||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let h of this.state.facet(Ny))h(i);(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!x4(this,c)&&u.force&&Al(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let r=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new wE(e),this.plugins=e.facet(Ju).map(n=>new dv(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView=new iE(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}r&&this.focus(),this.requestMeasure()}updatePlugins(e){let r=e.startState.facet(Ju),n=e.state.facet(Ju);if(r!=n){let i=[];for(let a of n){let o=r.indexOf(a);if(o<0)i.push(new dv(a));else{let s=this.plugins[o];s.mustUpdate=e,i.push(s)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let r=null,n=this.scrollDOM,{scrollTop:i}=n,{scrollAnchorPos:a,scrollAnchorHeight:o}=this.viewState;if(this.viewState.scrollAnchorHeight=-1,o<0||i!=this.viewState.scrollTop)if(i>n.scrollHeight-n.clientHeight-4)a=-1,o=this.viewState.heightMap.height;else{let s=this.viewState.lineBlockAtHeight(i);a=s.from,o=s.top}try{for(let s=0;;s++){this.updateState=1;let l=this.viewport,u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(s>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];u&4||([this.measureRequests,c]=[c,this.measureRequests]);let f=c.map(m=>{try{return m.read(this)}catch(v){return ni(this.state,v),DE}}),h=wp.create(this,this.state,[]),d=!1,p=!1;h.flags|=u,r?r.flags|=u:r=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),d=this.docView.update(h));for(let m=0;m<c.length;m++)if(f[m]!=DE)try{let v=c[m];v.write&&v.write(f[m],this)}catch(v){ni(this.state,v)}if(this.viewState.editorHeight){if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,p=!0;else if(o>-1){let v=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-o;(v>1||v<-1)&&(n.scrollTop=i+v,p=!0)}}if(d&&this.docView.updateSelection(!0),this.viewport.from==l.from&&this.viewport.to==l.to&&!p&&this.measureRequests.length==0)break;o=-1}}finally{this.updateState=0,this.measureScheduled=-1}if(r&&!r.empty)for(let s of this.state.facet(Ny))s(r)}get themeClasses(){return Ry+" "+(this.state.facet($y)?v4:g4)+" "+this.state.facet(Mh)}updateAttrs(){let e=AE(this,JF,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),r={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet($m)?"true":"false",class:"cm-content",style:`${_e.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(r["aria-readonly"]="true"),AE(this,eb,r);let n=this.observer.ignore(()=>{let i=Ay(this.contentDOM,this.contentAttrs,r),a=Ay(this.dom,this.editorAttrs,e);return i||a});return this.editorAttrs=e,this.contentAttrs=r,n}showAnnouncements(e){let r=!0;for(let n of e)for(let i of n.effects)if(i.is($e.announce)){r&&(this.announceDOM.textContent=""),r=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Zu),No.mount(this.root,this.styleModules.concat(Tne).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let r=0;r<this.measureRequests.length;r++)if(this.measureRequests[r].key===e.key){this.measureRequests[r]=e;return}}this.measureRequests.push(e)}}plugin(e){let r=this.pluginMap.get(e);return(r===void 0||r&&r.spec!=e)&&this.pluginMap.set(e,r=this.plugins.find(n=>n.spec==e)||null),r&&r.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,r,n){return mv(this,e,cE(this,e,r,n))}moveByGroup(e,r){return mv(this,e,cE(this,e,r,n=>rne(this,e.head,n)))}moveToLineBoundary(e,r,n=!0){return tne(this,e,r,n)}moveVertically(e,r,n){return mv(this,e,nne(this,e,r,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,r=0){return this.docView.posFromDOM(e,r)}posAtCoords(e,r=!0){return this.readMeasured(),a4(this,e,r)}coordsAtPos(e,r=1){this.readMeasured();let n=this.docView.coordsAt(e,r);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),a=this.bidiSpans(i),o=a[El.find(a,e-i.from,-1,r)];return Om(n,o.dir==Vt.LTR==r>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(KF)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Ine)return e4(e.length);let r=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==r)return i.order;let n=Ure(e.text,r);return this.bidiCache.push(new Sp(e.from,e.to,r,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||_e.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{NF(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,r={}){return tE.of(new bp(typeof e=="number"?be.cursor(e):e,r.y,r.x,r.yMargin,r.xMargin))}static domEventHandlers(e){return nr.define(()=>({}),{eventHandlers:e})}static theme(e,r){let n=No.newName(),i=[Mh.of(n),Zu.of(Py(`.${n}`,e))];return r&&r.dark&&i.push($y.of(!0)),i}static baseTheme(e){return vu.lowest(Zu.of(Py("."+Ry,e,y4)))}static findFromDOM(e){var r;let n=e.querySelector(".cm-content"),i=n&&Rt.get(n)||Rt.get(e);return((r=i?.rootView)===null||r===void 0?void 0:r.view)||null}}$e.styleModule=Zu;$e.inputHandler=jF;$e.focusChangeEffect=GF;$e.perLineTextDirection=KF;$e.exceptionSink=WF;$e.updateListener=Ny;$e.editable=$m;$e.mouseSelectionStyle=VF;$e.dragMovesSelection=HF;$e.clickAddsSelectionRange=qF;$e.decorations=Hc;$e.atomicRanges=tb;$e.scrollMargins=ZF;$e.darkTheme=$y;$e.contentAttributes=eb;$e.editorAttributes=JF;$e.lineWrapping=$e.contentAttributes.of({class:"cm-lineWrapping"});$e.announce=rt.define();const Ine=4096,DE={};class Sp{constructor(e,r,n,i){this.from=e,this.to=r,this.dir=n,this.order=i}static update(e,r){if(r.empty)return e;let n=[],i=e.length?e[e.length-1].dir:Vt.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let o=e[a];o.dir==i&&!r.touchesRange(o.from,o.to)&&n.push(new Sp(r.mapPos(o.from,1),r.mapPos(o.to,-1),o.dir,o.order))}return n}}function AE(t,e,r){for(let n=t.state.facet(e),i=n.length-1;i>=0;i--){let a=n[i],o=typeof a=="function"?a(t):a;o&&Dy(o,r)}return r}const Lne=_e.mac?"mac":_e.windows?"win":_e.linux?"linux":"key";function _ne(t,e){const r=t.split(/-(?!$)/);let n=r[r.length-1];n=="Space"&&(n=" ");let i,a,o,s;for(let l=0;l<r.length-1;++l){const u=r[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))a=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?s=!0:a=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(n="Alt-"+n),a&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Th(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r!==!1&&e.shiftKey&&(t="Shift-"+t),t}const zne=vu.default($e.domEventHandlers({keydown(t,e){return w4(b4(e.state),t,e,"editor")}})),Rm=ze.define({enables:zne}),EE=new WeakMap;function b4(t){let e=t.facet(Rm),r=EE.get(e);return r||EE.set(e,r=Hne(e.reduce((n,i)=>n.concat(i),[]))),r}function Une(t,e,r){return w4(b4(t.state),e,t,r)}let to=null;const qne=4e3;function Hne(t,e=Lne){let r=Object.create(null),n=Object.create(null),i=(o,s)=>{let l=n[o];if(l==null)n[o]=s;else if(l!=s)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},a=(o,s,l,u)=>{var c,f;let h=r[o]||(r[o]=Object.create(null)),d=s.split(/ (?!$)/).map(v=>_ne(v,e));for(let v=1;v<d.length;v++){let g=d.slice(0,v).join(" ");i(g,!0),h[g]||(h[g]={preventDefault:!0,run:[b=>{let y=to={view:b,prefix:g,scope:o};return setTimeout(()=>{to==y&&(to=null)},qne),!0}]})}let p=d.join(" ");i(p,!1);let m=h[p]||(h[p]={preventDefault:!1,run:((f=(c=h._any)===null||c===void 0?void 0:c.run)===null||f===void 0?void 0:f.slice())||[]});l&&m.run.push(l),u&&(m.preventDefault=!0)};for(let o of t){let s=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of s){let c=r[u]||(r[u]=Object.create(null));c._any||(c._any={preventDefault:!1,run:[]});for(let f in c)c[f].run.push(o.any)}let l=o[e]||o.key;if(l)for(let u of s)a(u,l,o.run,o.preventDefault),o.shift&&a(u,"Shift-"+l,o.shift,o.preventDefault)}return r}function w4(t,e,r,n){let i=Dre(e),a=Tr(i,0),o=Xn(a)==i.length&&i!=" ",s="",l=!1;to&&to.view==r&&to.scope==n&&(s=to.prefix+" ",(l=s4.indexOf(e.keyCode)<0)&&(to=null));let u=new Set,c=p=>{if(p){for(let m of p.run)if(!u.has(m)&&(u.add(m),m(r,e)))return!0;p.preventDefault&&(l=!0)}return!1},f=t[n],h,d;if(f){if(c(f[s+Th(i,e,!o)]))return!0;if(o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(_e.windows&&e.ctrlKey&&e.altKey)&&(h=Mo[e.keyCode])&&h!=i){if(c(f[s+Th(h,e,!0)]))return!0;if(e.shiftKey&&(d=qc[e.keyCode])!=i&&d!=h&&c(f[s+Th(d,e,!1)]))return!0}else if(o&&e.shiftKey&&c(f[s+Th(i,e,!0)]))return!0;if(c(f._any))return!0}return l}class xf{constructor(e,r,n,i,a){this.className=e,this.left=r,this.top=n,this.width=i,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,r){return r.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,r,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let a=S4(e);return[new xf(r,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}else return Vne(e,r,n)}}function S4(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Vt.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function NE(t,e,r){let n=be.cursor(e);return{from:Math.max(r.from,t.moveToLineBoundary(n,!1,!0).from),to:Math.min(r.to,t.moveToLineBoundary(n,!0,!0).from),type:Gt.Text}}function Vne(t,e,r){if(r.to<=t.viewport.from||r.from>=t.viewport.to)return[];let n=Math.max(r.from,t.viewport.from),i=Math.min(r.to,t.viewport.to),a=t.textDirection==Vt.LTR,o=t.contentDOM,s=o.getBoundingClientRect(),l=S4(t),u=o.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),f=s.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),h=s.right-(c?parseInt(c.paddingRight):0),d=Oy(t,n),p=Oy(t,i),m=d.type==Gt.Text?d:null,v=p.type==Gt.Text?p:null;if(m&&(t.lineWrapping||d.widgetLineBreaks)&&(m=NE(t,n,m)),v&&(t.lineWrapping||p.widgetLineBreaks)&&(v=NE(t,i,v)),m&&v&&m.from==v.from)return b(y(r.from,r.to,m));{let S=m?y(r.from,null,m):w(d,!1),x=v?y(null,r.to,v):w(p,!0),C=[];return(m||d).to<(v||p).from-(m&&v?1:0)||d.widgetLineBreaks>1&&S.bottom+t.defaultLineHeight/2<x.top?C.push(g(f,S.bottom,h,x.top)):S.bottom<x.top&&t.elementAtHeight((S.bottom+x.top)/2).type==Gt.Text&&(S.bottom=x.top=(S.bottom+x.top)/2),b(S).concat(C).concat(b(x))}function g(S,x,C,A){return new xf(e,S-l.left,x-l.top-.01,C-S,A-x+.01)}function b({top:S,bottom:x,horizontal:C}){let A=[];for(let E=0;E<C.length;E+=2)A.push(g(C[E],S,C[E+1],x));return A}function y(S,x,C){let A=1e9,E=-1e9,D=[];function M(I,F,N,T,R){let O=t.coordsAtPos(I,I==C.to?-2:2),P=t.coordsAtPos(N,N==C.from?2:-2);!O||!P||(A=Math.min(O.top,P.top,A),E=Math.max(O.bottom,P.bottom,E),R==Vt.LTR?D.push(a&&F?f:O.left,a&&T?h:P.right):D.push(!a&&T?f:P.left,!a&&F?h:O.right))}let k=S??C.from,$=x??C.to;for(let I of t.visibleRanges)if(I.to>k&&I.from<$)for(let F=Math.max(I.from,k),N=Math.min(I.to,$);;){let T=t.state.doc.lineAt(F);for(let R of t.bidiSpans(T)){let O=R.from+T.from,P=R.to+T.from;if(O>=N)break;P>F&&M(Math.max(O,F),S==null&&O<=k,Math.min(P,N),x==null&&P>=$,R.dir)}if(F=T.to+1,F>=N)break}return D.length==0&&M(k,S==null,$,x==null,t.textDirection),{top:A,bottom:E,horizontal:D}}function w(S,x){let C=s.top+(x?S.top:S.bottom);return{top:C,bottom:C,horizontal:[]}}}function Wne(t,e){return t.constructor==e.constructor&&t.eq(e)}class jne{constructor(e,r){this.view=e,this.layer=r,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),r.above&&this.dom.classList.add("cm-layer-above"),r.class&&this.dom.classList.add(r.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),r.mount&&r.mount(this.dom,e)}update(e){e.startState.facet(hd)!=e.state.facet(hd)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let r=0,n=e.facet(hd);for(;r<n.length&&n[r]!=this.layer;)r++;this.dom.style.zIndex=String((this.layer.above?150:-1)-r)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((r,n)=>!Wne(r,this.drawn[n]))){let r=this.dom.firstChild,n=0;for(let i of e)i.update&&r&&i.constructor&&this.drawn[n].constructor&&i.update(r,this.drawn[n])?(r=r.nextSibling,n++):this.dom.insertBefore(i.draw(),r);for(;r;){let i=r.nextSibling;r.remove(),r=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const hd=ze.define();function C4(t){return[nr.define(e=>new jne(e,t)),hd.of(t)]}const D4=!_e.ios,Vc=ze.define({combine(t){return fa(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,r)=>Math.min(e,r),drawRangeCursor:(e,r)=>e||r})}});function Gne(t={}){return[Vc.of(t),Kne,Yne,Jne,YF.of(!0)]}function A4(t){return t.startState.facet(Vc)!=t.state.facet(Vc)}const Kne=C4({above:!0,markers(t){let{state:e}=t,r=e.facet(Vc),n=[];for(let i of e.selection.ranges){let a=i==e.selection.main;if(i.empty?!a||D4:r.drawRangeCursor){let o=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",s=i.empty?i:be.cursor(i.head,i.head>i.anchor?-1:1);for(let l of xf.forRange(t,o,s))n.push(l)}}return n},update(t,e){t.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let r=A4(t);return r&&ME(t.state,e),t.docChanged||t.selectionSet||r},mount(t,e){ME(e.state,t)},class:"cm-cursorLayer"});function ME(t,e){e.style.animationDuration=t.facet(Vc).cursorBlinkRate+"ms"}const Yne=C4({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:xf.forRange(t,"cm-selectionBackground",e)).reduce((e,r)=>e.concat(r))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||A4(t)},class:"cm-selectionLayer"}),E4={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};D4&&(E4[".cm-line"].caretColor="transparent !important");const Jne=vu.highest($e.theme(E4)),N4=rt.define({map(t,e){return t==null?null:e.mapPos(t)}}),Qu=Lr.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((r,n)=>n.is(N4)?n.value:r,t)}}),Zne=nr.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let r=t.state.field(Qu);r==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Qu)!=r||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(Qu),e=t!=null&&this.view.coordsAtPos(t);if(!e)return null;let r=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-r.left+this.view.scrollDOM.scrollLeft,top:e.top-r.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Qu)!=t&&this.view.dispatch({effects:N4.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Xne(){return[Qu,Zne]}function TE(t,e,r,n,i){e.lastIndex=0;for(let a=t.iterRange(r,n),o=r,s;!a.next().done;o+=a.value.length)if(!a.lineBreak)for(;s=e.exec(a.value);)i(o+s.index,s)}function Qne(t,e){let r=t.visibleRanges;if(r.length==1&&r[0].from==t.viewport.from&&r[0].to==t.viewport.to)return r;let n=[];for(let{from:i,to:a}of r)i=Math.max(t.state.doc.lineAt(i).from,i-e),a=Math.min(t.state.doc.lineAt(a).to,a+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=a:n.push({from:i,to:a});return n}class eie{constructor(e){const{regexp:r,decoration:n,decorate:i,boundary:a,maxLength:o=1e3}=e;if(!r.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=r,i)this.addMatch=(s,l,u,c)=>i(c,u,u+s[0].length,s,l);else if(typeof n=="function")this.addMatch=(s,l,u,c)=>{let f=n(s,l,u);f&&c(u,u+s[0].length,f)};else if(n)this.addMatch=(s,l,u,c)=>c(u,u+s[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=o}createDeco(e){let r=new $a,n=r.add.bind(r);for(let{from:i,to:a}of Qne(e,this.maxLength))TE(e.state.doc,this.regexp,i,a,(o,s)=>this.addMatch(s,e,o,n));return r.finish()}updateDeco(e,r){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((a,o,s,l)=>{l>e.view.viewport.from&&s<e.view.viewport.to&&(n=Math.min(s,n),i=Math.max(l,i))}),e.viewportChanged||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,r.map(e.changes),n,i):r}updateRange(e,r,n,i){for(let a of e.visibleRanges){let o=Math.max(a.from,n),s=Math.min(a.to,i);if(s>o){let l=e.state.doc.lineAt(o),u=l.to<s?e.state.doc.lineAt(s):l,c=Math.max(a.from,l.from),f=Math.min(a.to,u.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;s<u.to;s++)if(this.boundary.test(u.text[s-u.from])){f=s;break}}let h=[],d,p=(m,v,g)=>h.push(g.range(m,v));if(l==u)for(this.regexp.lastIndex=c-l.from;(d=this.regexp.exec(l.text))&&d.index<f-l.from;)this.addMatch(d,e,d.index+l.from,p);else TE(e.state.doc,this.regexp,c,f,(m,v)=>this.addMatch(v,e,m,p));r=r.update({filterFrom:c,filterTo:f,filter:(m,v)=>m<c||v>f,add:h})}}return r}}const Iy=/x/.unicode!=null?"gu":"g",tie=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Iy),rie={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let yv=null;function nie(){var t;if(yv==null&&typeof document<"u"&&document.body){let e=document.body.style;yv=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return yv||!1}const dd=ze.define({combine(t){let e=fa(t,{render:null,specialChars:tie,addSpecialChars:null});return(e.replaceTabs=!nie())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,Iy)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,Iy)),e}});function iie(t={}){return[dd.of(t),aie()]}let kE=null;function aie(){return kE||(kE=nr.fromClass(class{constructor(t){this.view=t,this.decorations=Ue.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(dd)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new eie({regexp:t.specialChars,decoration:(e,r,n)=>{let{doc:i}=r.state,a=Tr(e[0],0);if(a==9){let o=i.lineAt(n),s=r.state.tabSize,l=vf(o.text,s,n-o.from);return Ue.replace({widget:new uie((s-l%s)*this.view.defaultCharacterWidth)})}return this.decorationCache[a]||(this.decorationCache[a]=Ue.replace({widget:new lie(t,a)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(dd);t.startState.facet(dd)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const oie="•";function sie(t){return t>=32?oie:t==10?"␤":String.fromCharCode(9216+t)}class lie extends ha{constructor(e,r){super(),this.options=e,this.code=r}eq(e){return e.code==this.code}toDOM(e){let r=sie(this.code),n=e.state.phrase("Control character")+" "+(rie[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,r);if(i)return i;let a=document.createElement("span");return a.textContent=r,a.title=n,a.setAttribute("aria-label",n),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class uie extends ha{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function cie(){return hie}const fie=Ue.line({class:"cm-activeLine"}),hie=nr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,r=[];for(let n of t.state.selection.ranges){let i=t.lineBlockAt(n.head);i.from>e&&(r.push(fie.range(i.from)),e=i.from)}return Ue.set(r)}},{decorations:t=>t.decorations});class die extends ha{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let r=e.firstChild?Gl(e.firstChild):[];if(!r.length)return null;let n=window.getComputedStyle(e.parentNode),i=Om(r[0],n.direction!="rtl"),a=parseInt(n.lineHeight);return i.bottom-i.top>a*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+a}:i}ignoreEvent(){return!1}}function pie(t){return nr.fromClass(class{constructor(e){this.view=e,this.placeholder=Ue.set([Ue.widget({widget:new die(t),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?Ue.none:this.placeholder}},{decorations:e=>e.decorations})}const Ly=2e3;function mie(t,e,r){let n=Math.min(e.line,r.line),i=Math.max(e.line,r.line),a=[];if(e.off>Ly||r.off>Ly||e.col<0||r.col<0){let o=Math.min(e.off,r.off),s=Math.max(e.off,r.off);for(let l=n;l<=i;l++){let u=t.doc.line(l);u.length<=s&&a.push(be.range(u.from+o,u.to+s))}}else{let o=Math.min(e.col,r.col),s=Math.max(e.col,r.col);for(let l=n;l<=i;l++){let u=t.doc.line(l),c=gy(u.text,o,t.tabSize,!0);if(c<0)a.push(be.cursor(u.to));else{let f=gy(u.text,s,t.tabSize);a.push(be.range(u.from+c,u.from+f))}}}return a}function gie(t,e){let r=t.coordsAtPos(t.viewport.from);return r?Math.round(Math.abs((r.left-e)/t.defaultCharacterWidth)):-1}function OE(t,e){let r=t.posAtCoords({x:e.clientX,y:e.clientY},!1),n=t.state.doc.lineAt(r),i=r-n.from,a=i>Ly?-1:i==n.length?gie(t,e.clientX):vf(n.text,t.state.tabSize,r-n.from);return{line:n.number,col:a,off:i}}function vie(t,e){let r=OE(t,e),n=t.state.selection;return r?{update(i){if(i.docChanged){let a=i.changes.mapPos(i.startState.doc.line(r.line).from),o=i.state.doc.lineAt(a);r={line:o.number,col:r.col,off:Math.min(r.off,o.length)},n=n.map(i.changes)}},get(i,a,o){let s=OE(t,i);if(!s)return n;let l=mie(t.state,r,s);return l.length?o?be.create(l.concat(n.ranges)):be.create(l):n}}:null}function yie(t){let e=t?.eventFilter||(r=>r.altKey&&r.button==0);return $e.mouseSelectionStyle.of((r,n)=>e(n)?vie(r,n):null)}const xie={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},bie={style:"cursor: crosshair"};function wie(t={}){let[e,r]=xie[t.key||"Alt"],n=nr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||r(i))},keyup(i){(i.keyCode==e||!r(i))&&this.set(!1)},mousemove(i){this.set(r(i))}}});return[n,$e.contentAttributes.of(i=>{var a;return!((a=i.plugin(n))===null||a===void 0)&&a.isDown?bie:null})]}const kh="-10000px";class M4{constructor(e,r,n){this.facet=r,this.createTooltipView=n,this.input=e.state.facet(r),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(n)}update(e){var r;let n=e.state.facet(this.facet),i=n.filter(o=>o);if(n===this.input){for(let o of this.tooltipViews)o.update&&o.update(e);return!1}let a=[];for(let o=0;o<i.length;o++){let s=i[o],l=-1;if(s){for(let u=0;u<this.tooltips.length;u++){let c=this.tooltips[u];c&&c.create==s.create&&(l=u)}if(l<0)a[o]=this.createTooltipView(s);else{let u=a[o]=this.tooltipViews[l];u.update&&u.update(e)}}}for(let o of this.tooltipViews)a.indexOf(o)<0&&(o.dom.remove(),(r=o.destroy)===null||r===void 0||r.call(o));return this.input=n,this.tooltips=i,this.tooltipViews=a,!0}}function Sie(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const xv=ze.define({combine:t=>{var e,r,n;return{position:_e.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((r=t.find(i=>i.parent))===null||r===void 0?void 0:r.parent)||null,tooltipSpace:((n=t.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||Sie}}}),BE=new WeakMap,T4=nr.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(xv);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new M4(t,nb,r=>this.createTooltip(r)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(r=>{Date.now()>this.lastTransaction-50&&r.length>0&&r[r.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let r=e||t.geometryChanged,n=t.state.facet(xv);if(n.position!=this.position){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;r=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let r=document.createElement("div");r.className="cm-tooltip-arrow",e.dom.appendChild(r)}return e.dom.style.position=this.position,e.dom.style.top=kh,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((e,r)=>{let n=this.manager.tooltipViews[r];return n.getCoords?n.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(xv).tooltipSpace(this.view)}}writeMeasure(t){var e;let{editor:r,space:n}=t,i=[];for(let a=0;a<this.manager.tooltips.length;a++){let o=this.manager.tooltips[a],s=this.manager.tooltipViews[a],{dom:l}=s,u=t.pos[a],c=t.size[a];if(!u||u.bottom<=Math.max(r.top,n.top)||u.top>=Math.min(r.bottom,n.bottom)||u.right<Math.max(r.left,n.left)-.1||u.left>Math.min(r.right,n.right)+.1){l.style.top=kh;continue}let f=o.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,h=f?7:0,d=c.right-c.left,p=(e=BE.get(s))!==null&&e!==void 0?e:c.bottom-c.top,m=s.offset||Die,v=this.view.textDirection==Vt.LTR,g=c.width>n.right-n.left?v?n.left:n.right-c.width:v?Math.min(u.left-(f?14:0)+m.x,n.right-d):Math.max(n.left,u.left-d+(f?14:0)-m.x),b=!!o.above;!o.strictSide&&(b?u.top-(c.bottom-c.top)-m.y<n.top:u.bottom+(c.bottom-c.top)+m.y>n.bottom)&&b==n.bottom-u.bottom>u.top-n.top&&(b=!b);let y=(b?u.top-n.top:n.bottom-u.bottom)-h;if(y<p&&s.resize!==!1){if(y<this.view.defaultLineHeight){l.style.top=kh;continue}BE.set(s,p),l.style.height=(p=y)+"px"}else l.style.height&&(l.style.height="");let w=b?u.top-p-h-m.y:u.bottom+h+m.y,S=g+d;if(s.overlap!==!0)for(let x of i)x.left<S&&x.right>g&&x.top<w+p&&x.bottom>w&&(w=b?x.top-p-2-h:x.bottom+h+2);this.position=="absolute"?(l.style.top=w-t.parent.top+"px",l.style.left=g-t.parent.left+"px"):(l.style.top=w+"px",l.style.left=g+"px"),f&&(f.style.left=`${u.left+(v?m.x:-m.x)-(g+14-7)}px`),s.overlap!==!0&&i.push({left:g,top:w,right:S,bottom:w+p}),l.classList.toggle("cm-tooltip-above",b),l.classList.toggle("cm-tooltip-below",!b),s.positioned&&s.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=kh}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),Cie=$e.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Die={x:0,y:0},nb=ze.define({enables:[T4,Cie]}),Cp=ze.define();class ib{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new M4(e,Cp,r=>this.createHostedView(r))}static create(e){return new ib(e)}createHostedView(e){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(r.dom),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let r of this.manager.tooltipViews)r.mount&&r.mount(e);this.mounted=!0}positioned(e){for(let r of this.manager.tooltipViews)r.positioned&&r.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let r of this.manager.tooltipViews)(e=r.destroy)===null||e===void 0||e.call(r)}}const Aie=nb.compute([Cp],t=>{let e=t.facet(Cp).filter(r=>r);return e.length===0?null:{pos:Math.min(...e.map(r=>r.pos)),end:Math.max(...e.filter(r=>r.end!=null).map(r=>r.end)),create:ib.create,above:e[0].above,arrow:e.some(r=>r.arrow)}});class Eie{constructor(e,r,n,i,a){this.view=e,this.source=r,this.field=n,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,r=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(r==null)return;let n=this.view.coordsAtPos(r);if(n==null||e.y<n.top||e.y>n.bottom||e.x<n.left-this.view.defaultCharacterWidth||e.x>n.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(r)).find(s=>s.from<=r&&s.to>=r),a=i&&i.dir==Vt.RTL?-1:1,o=this.source(this.view,r,e.x<n.left?-a:a);if(o?.then){let s=this.pending={pos:r};o.then(l=>{this.pending==s&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>ni(this.view.state,l,"hover tooltip"))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let n=this.active;if(n&&!FE(this.lastMove.target)||this.pending){let{pos:i}=n||this.pending,a=(r=n?.end)!==null&&r!==void 0?r:i;(i==a?this.view.posAtCoords(this.lastMove)!=i:!Nie(this.view,i,a,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!FE(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function FE(t){for(let e=t;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function Nie(t,e,r,n,i,a){let o=document.createRange(),s=t.domAtPos(e),l=t.domAtPos(r);o.setEnd(l.node,l.offset),o.setStart(s.node,s.offset);let u=o.getClientRects();o.detach();for(let c=0;c<u.length;c++){let f=u[c];if(Math.max(f.top-i,i-f.bottom,f.left-n,n-f.right)<=a)return!0}return!1}function Mie(t,e={}){let r=rt.define(),n=Lr.define({create(){return null},update(i,a){if(i&&(e.hideOnChange&&(a.docChanged||a.selection)||e.hideOn&&e.hideOn(a,i)))return null;if(i&&a.docChanged){let o=a.changes.mapPos(i.pos,-1,tn.TrackDel);if(o==null)return null;let s=Object.assign(Object.create(null),i);s.pos=o,i.end!=null&&(s.end=a.changes.mapPos(i.end)),i=s}for(let o of a.effects)o.is(r)&&(i=o.value),o.is(Tie)&&(i=null);return i},provide:i=>Cp.from(i)});return[n,nr.define(i=>new Eie(i,t,n,r,e.hoverTime||300)),Aie]}function k4(t,e){let r=t.plugin(T4);if(!r)return null;let n=r.manager.tooltips.indexOf(e);return n<0?null:r.manager.tooltipViews[n]}const Tie=rt.define(),$E=ze.define({combine(t){let e,r;for(let n of t)e=e||n.topContainer,r=r||n.bottomContainer;return{topContainer:e,bottomContainer:r}}});function Wc(t,e){let r=t.plugin(O4),n=r?r.specs.indexOf(e):-1;return n>-1?r.panels[n]:null}const O4=nr.fromClass(class{constructor(t){this.input=t.state.facet(jc),this.specs=this.input.filter(r=>r),this.panels=this.specs.map(r=>r(t));let e=t.state.facet($E);this.top=new Oh(t,!0,e.topContainer),this.bottom=new Oh(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(r=>r.top)),this.bottom.sync(this.panels.filter(r=>!r.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(t){let e=t.state.facet($E);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Oh(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Oh(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=t.state.facet(jc);if(r!=this.input){let n=r.filter(l=>l),i=[],a=[],o=[],s=[];for(let l of n){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),s.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?a:o).push(c)}this.specs=n,this.panels=i,this.top.sync(a),this.bottom.sync(o);for(let l of s)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let n of this.panels)n.update&&n.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>$e.scrollMargins.of(e=>{let r=e.plugin(t);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class Oh{constructor(e,r,n){this.view=e,this.top=r,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let r of this.panels)r.destroy&&e.indexOf(r)<0&&r.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let r=this.container||this.view.dom;r.insertBefore(this.dom,this.top?r.firstChild:null)}let e=this.dom.firstChild;for(let r of this.panels)if(r.dom.parentNode==this.dom){for(;e!=r.dom;)e=RE(e);e=e.nextSibling}else this.dom.insertBefore(r.dom,e);for(;e;)e=RE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function RE(t){let e=t.nextSibling;return t.remove(),e}const jc=ze.define({enables:O4});class Pa extends ys{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Pa.prototype.elementClass="";Pa.prototype.toDOM=void 0;Pa.prototype.mapMode=tn.TrackBefore;Pa.prototype.startSide=Pa.prototype.endSide=-1;Pa.prototype.point=!0;const pd=ze.define(),kie={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>At.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},hc=ze.define();function Oie(t){return[B4(),hc.of(Object.assign(Object.assign({},kie),t))]}const _y=ze.define({combine:t=>t.some(e=>e)});function B4(t){let e=[Bie];return t&&t.fixed===!1&&e.push(_y.of(!0)),e}const Bie=nr.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(hc).map(e=>new IE(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(_y),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,r=t.view.viewport,n=Math.min(e.to,r.to)-Math.max(e.from,r.from);this.syncGutters(n<(r.to-r.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(_y)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let r=At.iter(this.view.state.facet(pd),this.view.viewport.from),n=[],i=this.gutters.map(a=>new Fie(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(a.type)){let o=!0;for(let s of a.type)if(s.type==Gt.Text&&o){zy(r,n,s.from);for(let l of i)l.line(this.view,s,n);o=!1}else if(s.widget)for(let l of i)l.widget(this.view,s)}else if(a.type==Gt.Text){zy(r,n,a.from);for(let o of i)o.line(this.view,a,n)}for(let a of i)a.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(hc),r=t.state.facet(hc),n=t.docChanged||t.heightChanged||t.viewportChanged||!At.eq(t.startState.facet(pd),t.state.facet(pd),t.view.viewport.from,t.view.viewport.to);if(e==r)for(let i of this.gutters)i.update(t)&&(n=!0);else{n=!0;let i=[];for(let a of r){let o=e.indexOf(a);o<0?i.push(new IE(this.view,a)):(this.gutters[o].update(t),i.push(this.gutters[o]))}for(let a of this.gutters)a.dom.remove(),i.indexOf(a)<0&&a.destroy();for(let a of i)this.dom.appendChild(a.dom);this.gutters=i}return n}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>$e.scrollMargins.of(e=>{let r=e.plugin(t);return!r||r.gutters.length==0||!r.fixed?null:e.textDirection==Vt.LTR?{left:r.dom.offsetWidth}:{right:r.dom.offsetWidth}})});function PE(t){return Array.isArray(t)?t:[t]}function zy(t,e,r){for(;t.value&&t.from<=r;)t.from==r&&e.push(t.value),t.next()}class Fie{constructor(e,r,n){this.gutter=e,this.height=n,this.i=0,this.cursor=At.iter(e.markers,r.from)}addElement(e,r,n){let{gutter:i}=this,a=r.top-this.height;if(this.i==i.elements.length){let o=new F4(e,r.height,a,n);i.elements.push(o),i.dom.appendChild(o.dom)}else i.elements[this.i].update(e,r.height,a,n);this.height=r.bottom,this.i++}line(e,r,n){let i=[];zy(this.cursor,i,r.from),n.length&&(i=i.concat(n));let a=this.gutter.config.lineMarker(e,r,i);a&&i.unshift(a);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,r,i)}widget(e,r){let n=this.gutter.config.widgetMarker(e,r.widget,r);n&&this.addElement(e,r,[n])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let r=e.elements.pop();e.dom.removeChild(r.dom),r.destroy()}}}class IE{constructor(e,r){this.view=e,this.config=r,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in r.domEventHandlers)this.dom.addEventListener(n,i=>{let a=i.target,o;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let l=a.getBoundingClientRect();o=(l.top+l.bottom)/2}else o=i.clientY;let s=e.lineBlockAtHeight(o-e.documentTop);r.domEventHandlers[n](e,s,i)&&i.preventDefault()});this.markers=PE(r.markers(e)),r.initialSpacer&&(this.spacer=new F4(e,0,0,[r.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let r=this.markers;if(this.markers=PE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!At.eq(this.markers,r,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class F4{constructor(e,r,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,r,n,i)}update(e,r,n,i){this.height!=r&&(this.dom.style.height=(this.height=r)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),$ie(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,r){let n="cm-gutterElement",i=this.dom.firstChild;for(let a=0,o=0;;){let s=o,l=a<r.length?r[a++]:null,u=!1;if(l){let c=l.elementClass;c&&(n+=" "+c);for(let f=o;f<this.markers.length;f++)if(this.markers[f].compare(l)){s=f,u=!0;break}}else s=this.markers.length;for(;o<s;){let c=this.markers[o++];if(c.toDOM){c.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&o++}this.dom.className=n,this.markers=r}destroy(){this.setMarkers(null,[])}}function $ie(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].compare(e[r]))return!1;return!0}const Rie=ze.define(),fl=ze.define({combine(t){return fa(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,r){let n=Object.assign({},e);for(let i in r){let a=n[i],o=r[i];n[i]=a?(s,l,u)=>a(s,l,u)||o(s,l,u):o}return n}})}});class bv extends Pa{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function wv(t,e){return t.state.facet(fl).formatNumber(e,t.state)}const Pie=hc.compute([fl],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Rie)},lineMarker(e,r,n){return n.some(i=>i.toDOM)?null:new bv(wv(e,e.state.doc.lineAt(r.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(fl)!=e.state.facet(fl),initialSpacer(e){return new bv(wv(e,LE(e.state.doc.lines)))},updateSpacer(e,r){let n=wv(r.view,LE(r.view.state.doc.lines));return n==e.number?e:new bv(n)},domEventHandlers:t.facet(fl).domEventHandlers}));function Iie(t={}){return[fl.of(t),B4(),Pie]}function LE(t){let e=9;for(;e<t;)e=e*10+9;return e}const Lie=new class extends Pa{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},_ie=pd.compute(["selection"],t=>{let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.head).from;i>r&&(r=i,e.push(Lie.range(i)))}return At.of(e)});function zie(){return _ie}const Uie=1024;let qie=0;class Sv{constructor(e,r){this.from=e,this.to=r}}class ot{constructor(e={}){this.id=qie++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Cn.match(e)),r=>{let n=e(r);return n===void 0?null:[this,n]}}}ot.closedBy=new ot({deserialize:t=>t.split(" ")});ot.openedBy=new ot({deserialize:t=>t.split(" ")});ot.group=new ot({deserialize:t=>t.split(" ")});ot.contextHash=new ot({perNode:!0});ot.lookAhead=new ot({perNode:!0});ot.mounted=new ot({perNode:!0});const Hie=Object.create(null);class Cn{constructor(e,r,n,i=0){this.name=e,this.props=r,this.id=n,this.flags=i}static define(e){let r=e.props&&e.props.length?Object.create(null):Hie,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Cn(e.name||"",r,e.id,n);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");r[a[0].id]=a[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let r=this.prop(ot.group);return r?r.indexOf(e)>-1:!1}return this.id==e}static match(e){let r=Object.create(null);for(let n in e)for(let i of n.split(" "))r[i]=e[n];return n=>{for(let i=n.prop(ot.group),a=-1;a<(i?i.length:0);a++){let o=r[a<0?n.name:i[a]];if(o)return o}}}}Cn.none=new Cn("",Object.create(null),0,8);class ab{constructor(e){this.types=e;for(let r=0;r<e.length;r++)if(e[r].id!=r)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let r=[];for(let n of this.types){let i=null;for(let a of e){let o=a(n);o&&(i||(i=Object.assign({},n.props)),i[o[0].id]=o[1])}r.push(i?new Cn(n.name,i,n.id,n.flags):n)}return new ab(r)}}const Bh=new WeakMap,_E=new WeakMap;var Or;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Or||(Or={}));class Wt{constructor(e,r,n,i,a){if(this.type=e,this.children=r,this.positions=n,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[o,s]of a)this.props[typeof o=="number"?o:o.id]=s}}toString(){let e=this.prop(ot.mounted);if(e&&!e.overlay)return e.tree.toString();let r="";for(let n of this.children){let i=n.toString();i&&(r&&(r+=","),r+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(r.length?"("+r+")":""):r}cursor(e=0){return new Ep(this.topNode,e)}cursorAt(e,r=0,n=0){let i=Bh.get(this)||this.topNode,a=new Ep(i);return a.moveTo(e,r),Bh.set(this,a._tree),a}get topNode(){return new Na(this,0,0,null)}resolve(e,r=0){let n=Jl(Bh.get(this)||this.topNode,e,r,!1);return Bh.set(this,n),n}resolveInner(e,r=0){let n=Jl(_E.get(this)||this.topNode,e,r,!0);return _E.set(this,n),n}iterate(e){let{enter:r,leave:n,from:i=0,to:a=this.length}=e,o=e.mode||0,s=(o&Or.IncludeAnonymous)>0;for(let l=this.cursor(o|Or.IncludeAnonymous);;){let u=!1;if(l.from<=a&&l.to>=i&&(!s&&l.type.isAnonymous||r(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&n&&(s||!l.type.isAnonymous)&&n(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let r in this.props)e.push([+r,this.props[r]]);return e}balance(e={}){return this.children.length<=8?this:lb(Cn.none,this.children,this.positions,0,this.children.length,0,this.length,(r,n,i)=>new Wt(this.type,r,n,i,this.propValues),e.makeTree||((r,n,i)=>new Wt(Cn.none,r,n,i)))}static build(e){return Wie(e)}}Wt.empty=new Wt(Cn.none,[],[],0);class ob{constructor(e,r){this.buffer=e,this.index=r}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new ob(this.buffer,this.index)}}class $s{constructor(e,r,n){this.buffer=e,this.length=r,this.set=n}get type(){return Cn.none}toString(){let e=[];for(let r=0;r<this.buffer.length;)e.push(this.childString(r)),r=this.buffer[r+3];return e.join(",")}childString(e){let r=this.buffer[e],n=this.buffer[e+3],i=this.set.types[r],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),e+=4,n==e)return a;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return a+"("+o.join(",")+")"}findChild(e,r,n,i,a){let{buffer:o}=this,s=-1;for(let l=e;l!=r&&!($4(a,i,o[l+1],o[l+2])&&(s=l,n>0));l=o[l+3]);return s}slice(e,r,n){let i=this.buffer,a=new Uint16Array(r-e),o=0;for(let s=e,l=0;s<r;){a[l++]=i[s++],a[l++]=i[s++]-n;let u=a[l++]=i[s++]-n;a[l++]=i[s++]-e,o=Math.max(o,u)}return new $s(a,o,this.set)}}function $4(t,e,r,n){switch(t){case-2:return r<e;case-1:return n>=e&&r<e;case 0:return r<e&&n>e;case 1:return r<=e&&n>e;case 2:return n>e;case 4:return!0}}function R4(t,e){let r=t.childBefore(e);for(;r;){let n=r.lastChild;if(!n||n.to!=r.to)break;n.type.isError&&n.from==n.to?(t=r,r=n.prevSibling):r=n}return t}function Jl(t,e,r,n){for(var i;t.from==t.to||(r<1?t.from>=e:t.from>e)||(r>-1?t.to<=e:t.to<e);){let o=!n&&t instanceof Na&&t.index<0?null:t.parent;if(!o)return t;t=o}let a=n?0:Or.IgnoreOverlays;if(n)for(let o=t,s=o.parent;s;o=s,s=o.parent)o instanceof Na&&o.index<0&&((i=s.enter(e,r,a))===null||i===void 0?void 0:i.from)!=o.from&&(t=s);for(;;){let o=t.enter(e,r,a);if(!o)return t;t=o}}class Na{constructor(e,r,n,i){this._tree=e,this.from=r,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,r,n,i,a=0){for(let o=this;;){for(let{children:s,positions:l}=o._tree,u=r>0?s.length:-1;e!=u;e+=r){let c=s[e],f=l[e]+o.from;if($4(i,n,f,f+c.length)){if(c instanceof $s){if(a&Or.ExcludeBuffers)continue;let h=c.findChild(0,c.buffer.length,r,n-f,i);if(h>-1)return new co(new Vie(o,c,e,f),null,h)}else if(a&Or.IncludeAnonymous||!c.type.isAnonymous||sb(c)){let h;if(!(a&Or.IgnoreMounts)&&c.props&&(h=c.prop(ot.mounted))&&!h.overlay)return new Na(h.tree,f,e,o);let d=new Na(c,f,e,o);return a&Or.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(r<0?c.children.length-1:0,r,n,i)}}}if(a&Or.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+r:e=r<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,r,n=0){let i;if(!(n&Or.IgnoreOverlays)&&(i=this._tree.prop(ot.mounted))&&i.overlay){let a=e-this.from;for(let{from:o,to:s}of i.overlay)if((r>0?o<=a:o<a)&&(r<0?s>=a:s>a))return new Na(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,r,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Ep(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,r=0){return Jl(this,e,r,!1)}resolveInner(e,r=0){return Jl(this,e,r,!0)}enterUnfinishedNodesBefore(e){return R4(this,e)}getChild(e,r=null,n=null){let i=Dp(this,e,r,n);return i.length?i[0]:null}getChildren(e,r=null,n=null){return Dp(this,e,r,n)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Ap(this,e)}}function Dp(t,e,r,n){let i=t.cursor(),a=[];if(!i.firstChild())return a;if(r!=null){for(;!i.type.is(r);)if(!i.nextSibling())return a}for(;;){if(n!=null&&i.type.is(n))return a;if(i.type.is(e)&&a.push(i.node),!i.nextSibling())return n==null?a:[]}}function Ap(t,e,r=e.length-1){for(let n=t.parent;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[r]&&e[r]!=n.name)return!1;r--}}return!0}class Vie{constructor(e,r,n,i){this.parent=e,this.buffer=r,this.index=n,this.start=i}}class co{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,r,n){this.context=e,this._parent=r,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,r,n){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.context.start,n);return a<0?null:new co(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,r,n=0){if(n&Or.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],r>0?1:-1,e-this.context.start,r);return a<0?null:new co(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,r=e.buffer[this.index+3];return r<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new co(this.context,this._parent,r):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,r=this._parent?this._parent.index+4:0;return this.index==r?this.externalSibling(-1):new co(this.context,this._parent,e.findChild(r,this.index,-1,0,4))}cursor(e=0){return new Ep(this,e)}get tree(){return null}toTree(){let e=[],r=[],{buffer:n}=this.context,i=this.index+4,a=n.buffer[this.index+3];if(a>i){let o=n.buffer[this.index+1];e.push(n.slice(i,a,o)),r.push(0)}return new Wt(this.type,e,r,this.to-this.from)}resolve(e,r=0){return Jl(this,e,r,!1)}resolveInner(e,r=0){return Jl(this,e,r,!0)}enterUnfinishedNodesBefore(e){return R4(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,r=null,n=null){let i=Dp(this,e,r,n);return i.length?i[0]:null}getChildren(e,r=null,n=null){return Dp(this,e,r,n)}get node(){return this}matchContext(e){return Ap(this,e)}}class Ep{get name(){return this.type.name}constructor(e,r=0){if(this.mode=r,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Na)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,r){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=r||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof Na?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,r,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,r,n,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],e,r-this.buffer.start,n);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,r,n=this.mode){return this.buffer?n&Or.ExcludeBuffers?!1:this.enterChild(1,e,r):this.yield(this._tree.enter(e,r,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Or.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Or.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:r}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(r.findChild(i,this.index,-1,0,4))}else{let i=r.buffer[this.index+3];if(i<(n<0?r.buffer.length:r.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let r,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:r,parent:n}=i)}else({index:r,_parent:n}=this._tree);for(;n;{index:r,_parent:n}=n)if(r>-1)for(let a=r+e,o=e<0?-1:n._tree.children.length;a!=o;a+=e){let s=n._tree.children[a];if(this.mode&Or.IncludeAnonymous||s instanceof $s||!s.type.isAnonymous||sb(s))return!1}return!0}move(e,r){if(r&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,r=0){for(;(this.from==this.to||(r<1?this.from>=e:this.from>e)||(r>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,r););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,r=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,a=this.stack.length;a>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;r=o,n=a+1;break e}i=this.stack[--a]}for(let i=n;i<this.stack.length;i++)r=new co(this.buffer,r,this.stack[i]);return this.bufferNode=new co(this.buffer,r,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,r){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;i&&r&&r(this),i=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return Ap(this.node,e);let{buffer:r}=this.buffer,{types:n}=r.set;for(let i=e.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return Ap(this.node,e,i);let o=n[r.buffer[this.stack[a]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function sb(t){return t.children.some(e=>e instanceof $s||!e.type.isAnonymous||sb(e))}function Wie(t){var e;let{buffer:r,nodeSet:n,maxBufferLength:i=Uie,reused:a=[],minRepeatType:o=n.types.length}=t,s=Array.isArray(r)?new ob(r,r.length):r,l=n.types,u=0,c=0;function f(w,S,x,C,A){let{id:E,start:D,end:M,size:k}=s,$=c;for(;k<0;)if(s.next(),k==-1){let R=a[E];x.push(R),C.push(D-w);return}else if(k==-3){u=E;return}else if(k==-4){c=E;return}else throw new RangeError(`Unrecognized record size: ${k}`);let I=l[E],F,N,T=D-w;if(M-D<=i&&(N=m(s.pos-S,A))){let R=new Uint16Array(N.size-N.skip),O=s.pos-N.size,P=R.length;for(;s.pos>O;)P=v(N.start,R,P);F=new $s(R,M-N.start,n),T=N.start-w}else{let R=s.pos-k;s.next();let O=[],P=[],V=E>=o?E:-1,W=0,L=M;for(;s.pos>R;)V>=0&&s.id==V&&s.size>=0?(s.end<=L-i&&(d(O,P,D,W,s.end,L,V,$),W=O.length,L=s.end),s.next()):f(D,R,O,P,V);if(V>=0&&W>0&&W<O.length&&d(O,P,D,W,D,L,V,$),O.reverse(),P.reverse(),V>-1&&W>0){let G=h(I);F=lb(I,O,P,0,O.length,0,M-D,G,G)}else F=p(I,O,P,M-D,$-M)}x.push(F),C.push(T)}function h(w){return(S,x,C)=>{let A=0,E=S.length-1,D,M;if(E>=0&&(D=S[E])instanceof Wt){if(!E&&D.type==w&&D.length==C)return D;(M=D.prop(ot.lookAhead))&&(A=x[E]+D.length+M)}return p(w,S,x,C,A)}}function d(w,S,x,C,A,E,D,M){let k=[],$=[];for(;w.length>C;)k.push(w.pop()),$.push(S.pop()+x-A);w.push(p(n.types[D],k,$,E-A,M-E)),S.push(A-x)}function p(w,S,x,C,A=0,E){if(u){let D=[ot.contextHash,u];E=E?[D].concat(E):[D]}if(A>25){let D=[ot.lookAhead,A];E=E?[D].concat(E):[D]}return new Wt(w,S,x,C,E)}function m(w,S){let x=s.fork(),C=0,A=0,E=0,D=x.end-i,M={size:0,start:0,skip:0};e:for(let k=x.pos-w;x.pos>k;){let $=x.size;if(x.id==S&&$>=0){M.size=C,M.start=A,M.skip=E,E+=4,C+=4,x.next();continue}let I=x.pos-$;if($<0||I<k||x.start<D)break;let F=x.id>=o?4:0,N=x.start;for(x.next();x.pos>I;){if(x.size<0)if(x.size==-3)F+=4;else break e;else x.id>=o&&(F+=4);x.next()}A=N,C+=$,E+=F}return(S<0||C==w)&&(M.size=C,M.start=A,M.skip=E),M.size>4?M:void 0}function v(w,S,x){let{id:C,start:A,end:E,size:D}=s;if(s.next(),D>=0&&C<o){let M=x;if(D>4){let k=s.pos-(D-4);for(;s.pos>k;)x=v(w,S,x)}S[--x]=M,S[--x]=E-w,S[--x]=A-w,S[--x]=C}else D==-3?u=C:D==-4&&(c=C);return x}let g=[],b=[];for(;s.pos>0;)f(t.start||0,t.bufferStart||0,g,b,-1);let y=(e=t.length)!==null&&e!==void 0?e:g.length?b[0]+g[0].length:0;return new Wt(l[t.topID],g.reverse(),b.reverse(),y)}const zE=new WeakMap;function md(t,e){if(!t.isAnonymous||e instanceof $s||e.type!=t)return 1;let r=zE.get(e);if(r==null){r=1;for(let n of e.children){if(n.type!=t||!(n instanceof Wt)){r=1;break}r+=md(t,n)}zE.set(e,r)}return r}function lb(t,e,r,n,i,a,o,s,l){let u=0;for(let p=n;p<i;p++)u+=md(t,e[p]);let c=Math.ceil(u*1.5/8),f=[],h=[];function d(p,m,v,g,b){for(let y=v;y<g;){let w=y,S=m[y],x=md(t,p[y]);for(y++;y<g;y++){let C=md(t,p[y]);if(x+C>=c)break;x+=C}if(y==w+1){if(x>c){let C=p[w];d(C.children,C.positions,0,C.children.length,m[w]+b);continue}f.push(p[w])}else{let C=m[y-1]+p[y-1].length-S;f.push(lb(t,p,m,w,y,S,C,null,l))}h.push(S+b-a)}}return d(e,r,n,i,0),(s||l)(f,h,o)}class fs{constructor(e,r,n,i,a=!1,o=!1){this.from=e,this.to=r,this.tree=n,this.offset=i,this.open=(a?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,r=[],n=!1){let i=[new fs(0,e.length,e,0,!1,n)];for(let a of r)a.to>e.length&&i.push(a);return i}static applyChanges(e,r,n=128){if(!r.length)return e;let i=[],a=1,o=e.length?e[0]:null;for(let s=0,l=0,u=0;;s++){let c=s<r.length?r[s]:null,f=c?c.fromA:1e9;if(f-l>=n)for(;o&&o.from<f;){let h=o;if(l>=h.from||f<=h.to||u){let d=Math.max(h.from,l)-u,p=Math.min(h.to,f)-u;h=d>=p?null:new fs(d,p,h.tree,h.offset+u,s>0,!!c)}if(h&&i.push(h),o.to>f)break;o=a<e.length?e[a++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}class P4{startParse(e,r,n){return typeof e=="string"&&(e=new jie(e)),n=n?n.length?n.map(i=>new Sv(i.from,i.to)):[new Sv(0,0)]:[new Sv(0,e.length)],this.createParse(e,r||[],n)}parse(e,r,n){let i=this.startParse(e,r,n);for(;;){let a=i.advance();if(a)return a}}}class jie{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,r){return this.string.slice(e,r)}}new ot({perNode:!0});let Gie=0;class Ui{constructor(e,r,n){this.set=e,this.base=r,this.modified=n,this.id=Gie++}static define(e){if(e?.base)throw new Error("Can not derive from a modified tag");let r=new Ui([],null,[]);if(r.set.push(r),e)for(let n of e.set)r.set.push(n);return r}static defineModifier(){let e=new Np;return r=>r.modified.indexOf(e)>-1?r:Np.get(r.base||r,r.modified.concat(e).sort((n,i)=>n.id-i.id))}}let Kie=0;class Np{constructor(){this.instances=[],this.id=Kie++}static get(e,r){if(!r.length)return e;let n=r[0].instances.find(s=>s.base==e&&Yie(r,s.modified));if(n)return n;let i=[],a=new Ui(i,e,r);for(let s of r)s.instances.push(a);let o=Jie(r);for(let s of e.set)if(!s.modified.length)for(let l of o)i.push(Np.get(s,l));return a}}function Yie(t,e){return t.length==e.length&&t.every((r,n)=>r==e[n])}function Jie(t){let e=[[]];for(let r=0;r<t.length;r++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(t[r]));return e.sort((r,n)=>n.length-r.length)}function Zie(t){let e=Object.create(null);for(let r in t){let n=t[r];Array.isArray(n)||(n=[n]);for(let i of r.split(" "))if(i){let a=[],o=2,s=i;for(let f=0;;){if(s=="..."&&f>0&&f+3==i.length){o=1;break}let h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!h)throw new RangeError("Invalid path: "+i);if(a.push(h[0]=="*"?"":h[0][0]=='"'?JSON.parse(h[0]):h[0]),f+=h[0].length,f==i.length)break;let d=i[f++];if(f==i.length&&d=="!"){o=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);s=i.slice(f)}let l=a.length-1,u=a[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new Mp(n,o,l>0?a.slice(0,l):null);e[u]=c.sort(e[u])}}return I4.add(e)}const I4=new ot;class Mp{constructor(e,r,n,i){this.tags=e,this.mode=r,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Mp.empty=new Mp([],2,null);function L4(t,e){let r=Object.create(null);for(let a of t)if(!Array.isArray(a.tag))r[a.tag.id]=a.class;else for(let o of a.tag)r[o.id]=a.class;let{scope:n,all:i=null}=e||{};return{style:a=>{let o=i;for(let s of a)for(let l of s.set){let u=r[l.id];if(u){o=o?o+" "+u:u;break}}return o},scope:n}}function Xie(t,e){let r=null;for(let n of t){let i=n.style(e);i&&(r=r?r+" "+i:i)}return r}function Qie(t,e,r,n=0,i=t.length){let a=new eae(n,Array.isArray(e)?e:[e],r);a.highlightRange(t.cursor(),n,i,"",a.highlighters),a.flush(i)}class eae{constructor(e,r,n){this.at=e,this.highlighters=r,this.span=n,this.class=""}startSpan(e,r){r!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=r)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,r,n,i,a){let{type:o,from:s,to:l}=e;if(s>=n||l<=r)return;o.isTop&&(a=this.highlighters.filter(d=>!d.scope||d.scope(o)));let u=i,c=tae(e)||Mp.empty,f=Xie(a,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(r,s),u),c.opaque)return;let h=e.tree&&e.tree.prop(ot.mounted);if(h&&h.overlay){let d=e.node.enter(h.overlay[0].from+s,1),p=this.highlighters.filter(v=>!v.scope||v.scope(h.tree.type)),m=e.firstChild();for(let v=0,g=s;;v++){let b=v<h.overlay.length?h.overlay[v]:null,y=b?b.from+s:l,w=Math.max(r,g),S=Math.min(n,y);if(w<S&&m)for(;e.from<S&&(this.highlightRange(e,w,S,i,a),this.startSpan(Math.min(S,e.to),u),!(e.to>=y||!e.nextSibling())););if(!b||y>n)break;g=b.to+s,g>r&&(this.highlightRange(d.cursor(),Math.max(r,b.from+s),Math.min(n,g),"",p),this.startSpan(Math.min(n,g),u))}m&&e.parent()}else if(e.firstChild()){h&&(i="");do if(!(e.to<=r)){if(e.from>=n)break;this.highlightRange(e,r,n,i,a),this.startSpan(Math.min(n,e.to),u)}while(e.nextSibling());e.parent()}}}function tae(t){let e=t.type.prop(I4);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ke=Ui.define,Fh=ke(),Za=ke(),UE=ke(Za),qE=ke(Za),Xa=ke(),$h=ke(Xa),Cv=ke(Xa),_i=ke(),Yo=ke(_i),Ii=ke(),Li=ke(),Uy=ke(),Pu=ke(Uy),Rh=ke(),ie={comment:Fh,lineComment:ke(Fh),blockComment:ke(Fh),docComment:ke(Fh),name:Za,variableName:ke(Za),typeName:UE,tagName:ke(UE),propertyName:qE,attributeName:ke(qE),className:ke(Za),labelName:ke(Za),namespace:ke(Za),macroName:ke(Za),literal:Xa,string:$h,docString:ke($h),character:ke($h),attributeValue:ke($h),number:Cv,integer:ke(Cv),float:ke(Cv),bool:ke(Xa),regexp:ke(Xa),escape:ke(Xa),color:ke(Xa),url:ke(Xa),keyword:Ii,self:ke(Ii),null:ke(Ii),atom:ke(Ii),unit:ke(Ii),modifier:ke(Ii),operatorKeyword:ke(Ii),controlKeyword:ke(Ii),definitionKeyword:ke(Ii),moduleKeyword:ke(Ii),operator:Li,derefOperator:ke(Li),arithmeticOperator:ke(Li),logicOperator:ke(Li),bitwiseOperator:ke(Li),compareOperator:ke(Li),updateOperator:ke(Li),definitionOperator:ke(Li),typeOperator:ke(Li),controlOperator:ke(Li),punctuation:Uy,separator:ke(Uy),bracket:Pu,angleBracket:ke(Pu),squareBracket:ke(Pu),paren:ke(Pu),brace:ke(Pu),content:_i,heading:Yo,heading1:ke(Yo),heading2:ke(Yo),heading3:ke(Yo),heading4:ke(Yo),heading5:ke(Yo),heading6:ke(Yo),contentSeparator:ke(_i),list:ke(_i),quote:ke(_i),emphasis:ke(_i),strong:ke(_i),link:ke(_i),monospace:ke(_i),strikethrough:ke(_i),inserted:ke(),deleted:ke(),changed:ke(),invalid:ke(),meta:Rh,documentMeta:ke(Rh),annotation:ke(Rh),processingInstruction:ke(Rh),definition:Ui.defineModifier(),constant:Ui.defineModifier(),function:Ui.defineModifier(),standard:Ui.defineModifier(),local:Ui.defineModifier(),special:Ui.defineModifier()};L4([{tag:ie.link,class:"tok-link"},{tag:ie.heading,class:"tok-heading"},{tag:ie.emphasis,class:"tok-emphasis"},{tag:ie.strong,class:"tok-strong"},{tag:ie.keyword,class:"tok-keyword"},{tag:ie.atom,class:"tok-atom"},{tag:ie.bool,class:"tok-bool"},{tag:ie.url,class:"tok-url"},{tag:ie.labelName,class:"tok-labelName"},{tag:ie.inserted,class:"tok-inserted"},{tag:ie.deleted,class:"tok-deleted"},{tag:ie.literal,class:"tok-literal"},{tag:ie.string,class:"tok-string"},{tag:ie.number,class:"tok-number"},{tag:[ie.regexp,ie.escape,ie.special(ie.string)],class:"tok-string2"},{tag:ie.variableName,class:"tok-variableName"},{tag:ie.local(ie.variableName),class:"tok-variableName tok-local"},{tag:ie.definition(ie.variableName),class:"tok-variableName tok-definition"},{tag:ie.special(ie.variableName),class:"tok-variableName2"},{tag:ie.definition(ie.propertyName),class:"tok-propertyName tok-definition"},{tag:ie.typeName,class:"tok-typeName"},{tag:ie.namespace,class:"tok-namespace"},{tag:ie.className,class:"tok-className"},{tag:ie.macroName,class:"tok-macroName"},{tag:ie.propertyName,class:"tok-propertyName"},{tag:ie.operator,class:"tok-operator"},{tag:ie.comment,class:"tok-comment"},{tag:ie.meta,class:"tok-meta"},{tag:ie.invalid,class:"tok-invalid"},{tag:ie.punctuation,class:"tok-punctuation"}]);var Dv;const hl=new ot;function rae(t){return ze.define({combine:t?e=>e.concat(t):void 0})}const nae=new ot;class wi{constructor(e,r,n=[],i=""){this.data=e,this.name=i,ct.prototype.hasOwnProperty("tree")||Object.defineProperty(ct.prototype,"tree",{get(){return Pr(this)}}),this.parser=r,this.extension=[Oo.of(this),ct.languageData.of((a,o,s)=>{let l=HE(a,o,s),u=l.type.prop(hl);if(!u)return[];let c=a.facet(u),f=l.type.prop(nae);if(f){let h=l.resolve(o-l.from,s);for(let d of f)if(d.test(h,a)){let p=a.facet(d.facet);return d.type=="replace"?p:p.concat(c)}}return c})].concat(n)}isActiveAt(e,r,n=-1){return HE(e,r,n).type.prop(hl)==this.data}findRegions(e){let r=e.facet(Oo);if(r?.data==this.data)return[{from:0,to:e.doc.length}];if(!r||!r.allowsNesting)return[];let n=[],i=(a,o)=>{if(a.prop(hl)==this.data){n.push({from:o,to:o+a.length});return}let s=a.prop(ot.mounted);if(s){if(s.tree.prop(hl)==this.data){if(s.overlay)for(let l of s.overlay)n.push({from:l.from+o,to:l.to+o});else n.push({from:o,to:o+a.length});return}else if(s.overlay){let l=n.length;if(i(s.tree,s.overlay[0].from+o),n.length>l)return}}for(let l=0;l<a.children.length;l++){let u=a.children[l];u instanceof Wt&&i(u,a.positions[l]+o)}};return i(Pr(e),0),n}get allowsNesting(){return!0}}wi.setState=rt.define();function HE(t,e,r){let n=t.facet(Oo),i=Pr(t).topNode;if(!n||n.allowsNesting)for(let a=i;a;a=a.enter(e,r,Or.ExcludeBuffers))a.type.isTop&&(i=a);return i}function Pr(t){let e=t.field(wi.state,!1);return e?e.tree:Wt.empty}class iae{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,r){let n=this.cursorPos-this.string.length;return e<n||r>=this.cursorPos?this.doc.sliceString(e,r):this.string.slice(e-n,r-n)}}let Iu=null;class Zl{constructor(e,r,n=[],i,a,o,s,l){this.parser=e,this.state=r,this.fragments=n,this.tree=i,this.treeLen=a,this.viewport=o,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,r,n){return new Zl(e,r,[],Wt.empty,0,n,[],null)}startParse(){return this.parser.startParse(new iae(this.state.doc),this.fragments)}work(e,r){return r!=null&&r>=this.state.doc.length&&(r=void 0),this.tree!=Wt.empty&&this.isDone(r??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),r!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&r<this.state.doc.length&&this.parse.stopAt(r);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(fs.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(r??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,r;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(r=this.parse.advance()););}),this.treeLen=e,this.tree=r,this.fragments=this.withoutTempSkipped(fs.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let r=Iu;Iu=this;try{return e()}finally{Iu=r}}withoutTempSkipped(e){for(let r;r=this.tempSkipped.pop();)e=VE(e,r.from,r.to);return e}changes(e,r){let{fragments:n,tree:i,treeLen:a,viewport:o,skipped:s}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,f,h)=>l.push({fromA:u,toA:c,fromB:f,toB:h})),n=fs.applyChanges(n,l),i=Wt.empty,a=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){s=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),f=e.mapPos(u.to,-1);c<f&&s.push({from:c,to:f})}}}return new Zl(this.parser,r,n,i,a,o,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let r=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:a}=this.skipped[n];i<e.to&&a>e.from&&(this.fragments=VE(this.fragments,i,a),this.skipped.splice(n--,1))}return this.skipped.length>=r?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,r){this.skipped.push({from:e,to:r})}static getSkippingParser(e){return new class extends P4{createParse(r,n,i){let a=i[0].from,o=i[i.length-1].to;return{parsedPos:a,advance(){let l=Iu;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Wt(Cn.none,[],[],o-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let r=this.fragments;return this.treeLen>=e&&r.length&&r[0].from==0&&r[0].to>=e}static get(){return Iu}}function VE(t,e,r){return fs.applyChanges(t,[{fromA:e,toA:r,fromB:e,toB:r}])}class Xl{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let r=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),r.viewport.to);return r.work(20,n)||r.takeTree(),new Xl(r)}static init(e){let r=Math.min(3e3,e.doc.length),n=Zl.create(e.facet(Oo).parser,e,{from:0,to:r});return n.work(20,r)||n.takeTree(),new Xl(n)}}wi.state=Lr.define({create:Xl.init,update(t,e){for(let r of e.effects)if(r.is(wi.setState))return r.value;return e.startState.facet(Oo)!=e.state.facet(Oo)?Xl.init(e.state):t.apply(e)}});let _4=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(_4=t=>{let e=-1,r=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(r):cancelIdleCallback(e)});const Av=typeof navigator<"u"&&(!((Dv=navigator.scheduling)===null||Dv===void 0)&&Dv.isInputPending)?()=>navigator.scheduling.isInputPending():null,aae=nr.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let r=this.view.state.field(wi.state).context;(r.updateViewport(e.view.viewport)||this.view.viewport.to>r.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(r)}scheduleWork(){if(this.working)return;let{state:e}=this.view,r=e.field(wi.state);(r.tree!=r.context.tree||!r.context.isDone(e.doc.length))&&(this.working=_4(this.work))}work(e){this.working=null;let r=Date.now();if(this.chunkEnd<r&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=r+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,a=n.field(wi.state);if(a.tree==a.context.tree&&a.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Av?Math.max(25,e.timeRemaining()-5):1e9),s=a.context.treeLen<i&&n.doc.length>i+1e3,l=a.context.work(()=>Av&&Av()||Date.now()>o,i+(s?0:1e5));this.chunkBudget-=Date.now()-r,(l||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:wi.setState.of(new Xl(a.context))})),this.chunkBudget>0&&!(l&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(r=>ni(this.view.state,r)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Oo=ze.define({combine(t){return t.length?t[0]:null},enables:t=>[wi.state,aae,$e.contentAttributes.compute([t],e=>{let r=e.facet(t);return r&&r.name?{"data-language":r.name}:{}})]}),z4=ze.define(),Pm=ze.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(r=>r!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function bs(t){let e=t.facet(Pm);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Gc(t,e){let r="",n=t.tabSize,i=t.facet(Pm)[0];if(i=="	"){for(;e>=n;)r+="	",e-=n;i=" "}for(let a=0;a<e;a++)r+=i;return r}function ub(t,e){t instanceof ct&&(t=new Im(t));for(let n of t.state.facet(z4)){let i=n(t,e);if(i!==void 0)return i}let r=Pr(t.state);return r?sae(t,r,e):null}class Im{constructor(e,r={}){this.state=e,this.options=r,this.unit=bs(e)}lineAt(e,r=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:a}=this.options;return i!=null&&i>=n.from&&i<=n.to?a&&i==e?{text:"",from:e}:(r<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,r=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,r);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,r=1){let{text:n,from:i}=this.lineAt(e,r),a=this.countColumn(n,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(a+=o-this.countColumn(n,n.search(/\S|$/))),a}countColumn(e,r=e.length){return vf(e,this.state.tabSize,r)}lineIndent(e,r=1){let{text:n,from:i}=this.lineAt(e,r),a=this.options.overrideIndentation;if(a){let o=a(i);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const oae=new ot;function sae(t,e,r){return U4(e.resolveInner(r).enterUnfinishedNodesBefore(r),r,t)}function lae(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function uae(t){let e=t.type.prop(oae);if(e)return e;let r=t.firstChild,n;if(r&&(n=r.type.prop(ot.closedBy))){let i=t.lastChild,a=i&&n.indexOf(i.name)>-1;return o=>dae(o,!0,1,void 0,a&&!lae(o)?i.from:void 0)}return t.parent==null?cae:null}function U4(t,e,r){for(;t;t=t.parent){let n=uae(t);if(n)return n(cb.create(r,e,t))}return null}function cae(){return 0}class cb extends Im{constructor(e,r,n){super(e.state,e.options),this.base=e,this.pos=r,this.node=n}static create(e,r,n){return new cb(e,r,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let r=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(r.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(fae(n,e))break;r=this.state.doc.lineAt(n.from)}return this.lineIndent(r.from)}continue(){let e=this.node.parent;return e?U4(e,this.pos,this.base):0}}function fae(t,e){for(let r=e;r;r=r.parent)if(t==r)return!0;return!1}function hae(t){let e=t.node,r=e.childAfter(e.from),n=e.lastChild;if(!r)return null;let i=t.options.simulateBreak,a=t.state.doc.lineAt(r.from),o=i==null||i<=a.from?a.to:Math.min(a.to,i);for(let s=r.to;;){let l=e.childAfter(s);if(!l||l==n)return null;if(!l.type.isSkipped)return l.from<o?r:null;s=l.to}}function dae(t,e,r,n,i){let a=t.textAfter,o=a.match(/^\s*/)[0].length,s=n&&a.slice(o,o+n.length)==n||i==t.pos+o,l=e?hae(t):null;return l?s?t.column(l.from):t.column(l.to):t.baseIndent+(s?0:t.unit*r)}const pae=200;function mae(){return ct.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let r=t.newDoc,{head:n}=t.newSelection.main,i=r.lineAt(n);if(n>i.from+pae)return t;let a=r.sliceString(i.from,n);if(!e.some(u=>u.test(a)))return t;let{state:o}=t,s=-1,l=[];for(let{head:u}of o.selection.ranges){let c=o.doc.lineAt(u);if(c.from==s)continue;s=c.from;let f=ub(o,c.from);if(f==null)continue;let h=/^\s*/.exec(c.text)[0],d=Gc(o,f);h!=d&&l.push({from:c.from,to:c.from+h.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const gae=ze.define(),vae=new ot;function yae(t,e,r){let n=Pr(t);if(n.length<r)return null;let i=n.resolveInner(r,1),a=null;for(let o=i;o;o=o.parent){if(o.to<=r||o.from>r)continue;if(a&&o.from<e)break;let s=o.type.prop(vae);if(s&&(o.to<n.length-50||n.length==t.doc.length||!xae(o))){let l=s(o,t);l&&l.from<=r&&l.from>=e&&l.to>r&&(a=l)}}return a}function xae(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Tp(t,e,r){for(let n of t.facet(gae)){let i=n(t,e,r);if(i)return i}return yae(t,e,r)}function q4(t,e){let r=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);return r>=n?void 0:{from:r,to:n}}const Lm=rt.define({map:q4}),bf=rt.define({map:q4});function H4(t){let e=[];for(let{head:r}of t.state.selection.ranges)e.some(n=>n.from<=r&&n.to>=r)||e.push(t.lineBlockAt(r));return e}const ws=Lr.define({create(){return Ue.none},update(t,e){t=t.map(e.changes);for(let r of e.effects)r.is(Lm)&&!bae(t,r.value.from,r.value.to)?t=t.update({add:[WE.range(r.value.from,r.value.to)]}):r.is(bf)&&(t=t.update({filter:(n,i)=>r.value.from!=n||r.value.to!=i,filterFrom:r.value.from,filterTo:r.value.to}));if(e.selection){let r=!1,{head:n}=e.selection.main;t.between(n,n,(i,a)=>{i<n&&a>n&&(r=!0)}),r&&(t=t.update({filterFrom:n,filterTo:n,filter:(i,a)=>a<=n||i>=n}))}return t},provide:t=>$e.decorations.from(t),toJSON(t,e){let r=[];return t.between(0,e.doc.length,(n,i)=>{r.push(n,i)}),r},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let r=0;r<t.length;){let n=t[r++],i=t[r++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(WE.range(n,i))}return Ue.set(e,!0)}});function kp(t,e,r){var n;let i=null;return(n=t.field(ws,!1))===null||n===void 0||n.between(e,r,(a,o)=>{(!i||i.from>a)&&(i={from:a,to:o})}),i}function bae(t,e,r){let n=!1;return t.between(e,e,(i,a)=>{i==e&&a==r&&(n=!0)}),n}function V4(t,e){return t.field(ws,!1)?e:e.concat(rt.appendConfig.of(G4()))}const wae=t=>{for(let e of H4(t)){let r=Tp(t.state,e.from,e.to);if(r)return t.dispatch({effects:V4(t.state,[Lm.of(r),W4(t,r)])}),!0}return!1},Sae=t=>{if(!t.state.field(ws,!1))return!1;let e=[];for(let r of H4(t)){let n=kp(t.state,r.from,r.to);n&&e.push(bf.of(n),W4(t,n,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function W4(t,e,r=!0){let n=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return $e.announce.of(`${t.state.phrase(r?"Folded lines":"Unfolded lines")} ${n} ${t.state.phrase("to")} ${i}.`)}const Cae=t=>{let{state:e}=t,r=[];for(let n=0;n<e.doc.length;){let i=t.lineBlockAt(n),a=Tp(e,i.from,i.to);a&&r.push(Lm.of(a)),n=(a?t.lineBlockAt(a.to):i).to+1}return r.length&&t.dispatch({effects:V4(t.state,r)}),!!r.length},Dae=t=>{let e=t.state.field(ws,!1);if(!e||!e.size)return!1;let r=[];return e.between(0,t.state.doc.length,(n,i)=>{r.push(bf.of({from:n,to:i}))}),t.dispatch({effects:r}),!0},Aae=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:wae},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Sae},{key:"Ctrl-Alt-[",run:Cae},{key:"Ctrl-Alt-]",run:Dae}],Eae={placeholderDOM:null,placeholderText:"…"},j4=ze.define({combine(t){return fa(t,Eae)}});function G4(t){let e=[ws,Tae];return t&&e.push(j4.of(t)),e}const WE=Ue.replace({widget:new class extends ha{toDOM(t){let{state:e}=t,r=e.facet(j4),n=a=>{let o=t.lineBlockAt(t.posAtDOM(a.target)),s=kp(t.state,o.from,o.to);s&&t.dispatch({effects:bf.of(s)}),a.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,n);let i=document.createElement("span");return i.textContent=r.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=n,i}}}),Nae={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Ev extends Pa{constructor(e,r){super(),this.config=e,this.open=r}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let r=document.createElement("span");return r.textContent=this.open?this.config.openText:this.config.closedText,r.title=e.state.phrase(this.open?"Fold line":"Unfold line"),r}}function Mae(t={}){let e=Object.assign(Object.assign({},Nae),t),r=new Ev(e,!0),n=new Ev(e,!1),i=nr.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Oo)!=o.state.facet(Oo)||o.startState.field(ws,!1)!=o.state.field(ws,!1)||Pr(o.startState)!=Pr(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let s=new $a;for(let l of o.viewportLineBlocks){let u=kp(o.state,l.from,l.to)?n:Tp(o.state,l.from,l.to)?r:null;u&&s.add(l.from,l.from,u)}return s.finish()}}),{domEventHandlers:a}=e;return[i,Oie({class:"cm-foldGutter",markers(o){var s;return((s=o.plugin(i))===null||s===void 0?void 0:s.markers)||At.empty},initialSpacer(){return new Ev(e,!1)},domEventHandlers:Object.assign(Object.assign({},a),{click:(o,s,l)=>{if(a.click&&a.click(o,s,l))return!0;let u=kp(o.state,s.from,s.to);if(u)return o.dispatch({effects:bf.of(u)}),!0;let c=Tp(o.state,s.from,s.to);return c?(o.dispatch({effects:Lm.of(c)}),!0):!1}})}),G4()]}const Tae=$e.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class yu{constructor(e,r){this.specs=e;let n;function i(s){let l=No.newName();return(n||(n=Object.create(null)))["."+l]=s,l}const a=typeof r.all=="string"?r.all:r.all?i(r.all):void 0,o=r.scope;this.scope=o instanceof wi?s=>s.prop(hl)==o.data:o?s=>s==o:void 0,this.style=L4(e.map(s=>({tag:s.tag,class:s.class||i(Object.assign({},s,{tag:null}))})),{all:a}).style,this.module=n?new No(n):null,this.themeType=r.themeType}static define(e,r){return new yu(e,r||{})}}const qy=ze.define(),K4=ze.define({combine(t){return t.length?[t[0]]:null}});function Nv(t){let e=t.facet(qy);return e.length?e:t.facet(K4)}function fb(t,e){let r=[Oae],n;return t instanceof yu&&(t.module&&r.push($e.styleModule.of(t.module)),n=t.themeType),e?.fallback?r.push(K4.of(t)):n?r.push(qy.computeN([$e.darkTheme],i=>i.facet($e.darkTheme)==(n=="dark")?[t]:[])):r.push(qy.of(t)),r}class kae{constructor(e){this.markCache=Object.create(null),this.tree=Pr(e.state),this.decorations=this.buildDeco(e,Nv(e.state))}update(e){let r=Pr(e.state),n=Nv(e.state),i=n!=Nv(e.startState);r.length<e.view.viewport.to&&!i&&r.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(r!=this.tree||e.viewportChanged||i)&&(this.tree=r,this.decorations=this.buildDeco(e.view,n))}buildDeco(e,r){if(!r||!this.tree.length)return Ue.none;let n=new $a;for(let{from:i,to:a}of e.visibleRanges)Qie(this.tree,r,(o,s,l)=>{n.add(o,s,this.markCache[l]||(this.markCache[l]=Ue.mark({class:l})))},i,a);return n.finish()}}const Oae=vu.high(nr.fromClass(kae,{decorations:t=>t.decorations})),Bae=yu.define([{tag:ie.meta,color:"#404740"},{tag:ie.link,textDecoration:"underline"},{tag:ie.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ie.emphasis,fontStyle:"italic"},{tag:ie.strong,fontWeight:"bold"},{tag:ie.strikethrough,textDecoration:"line-through"},{tag:ie.keyword,color:"#708"},{tag:[ie.atom,ie.bool,ie.url,ie.contentSeparator,ie.labelName],color:"#219"},{tag:[ie.literal,ie.inserted],color:"#164"},{tag:[ie.string,ie.deleted],color:"#a11"},{tag:[ie.regexp,ie.escape,ie.special(ie.string)],color:"#e40"},{tag:ie.definition(ie.variableName),color:"#00f"},{tag:ie.local(ie.variableName),color:"#30a"},{tag:[ie.typeName,ie.namespace],color:"#085"},{tag:ie.className,color:"#167"},{tag:[ie.special(ie.variableName),ie.macroName],color:"#256"},{tag:ie.definition(ie.propertyName),color:"#00c"},{tag:ie.comment,color:"#940"},{tag:ie.invalid,color:"#f00"}]),Fae=$e.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Y4=1e4,J4="()[]{}",Z4=ze.define({combine(t){return fa(t,{afterCursor:!0,brackets:J4,maxScanDistance:Y4,renderMatch:Pae})}}),$ae=Ue.mark({class:"cm-matchingBracket"}),Rae=Ue.mark({class:"cm-nonmatchingBracket"});function Pae(t){let e=[],r=t.matched?$ae:Rae;return e.push(r.range(t.start.from,t.start.to)),t.end&&e.push(r.range(t.end.from,t.end.to)),e}const Iae=Lr.define({create(){return Ue.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let r=[],n=e.state.facet(Z4);for(let i of e.state.selection.ranges){if(!i.empty)continue;let a=Yi(e.state,i.head,-1,n)||i.head>0&&Yi(e.state,i.head-1,1,n)||n.afterCursor&&(Yi(e.state,i.head,1,n)||i.head<e.state.doc.length&&Yi(e.state,i.head+1,-1,n));a&&(r=r.concat(n.renderMatch(a,e.state)))}return Ue.set(r,!0)},provide:t=>$e.decorations.from(t)}),Lae=[Iae,Fae];function _ae(t={}){return[Z4.of(t),Lae]}const zae=new ot;function Hy(t,e,r){let n=t.prop(e<0?ot.openedBy:ot.closedBy);if(n)return n;if(t.name.length==1){let i=r.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[r[i+e]]}return null}function Vy(t){let e=t.type.prop(zae);return e?e(t.node):t}function Yi(t,e,r,n={}){let i=n.maxScanDistance||Y4,a=n.brackets||J4,o=Pr(t),s=o.resolveInner(e,r);for(let l=s;l;l=l.parent){let u=Hy(l.type,r,a);if(u&&l.from<l.to){let c=Vy(l);if(c&&(r>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return Uae(t,e,r,l,c,u,a)}}return qae(t,e,r,o,s.type,i,a)}function Uae(t,e,r,n,i,a,o){let s=n.parent,l={from:i.from,to:i.to},u=0,c=s?.cursor();if(c&&(r<0?c.childBefore(n.from):c.childAfter(n.to)))do if(r<0?c.to<=n.from:c.from>=n.to){if(u==0&&a.indexOf(c.type.name)>-1&&c.from<c.to){let f=Vy(c);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(Hy(c.type,r,o))u++;else if(Hy(c.type,-r,o)){if(u==0){let f=Vy(c);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}u--}}while(r<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function qae(t,e,r,n,i,a,o){let s=r<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(s);if(l<0||l%2==0!=r>0)return null;let u={from:r<0?e-1:e,to:r>0?e+1:e},c=t.doc.iterRange(e,r>0?t.doc.length:0),f=0;for(let h=0;!c.next().done&&h<=a;){let d=c.value;r<0&&(h+=d.length);let p=e+h*r;for(let m=r>0?0:d.length-1,v=r>0?d.length:-1;m!=v;m+=r){let g=o.indexOf(d[m]);if(!(g<0||n.resolveInner(p+m,1).type!=i))if(g%2==0==r>0)f++;else{if(f==1)return{start:u,end:{from:p+m,to:p+m+1},matched:g>>1==l>>1};f--}}r>0&&(h+=d.length)}return c.done?{start:u,matched:!1}:null}function jE(t,e,r,n=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let a=i;for(let o=n;o<e;o++)t.charCodeAt(o)==9?a+=r-a%r:a++;return a}class X4{constructor(e,r,n,i){this.string=e,this.tabSize=r,this.indentUnit=n,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let r=this.string.charAt(this.pos),n;if(typeof e=="string"?n=r==e:n=r&&(e instanceof RegExp?e.test(r):e(r)),n)return++this.pos,r}eatWhile(e){let r=this.pos;for(;this.eat(e););return this.pos>r}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let r=this.string.indexOf(e,this.pos);if(r>-1)return this.pos=r,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=jE(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:jE(this.string,null,this.tabSize)}match(e,r,n){if(typeof e=="string"){let i=o=>n?o.toLowerCase():o,a=this.string.substr(this.pos,e.length);return i(a)==i(e)?(r!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&r!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function Hae(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||Vae,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||pb}}function Vae(t){if(typeof t!="object")return t;let e={};for(let r in t){let n=t[r];e[r]=n instanceof Array?n.slice():n}return e}const GE=new WeakMap;class hb extends wi{constructor(e){let r=rae(e.languageData),n=Hae(e),i,a=new class extends P4{createParse(o,s,l){return new jae(i,o,s,l)}};super(r,a,[z4.of((o,s)=>this.getIndent(o,s))],e.name),this.topNode=Yae(r),i=this,this.streamParser=n,this.stateAfter=new ot({perNode:!0}),this.tokenTable=e.tokenTable?new r$(n.tokenTable):Kae}static define(e){return new hb(e)}getIndent(e,r){let n=Pr(e.state),i=n.resolve(r);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let a,{overrideIndentation:o}=e.options;o&&(a=GE.get(e.state),a!=null&&a<r-1e4&&(a=void 0));let s=db(this,n,0,i.from,a??r),l,u;if(s?(u=s.state,l=s.pos+1):(u=this.streamParser.startState(e.unit),l=0),r-l>1e4)return null;for(;l<r;){let f=e.state.doc.lineAt(l),h=Math.min(r,f.to);if(f.length){let d=o?o(f.from):-1,p=new X4(f.text,e.state.tabSize,e.unit,d<0?void 0:d);for(;p.pos<h-f.from;)e$(this.streamParser.token,p,u)}else this.streamParser.blankLine(u,e.unit);if(h==r)break;l=f.to+1}let c=e.lineAt(r);return o&&a==null&&GE.set(e.state,c.from),this.streamParser.indent(u,/^\s*(.*)/.exec(c.text)[1],e)}get allowsNesting(){return!1}}function db(t,e,r,n,i){let a=r>=n&&r+e.length<=i&&e.prop(t.stateAfter);if(a)return{state:t.streamParser.copyState(a),pos:r+e.length};for(let o=e.children.length-1;o>=0;o--){let s=e.children[o],l=r+e.positions[o],u=s instanceof Wt&&l<i&&db(t,s,l,n,i);if(u)return u}return null}function Q4(t,e,r,n,i){if(i&&r<=0&&n>=e.length)return e;!i&&e.type==t.topNode&&(i=!0);for(let a=e.children.length-1;a>=0;a--){let o=e.positions[a],s=e.children[a],l;if(o<n&&s instanceof Wt){if(!(l=Q4(t,s,r-o,n-o,i)))break;return i?new Wt(e.type,e.children.slice(0,a).concat(l),e.positions.slice(0,a+1),o+l.length):l}}return null}function Wae(t,e,r,n){for(let i of e){let a=i.from+(i.openStart?25:0),o=i.to-(i.openEnd?25:0),s=a<=r&&o>r&&db(t,i.tree,0-i.offset,r,o),l;if(s&&(l=Q4(t,i.tree,r+i.offset,s.pos+i.offset,!1)))return{state:s.state,tree:l}}return{state:t.streamParser.startState(n?bs(n):4),tree:Wt.empty}}class jae{constructor(e,r,n,i){this.lang=e,this.input=r,this.fragments=n,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let a=Zl.get(),o=i[0].from,{state:s,tree:l}=Wae(e,n,o,a?.state);this.state=s,this.parsedPos=this.chunkStart=o+l.length;for(let u=0;u<l.children.length;u++)this.chunks.push(l.children[u]),this.chunkPos.push(l.positions[u]);a&&this.parsedPos<a.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(bs(a.state)),a.skipUntilInView(this.parsedPos,a.viewport.from),this.parsedPos=a.viewport.from),this.moveRangeIndex()}advance(){let e=Zl.get(),r=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),n=Math.min(r,this.chunkStart+2048);for(e&&(n=Math.min(n,e.viewport.to));this.parsedPos<n;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=r?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,r),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let r=this.input.chunk(e);if(this.input.lineChunks)r==`
`&&(r="");else{let n=r.indexOf(`
`);n>-1&&(r=r.slice(0,n))}return e+r.length<=this.to?r:r.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,r=this.lineAfter(e),n=e+r.length;for(let i=this.rangeIndex;;){let a=this.ranges[i].to;if(a>=n||(r=r.slice(0,a-(n-r.length)),i++,i==this.ranges.length))break;let o=this.ranges[i].from,s=this.lineAfter(o);r+=s,n=o+s.length}return{line:r,end:n}}skipGapsTo(e,r,n){for(;;){let i=this.ranges[this.rangeIndex].to,a=e+r;if(n>0?i>a:i>=a)break;let o=this.ranges[++this.rangeIndex].from;r+=o-i}return r}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,r,n,i,a){if(this.ranges.length>1){a=this.skipGapsTo(r,a,1),r+=a;let o=this.chunk.length;a=this.skipGapsTo(n,a,-1),n+=a,i+=this.chunk.length-o}return this.chunk.push(e,r,n,i),a}parseLine(e){let{line:r,end:n}=this.nextLine(),i=0,{streamParser:a}=this.lang,o=new X4(r,e?e.state.tabSize:4,e?bs(e.state):2);if(o.eol())a.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let s=e$(a.token,o,this.state);if(s&&(i=this.emitToken(this.lang.tokenTable.resolve(s),this.parsedPos+o.start,this.parsedPos+o.pos,4,i)),o.start>1e4)break}this.parsedPos=n,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Wt.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Gae,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new Wt(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Wt(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function e$(t,e,r){e.start=e.pos;for(let n=0;n<10;n++){let i=t(e,r);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const pb=Object.create(null),Kc=[Cn.none],Gae=new ab(Kc),KE=[],t$=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])t$[t]=n$(pb,e);class r${constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),t$)}resolve(e){return e?this.table[e]||(this.table[e]=n$(this.extra,e)):0}}const Kae=new r$(pb);function Mv(t,e){KE.indexOf(t)>-1||(KE.push(t),console.warn(e))}function n$(t,e){let r=null;for(let a of e.split(".")){let o=t[a]||ie[a];o?typeof o=="function"?r?r=o(r):Mv(a,`Modifier ${a} used at start of tag`):r?Mv(a,`Tag ${a} used as modifier`):r=o:Mv(a,`Unknown highlighting tag ${a}`)}if(!r)return 0;let n=e.replace(/ /g,"_"),i=Cn.define({id:Kc.length,name:n,props:[Zie({[n]:r})]});return Kc.push(i),i.id}function Yae(t){let e=Cn.define({id:Kc.length,name:"Document",props:[hl.add(()=>t)]});return Kc.push(e),e}const Jae=t=>{let{state:e}=t,r=e.doc.lineAt(e.selection.main.from),n=gb(t.state,r.from);return n.line?Zae(t):n.block?Qae(t):!1};function mb(t,e){return({state:r,dispatch:n})=>{if(r.readOnly)return!1;let i=t(e,r);return i?(n(r.update(i)),!0):!1}}const Zae=mb(roe,0),Xae=mb(i$,0),Qae=mb((t,e)=>i$(t,e,toe(e)),0);function gb(t,e){let r=t.languageDataAt("commentTokens",e);return r.length?r[0]:{}}const Lu=50;function eoe(t,{open:e,close:r},n,i){let a=t.sliceDoc(n-Lu,n),o=t.sliceDoc(i,i+Lu),s=/\s*$/.exec(a)[0].length,l=/^\s*/.exec(o)[0].length,u=a.length-s;if(a.slice(u-e.length,u)==e&&o.slice(l,l+r.length)==r)return{open:{pos:n-s,margin:s&&1},close:{pos:i+l,margin:l&&1}};let c,f;i-n<=2*Lu?c=f=t.sliceDoc(n,i):(c=t.sliceDoc(n,n+Lu),f=t.sliceDoc(i-Lu,i));let h=/^\s*/.exec(c)[0].length,d=/\s*$/.exec(f)[0].length,p=f.length-d-r.length;return c.slice(h,h+e.length)==e&&f.slice(p,p+r.length)==r?{open:{pos:n+h+e.length,margin:/\s/.test(c.charAt(h+e.length))?1:0},close:{pos:i-d-r.length,margin:/\s/.test(f.charAt(p-1))?1:0}}:null}function toe(t){let e=[];for(let r of t.selection.ranges){let n=t.doc.lineAt(r.from),i=r.to<=n.to?n:t.doc.lineAt(r.to),a=e.length-1;a>=0&&e[a].to>n.from?e[a].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function i$(t,e,r=e.selection.ranges){let n=r.map(a=>gb(e,a.from).block);if(!n.every(a=>a))return null;let i=r.map((a,o)=>eoe(e,n[o],a.from,a.to));if(t!=2&&!i.every(a=>a))return{changes:e.changes(r.map((a,o)=>i[o]?[]:[{from:a.from,insert:n[o].open+" "},{from:a.to,insert:" "+n[o].close}]))};if(t!=1&&i.some(a=>a)){let a=[];for(let o=0,s;o<i.length;o++)if(s=i[o]){let l=n[o],{open:u,close:c}=s;a.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:a}}return null}function roe(t,e,r=e.selection.ranges){let n=[],i=-1;for(let{from:a,to:o}of r){let s=n.length,l=1e9,u=gb(e,a).line;if(u){for(let c=a;c<=o;){let f=e.doc.lineAt(c);if(f.from>i&&(a==o||o>f.from)){i=f.from;let h=/^\s*/.exec(f.text)[0].length,d=h==f.length,p=f.text.slice(h,h+u.length)==u?h:-1;h<f.text.length&&h<l&&(l=h),n.push({line:f,comment:p,token:u,indent:h,empty:d,single:!1})}c=f.to+1}if(l<1e9)for(let c=s;c<n.length;c++)n[c].indent<n[c].line.text.length&&(n[c].indent=l);n.length==s+1&&(n[s].single=!0)}}if(t!=2&&n.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:s,token:l,indent:u,empty:c,single:f}of n)(f||!c)&&a.push({from:s.from+u,insert:l+" "});let o=e.changes(a);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&n.some(a=>a.comment>=0)){let a=[];for(let{line:o,comment:s,token:l}of n)if(s>=0){let u=o.from+s,c=u+l.length;o.text[c-o.from]==" "&&c++,a.push({from:u,to:c})}return{changes:a}}return null}const Wy=ca.define(),noe=ca.define(),ioe=ze.define(),a$=ze.define({combine(t){return fa(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,r)=>r},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,r)=>(n,i)=>e(n,i)||r(n,i)})}});function aoe(t){let e=0;return t.iterChangedRanges((r,n)=>e=n),e}const o$=Lr.define({create(){return Ji.empty},update(t,e){let r=e.state.facet(a$),n=e.annotation(Wy);if(n){let l=e.docChanged?be.single(aoe(e.changes)):void 0,u=mn.fromTransaction(e,l),c=n.side,f=c==0?t.undone:t.done;return u?f=Op(f,f.length,r.minDepth,u):f=u$(f,e.startState.selection),new Ji(c==0?n.rest:f,c==0?f:n.rest)}let i=e.annotation(noe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(gr.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let a=mn.fromTransaction(e),o=e.annotation(gr.time),s=e.annotation(gr.userEvent);return a?t=t.addChanges(a,o,s,r,e):e.selection&&(t=t.addSelection(e.startState.selection,o,s,r.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Ji(t.done.map(mn.fromJSON),t.undone.map(mn.fromJSON))}});function ooe(t={}){return[o$,a$.of(t),$e.domEventHandlers({beforeinput(e,r){let n=e.inputType=="historyUndo"?s$:e.inputType=="historyRedo"?jy:null;return n?(e.preventDefault(),n(r)):!1}})]}function _m(t,e){return function({state:r,dispatch:n}){if(!e&&r.readOnly)return!1;let i=r.field(o$,!1);if(!i)return!1;let a=i.pop(t,r,e);return a?(n(a),!0):!1}}const s$=_m(0,!1),jy=_m(1,!1),soe=_m(0,!0),loe=_m(1,!0);class mn{constructor(e,r,n,i,a){this.changes=e,this.effects=r,this.mapped=n,this.startSelection=i,this.selectionsAfter=a}setSelAfter(e){return new mn(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,r,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(r=this.mapped)===null||r===void 0?void 0:r.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new mn(e.changes&&hr.fromJSON(e.changes),[],e.mapped&&Qi.fromJSON(e.mapped),e.startSelection&&be.fromJSON(e.startSelection),e.selectionsAfter.map(be.fromJSON))}static fromTransaction(e,r){let n=ei;for(let i of e.startState.facet(ioe)){let a=i(e);a.length&&(n=n.concat(a))}return!n.length&&e.changes.empty?null:new mn(e.changes.invert(e.startState.doc),n,void 0,r||e.startState.selection,ei)}static selection(e){return new mn(void 0,ei,void 0,void 0,e)}}function Op(t,e,r,n){let i=e+1>r+20?e-r-1:0,a=t.slice(i,e);return a.push(n),a}function uoe(t,e){let r=[],n=!1;return t.iterChangedRanges((i,a)=>r.push(i,a)),e.iterChangedRanges((i,a,o,s)=>{for(let l=0;l<r.length;){let u=r[l++],c=r[l++];s>=u&&o<=c&&(n=!0)}}),n}function coe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((r,n)=>r.empty!=e.ranges[n].empty).length===0}function l$(t,e){return t.length?e.length?t.concat(e):t:e}const ei=[],foe=200;function u$(t,e){if(t.length){let r=t[t.length-1],n=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-foe));return n.length&&n[n.length-1].eq(e)?t:(n.push(e),Op(t,t.length-1,1e9,r.setSelAfter(n)))}else return[mn.selection([e])]}function hoe(t){let e=t[t.length-1],r=t.slice();return r[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),r}function Tv(t,e){if(!t.length)return t;let r=t.length,n=ei;for(;r;){let i=doe(t[r-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let a=t.slice(0,r);return a[r-1]=i,a}else e=i.mapped,r--,n=i.selectionsAfter}return n.length?[mn.selection(n)]:ei}function doe(t,e,r){let n=l$(t.selectionsAfter.length?t.selectionsAfter.map(s=>s.map(e)):ei,r);if(!t.changes)return mn.selection(n);let i=t.changes.map(e),a=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(a):a;return new mn(i,rt.mapEffects(t.effects,e),o,t.startSelection.map(a),n)}const poe=/^(input\.type|delete)($|\.)/;class Ji{constructor(e,r,n=0,i=void 0){this.done=e,this.undone=r,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new Ji(this.done,this.undone):this}addChanges(e,r,n,i,a){let o=this.done,s=o[o.length-1];return s&&s.changes&&!s.changes.empty&&e.changes&&(!n||poe.test(n))&&(!s.selectionsAfter.length&&r-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,uoe(s.changes,e.changes))||n=="input.type.compose")?o=Op(o,o.length-1,i.minDepth,new mn(e.changes.compose(s.changes),l$(e.effects,s.effects),s.mapped,s.startSelection,ei)):o=Op(o,o.length,i.minDepth,e),new Ji(o,ei,r,n)}addSelection(e,r,n,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:ei;return a.length>0&&r-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&coe(a[a.length-1],e)?this:new Ji(u$(this.done,e),this.undone,r,n)}addMapping(e){return new Ji(Tv(this.done,e),Tv(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,r,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let a=i[i.length-1];if(n&&a.selectionsAfter.length)return r.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:Wy.of({side:e,rest:hoe(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let o=i.length==1?ei:i.slice(0,i.length-1);return a.mapped&&(o=Tv(o,a.mapped)),r.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:Wy.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ji.empty=new Ji(ei,ei);const moe=[{key:"Mod-z",run:s$,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:jy,preventDefault:!0},{linux:"Ctrl-Shift-z",run:jy,preventDefault:!0},{key:"Mod-u",run:soe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:loe,preventDefault:!0}];function xu(t,e){return be.create(t.ranges.map(e),t.mainIndex)}function da(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Fi({state:t,dispatch:e},r){let n=xu(t.selection,r);return n.eq(t.selection)?!1:(e(da(t,n)),!0)}function zm(t,e){return be.cursor(e?t.to:t.from)}function c$(t,e){return Fi(t,r=>r.empty?t.moveByChar(r,e):zm(r,e))}function Xr(t){return t.textDirectionAt(t.state.selection.main.head)==Vt.LTR}const f$=t=>c$(t,!Xr(t)),h$=t=>c$(t,Xr(t));function d$(t,e){return Fi(t,r=>r.empty?t.moveByGroup(r,e):zm(r,e))}const goe=t=>d$(t,!Xr(t)),voe=t=>d$(t,Xr(t));function yoe(t,e,r){if(e.type.prop(r))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Um(t,e,r){let n=Pr(t).resolveInner(e.head),i=r?ot.closedBy:ot.openedBy;for(let l=e.head;;){let u=r?n.childAfter(l):n.childBefore(l);if(!u)break;yoe(t,u,i)?n=u:l=r?u.to:u.from}let a=n.type.prop(i),o,s;return a&&(o=r?Yi(t,n.from,1):Yi(t,n.to,-1))&&o.matched?s=r?o.end.to:o.end.from:s=r?n.to:n.from,be.cursor(s,r?-1:1)}const xoe=t=>Fi(t,e=>Um(t.state,e,!Xr(t))),boe=t=>Fi(t,e=>Um(t.state,e,Xr(t)));function p$(t,e){return Fi(t,r=>{if(!r.empty)return zm(r,e);let n=t.moveVertically(r,e);return n.head!=r.head?n:t.moveToLineBoundary(r,e)})}const m$=t=>p$(t,!1),g$=t=>p$(t,!0);function v$(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,r=0,n=0,i;if(e){for(let a of t.state.facet($e.scrollMargins)){let o=a(t);o?.top&&(r=Math.max(o?.top,r)),o?.bottom&&(n=Math.max(o?.bottom,n))}i=t.scrollDOM.clientHeight-r-n}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:n,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function y$(t,e){let r=v$(t),{state:n}=t,i=xu(n.selection,o=>o.empty?t.moveVertically(o,e,r.height):zm(o,e));if(i.eq(n.selection))return!1;let a;if(r.selfScroll){let o=t.coordsAtPos(n.selection.main.head),s=t.scrollDOM.getBoundingClientRect(),l=s.top+r.marginTop,u=s.bottom-r.marginBottom;o&&o.top>l&&o.bottom<u&&(a=$e.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(da(n,i),{effects:a}),!0}const YE=t=>y$(t,!1),Gy=t=>y$(t,!0);function _o(t,e,r){let n=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,r);if(i.head==e.head&&i.head!=(r?n.to:n.from)&&(i=t.moveToLineBoundary(e,r,!1)),!r&&i.head==n.from&&n.length){let a=/^\s*/.exec(t.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;a&&e.head!=n.from+a&&(i=be.cursor(n.from+a))}return i}const woe=t=>Fi(t,e=>_o(t,e,!0)),Soe=t=>Fi(t,e=>_o(t,e,!1)),Coe=t=>Fi(t,e=>_o(t,e,!Xr(t))),Doe=t=>Fi(t,e=>_o(t,e,Xr(t))),Aoe=t=>Fi(t,e=>be.cursor(t.lineBlockAt(e.head).from,1)),Eoe=t=>Fi(t,e=>be.cursor(t.lineBlockAt(e.head).to,-1));function Noe(t,e,r){let n=!1,i=xu(t.selection,a=>{let o=Yi(t,a.head,-1)||Yi(t,a.head,1)||a.head>0&&Yi(t,a.head-1,1)||a.head<t.doc.length&&Yi(t,a.head+1,-1);if(!o||!o.end)return a;n=!0;let s=o.start.from==a.head?o.end.to:o.end.from;return r?be.range(a.anchor,s):be.cursor(s)});return n?(e(da(t,i)),!0):!1}const Moe=({state:t,dispatch:e})=>Noe(t,e,!1);function fi(t,e){let r=xu(t.state.selection,n=>{let i=e(n);return be.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return r.eq(t.state.selection)?!1:(t.dispatch(da(t.state,r)),!0)}function x$(t,e){return fi(t,r=>t.moveByChar(r,e))}const b$=t=>x$(t,!Xr(t)),w$=t=>x$(t,Xr(t));function S$(t,e){return fi(t,r=>t.moveByGroup(r,e))}const Toe=t=>S$(t,!Xr(t)),koe=t=>S$(t,Xr(t)),Ooe=t=>fi(t,e=>Um(t.state,e,!Xr(t))),Boe=t=>fi(t,e=>Um(t.state,e,Xr(t)));function C$(t,e){return fi(t,r=>t.moveVertically(r,e))}const D$=t=>C$(t,!1),A$=t=>C$(t,!0);function E$(t,e){return fi(t,r=>t.moveVertically(r,e,v$(t).height))}const JE=t=>E$(t,!1),ZE=t=>E$(t,!0),Foe=t=>fi(t,e=>_o(t,e,!0)),$oe=t=>fi(t,e=>_o(t,e,!1)),Roe=t=>fi(t,e=>_o(t,e,!Xr(t))),Poe=t=>fi(t,e=>_o(t,e,Xr(t))),Ioe=t=>fi(t,e=>be.cursor(t.lineBlockAt(e.head).from)),Loe=t=>fi(t,e=>be.cursor(t.lineBlockAt(e.head).to)),XE=({state:t,dispatch:e})=>(e(da(t,{anchor:0})),!0),QE=({state:t,dispatch:e})=>(e(da(t,{anchor:t.doc.length})),!0),eN=({state:t,dispatch:e})=>(e(da(t,{anchor:t.selection.main.anchor,head:0})),!0),tN=({state:t,dispatch:e})=>(e(da(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),_oe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),zoe=({state:t,dispatch:e})=>{let r=Hm(t).map(({from:n,to:i})=>be.range(n,Math.min(i+1,t.doc.length)));return e(t.update({selection:be.create(r),userEvent:"select"})),!0},Uoe=({state:t,dispatch:e})=>{let r=xu(t.selection,n=>{var i;let a=Pr(t).resolveInner(n.head,1);for(;!(a.from<n.from&&a.to>=n.to||a.to>n.to&&a.from<=n.from||!(!((i=a.parent)===null||i===void 0)&&i.parent));)a=a.parent;return be.range(a.to,a.from)});return e(da(t,r)),!0},qoe=({state:t,dispatch:e})=>{let r=t.selection,n=null;return r.ranges.length>1?n=be.create([r.main]):r.main.empty||(n=be.create([be.cursor(r.main.head)])),n?(e(da(t,n)),!0):!1};function qm(t,e){if(t.state.readOnly)return!1;let r="delete.selection",{state:n}=t,i=n.changeByRange(a=>{let{from:o,to:s}=a;if(o==s){let l=e(o);l<o?(r="delete.backward",l=Ph(t,l,!1)):l>o&&(r="delete.forward",l=Ph(t,l,!0)),o=Math.min(o,l),s=Math.max(s,l)}else o=Ph(t,o,!1),s=Ph(t,s,!0);return o==s?{range:a}:{changes:{from:o,to:s},range:be.cursor(o)}});return i.changes.empty?!1:(t.dispatch(n.update(i,{scrollIntoView:!0,userEvent:r,effects:r=="delete.selection"?$e.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Ph(t,e,r){if(t instanceof $e)for(let n of t.state.facet($e.atomicRanges).map(i=>i(t)))n.between(e,e,(i,a)=>{i<e&&a>e&&(e=r?a:i)});return e}const N$=(t,e)=>qm(t,r=>{let{state:n}=t,i=n.doc.lineAt(r),a,o;if(!e&&r>i.from&&r<i.from+200&&!/[^ \t]/.test(a=i.text.slice(0,r-i.from))){if(a[a.length-1]=="	")return r-1;let s=vf(a,n.tabSize),l=s%bs(n)||bs(n);for(let u=0;u<l&&a[a.length-1-u]==" ";u++)r--;o=r}else o=rn(i.text,r-i.from,e,e)+i.from,o==r&&i.number!=(e?n.doc.lines:1)&&(o+=e?1:-1);return o}),Ky=t=>N$(t,!1),M$=t=>N$(t,!0),T$=(t,e)=>qm(t,r=>{let n=r,{state:i}=t,a=i.doc.lineAt(n),o=i.charCategorizer(n);for(let s=null;;){if(n==(e?a.to:a.from)){n==r&&a.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let l=rn(a.text,n-a.from,e)+a.from,u=a.text.slice(Math.min(n,l)-a.from,Math.max(n,l)-a.from),c=o(u);if(s!=null&&c!=s)break;(u!=" "||n!=r)&&(s=c),n=l}return n}),k$=t=>T$(t,!1),Hoe=t=>T$(t,!0),O$=t=>qm(t,e=>{let r=t.lineBlockAt(e).to;return e<r?r:Math.min(t.state.doc.length,e+1)}),Voe=t=>qm(t,e=>{let r=t.lineBlockAt(e).from;return e>r?r:Math.max(0,e-1)}),Woe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:bt.of(["",""])},range:be.cursor(n.from)}));return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0},joe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(n=>{if(!n.empty||n.from==0||n.from==t.doc.length)return{range:n};let i=n.from,a=t.doc.lineAt(i),o=i==a.from?i-1:rn(a.text,i-a.from,!1)+a.from,s=i==a.to?i+1:rn(a.text,i-a.from,!0)+a.from;return{changes:{from:o,to:s,insert:t.doc.slice(i,s).append(t.doc.slice(o,i))},range:be.cursor(s)}});return r.changes.empty?!1:(e(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Hm(t){let e=[],r=-1;for(let n of t.selection.ranges){let i=t.doc.lineAt(n.from),a=t.doc.lineAt(n.to);if(!n.empty&&n.to==a.from&&(a=t.doc.lineAt(n.to-1)),r>=i.number){let o=e[e.length-1];o.to=a.to,o.ranges.push(n)}else e.push({from:i.from,to:a.to,ranges:[n]});r=a.number+1}return e}function B$(t,e,r){if(t.readOnly)return!1;let n=[],i=[];for(let a of Hm(t)){if(r?a.to==t.doc.length:a.from==0)continue;let o=t.doc.lineAt(r?a.to+1:a.from-1),s=o.length+1;if(r){n.push({from:a.to,to:o.to},{from:a.from,insert:o.text+t.lineBreak});for(let l of a.ranges)i.push(be.range(Math.min(t.doc.length,l.anchor+s),Math.min(t.doc.length,l.head+s)))}else{n.push({from:o.from,to:a.from},{from:a.to,insert:t.lineBreak+o.text});for(let l of a.ranges)i.push(be.range(l.anchor-s,l.head-s))}}return n.length?(e(t.update({changes:n,scrollIntoView:!0,selection:be.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Goe=({state:t,dispatch:e})=>B$(t,e,!1),Koe=({state:t,dispatch:e})=>B$(t,e,!0);function F$(t,e,r){if(t.readOnly)return!1;let n=[];for(let i of Hm(t))r?n.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):n.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Yoe=({state:t,dispatch:e})=>F$(t,e,!1),Joe=({state:t,dispatch:e})=>F$(t,e,!0),Zoe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,r=e.changes(Hm(e).map(({from:i,to:a})=>(i>0?i--:a<e.doc.length&&a++,{from:i,to:a}))),n=xu(e.selection,i=>t.moveVertically(i,!0)).map(r);return t.dispatch({changes:r,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Xoe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let r=Pr(t).resolveInner(e),n=r.childBefore(e),i=r.childAfter(e),a;return n&&i&&n.to<=e&&i.from>=e&&(a=n.type.prop(ot.closedBy))&&a.indexOf(i.name)>-1&&t.doc.lineAt(n.to).from==t.doc.lineAt(i.from).from?{from:n.to,to:i.from}:null}const Qoe=$$(!1),ese=$$(!0);function $$(t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:a,to:o}=i,s=e.doc.lineAt(a),l=!t&&a==o&&Xoe(e,a);t&&(a=o=(o<=s.to?s:e.doc.lineAt(o)).to);let u=new Im(e,{simulateBreak:a,simulateDoubleBreak:!!l}),c=ub(u,a);for(c==null&&(c=/^\s*/.exec(e.doc.lineAt(a).text)[0].length);o<s.to&&/\s/.test(s.text[o-s.from]);)o++;l?{from:a,to:o}=l:a>s.from&&a<s.from+100&&!/\S/.test(s.text.slice(0,a))&&(a=s.from);let f=["",Gc(e,c)];return l&&f.push(Gc(e,u.lineIndent(s.from,-1))),{changes:{from:a,to:o,insert:bt.of(f)},range:be.cursor(a+1+f[1].length)}});return r(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function vb(t,e){let r=-1;return t.changeByRange(n=>{let i=[];for(let o=n.from;o<=n.to;){let s=t.doc.lineAt(o);s.number>r&&(n.empty||n.to>s.from)&&(e(s,i,n),r=s.number),o=s.to+1}let a=t.changes(i);return{changes:i,range:be.range(a.mapPos(n.anchor,1),a.mapPos(n.head,1))}})}const tse=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=Object.create(null),n=new Im(t,{overrideIndentation:a=>{let o=r[a];return o??-1}}),i=vb(t,(a,o,s)=>{let l=ub(n,a.from);if(l==null)return;/\S/.test(a.text)||(l=0);let u=/^\s*/.exec(a.text)[0],c=Gc(t,l);(u!=c||s.from<a.from+u.length)&&(r[a.from]=l,o.push({from:a.from,to:a.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},R$=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(vb(t,(r,n)=>{n.push({from:r.from,insert:t.facet(Pm)})}),{userEvent:"input.indent"})),!0),P$=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(vb(t,(r,n)=>{let i=/^\s*/.exec(r.text)[0];if(!i)return;let a=vf(i,t.tabSize),o=0,s=Gc(t,Math.max(0,a-bs(t)));for(;o<i.length&&o<s.length&&i.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:r.from+o,to:r.from+i.length,insert:s.slice(o)})}),{userEvent:"delete.dedent"})),!0),rse=[{key:"Ctrl-b",run:f$,shift:b$,preventDefault:!0},{key:"Ctrl-f",run:h$,shift:w$},{key:"Ctrl-p",run:m$,shift:D$},{key:"Ctrl-n",run:g$,shift:A$},{key:"Ctrl-a",run:Aoe,shift:Ioe},{key:"Ctrl-e",run:Eoe,shift:Loe},{key:"Ctrl-d",run:M$},{key:"Ctrl-h",run:Ky},{key:"Ctrl-k",run:O$},{key:"Ctrl-Alt-h",run:k$},{key:"Ctrl-o",run:Woe},{key:"Ctrl-t",run:joe},{key:"Ctrl-v",run:Gy}],nse=[{key:"ArrowLeft",run:f$,shift:b$,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:goe,shift:Toe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Coe,shift:Roe,preventDefault:!0},{key:"ArrowRight",run:h$,shift:w$,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:voe,shift:koe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Doe,shift:Poe,preventDefault:!0},{key:"ArrowUp",run:m$,shift:D$,preventDefault:!0},{mac:"Cmd-ArrowUp",run:XE,shift:eN},{mac:"Ctrl-ArrowUp",run:YE,shift:JE},{key:"ArrowDown",run:g$,shift:A$,preventDefault:!0},{mac:"Cmd-ArrowDown",run:QE,shift:tN},{mac:"Ctrl-ArrowDown",run:Gy,shift:ZE},{key:"PageUp",run:YE,shift:JE},{key:"PageDown",run:Gy,shift:ZE},{key:"Home",run:Soe,shift:$oe,preventDefault:!0},{key:"Mod-Home",run:XE,shift:eN},{key:"End",run:woe,shift:Foe,preventDefault:!0},{key:"Mod-End",run:QE,shift:tN},{key:"Enter",run:Qoe},{key:"Mod-a",run:_oe},{key:"Backspace",run:Ky,shift:Ky},{key:"Delete",run:M$},{key:"Mod-Backspace",mac:"Alt-Backspace",run:k$},{key:"Mod-Delete",mac:"Alt-Delete",run:Hoe},{mac:"Mod-Backspace",run:Voe},{mac:"Mod-Delete",run:O$}].concat(rse.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),ise=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:xoe,shift:Ooe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:boe,shift:Boe},{key:"Alt-ArrowUp",run:Goe},{key:"Shift-Alt-ArrowUp",run:Yoe},{key:"Alt-ArrowDown",run:Koe},{key:"Shift-Alt-ArrowDown",run:Joe},{key:"Escape",run:qoe},{key:"Mod-Enter",run:ese},{key:"Alt-l",mac:"Ctrl-l",run:zoe},{key:"Mod-i",run:Uoe,preventDefault:!0},{key:"Mod-[",run:P$},{key:"Mod-]",run:R$},{key:"Mod-Alt-\\",run:tse},{key:"Shift-Mod-k",run:Zoe},{key:"Shift-Mod-\\",run:Moe},{key:"Mod-/",run:Jae},{key:"Alt-A",run:Xae}].concat(nse),ase={key:"Tab",run:R$,shift:P$};function Ft(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,r=arguments[1];if(r&&typeof r=="object"&&r.nodeType==null&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];typeof i=="string"?t.setAttribute(n,i):i!=null&&(t[n]=i)}e++}for(;e<arguments.length;e++)I$(t,arguments[e]);return t}function I$(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var r=0;r<e.length;r++)I$(t,e[r]);else throw new RangeError("Unsupported child node: "+e)}const rN=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Ql{constructor(e,r,n=0,i=e.length,a,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=a?s=>a(rN(s)):rN,this.query=this.normalize(r)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Tr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let r=Gx(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=Xn(e);let i=this.normalize(r);for(let a=0,o=n;;a++){let s=i.charCodeAt(a),l=this.match(s,o);if(l)return this.value=l,this;if(a==i.length-1)break;o==n&&a<r.length&&r.charCodeAt(a)==s&&o++}}}match(e,r){let n=null;for(let i=0;i<this.matches.length;i+=2){let a=this.matches[i],o=!1;this.query.charCodeAt(a)==e&&(a==this.query.length-1?n={from:this.matches[i+1],to:r+1}:(this.matches[i]++,o=!0)),o||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?n={from:r,to:r+1}:this.matches.push(1,r)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferPos)&&(n=null),n}}typeof Symbol<"u"&&(Ql.prototype[Symbol.iterator]=function(){return this});const L$={from:-1,to:-1,match:/.*/.exec("")},yb="gm"+(/x/.unicode==null?"":"u");class _${constructor(e,r,n,i=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=L$,/\\[sWDnr]|\n|\r|\[\^/.test(r))return new z$(e,r,n,i,a);this.re=new RegExp(r,yb+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Bp(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let r=this.matchPos<=this.to&&this.re.exec(this.curLine);if(r){let n=this.curLineStart+r.index,i=n+r[0].length;if(this.matchPos=Bp(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,r)))return this.value={from:n,to:i,match:r},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const kv=new WeakMap;class Nl{constructor(e,r){this.from=e,this.text=r}get to(){return this.from+this.text.length}static get(e,r,n){let i=kv.get(e);if(!i||i.from>=n||i.to<=r){let s=new Nl(r,e.sliceString(r,n));return kv.set(e,s),s}if(i.from==r&&i.to==n)return i;let{text:a,from:o}=i;return o>r&&(a=e.sliceString(r,o)+a,o=r),i.to<n&&(a+=e.sliceString(i.to,n)),kv.set(e,new Nl(o,a)),new Nl(r,a.slice(r-o,n-o))}}class z${constructor(e,r,n,i,a){this.text=e,this.to=a,this.done=!1,this.value=L$,this.matchPos=Bp(e,i),this.re=new RegExp(r,yb+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=Nl.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,r=this.re.exec(this.flat.text);if(r&&!r[0]&&r.index==e&&(this.re.lastIndex=e+1,r=this.re.exec(this.flat.text)),r){let n=this.flat.from+r.index,i=n+r[0].length;if((this.flat.to>=this.to||r.index+r[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,r)))return this.value={from:n,to:i,match:r},this.matchPos=Bp(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Nl.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(_$.prototype[Symbol.iterator]=z$.prototype[Symbol.iterator]=function(){return this});function ose(t){try{return new RegExp(t,yb),!0}catch{return!1}}function Bp(t,e){if(e>=t.length)return e;let r=t.lineAt(e),n;for(;e<r.to&&(n=r.text.charCodeAt(e-r.from))>=56320&&n<57344;)e++;return e}function Yy(t){let e=Ft("input",{class:"cm-textfield",name:"line"}),r=Ft("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),t.dispatch({effects:Fp.of(!1)}),t.focus()):i.keyCode==13&&(i.preventDefault(),n())},onsubmit:i=>{i.preventDefault(),n()}},Ft("label",t.state.phrase("Go to line"),": ",e)," ",Ft("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function n(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:a}=t,o=a.doc.lineAt(a.selection.main.head),[,s,l,u,c]=i,f=u?+u.slice(1):0,h=l?+l:o.number;if(l&&c){let p=h/100;s&&(p=p*(s=="-"?-1:1)+o.number/a.doc.lines),h=Math.round(a.doc.lines*p)}else l&&s&&(h=h*(s=="-"?-1:1)+o.number);let d=a.doc.line(Math.max(1,Math.min(a.doc.lines,h)));t.dispatch({effects:Fp.of(!1),selection:be.cursor(d.from+Math.max(0,Math.min(f,d.length))),scrollIntoView:!0}),t.focus()}return{dom:r}}const Fp=rt.define(),nN=Lr.define({create(){return!0},update(t,e){for(let r of e.effects)r.is(Fp)&&(t=r.value);return t},provide:t=>jc.from(t,e=>e?Yy:null)}),sse=t=>{let e=Wc(t,Yy);if(!e){let r=[Fp.of(!0)];t.state.field(nN,!1)==null&&r.push(rt.appendConfig.of([nN,lse])),t.dispatch({effects:r}),e=Wc(t,Yy)}return e&&e.dom.querySelector("input").focus(),!0},lse=$e.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),use={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},U$=ze.define({combine(t){return fa(t,use,{highlightWordAroundCursor:(e,r)=>e||r,minSelectionLength:Math.min,maxMatches:Math.min})}});function cse(t){let e=[mse,pse];return t&&e.push(U$.of(t)),e}const fse=Ue.mark({class:"cm-selectionMatch"}),hse=Ue.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function iN(t,e,r,n){return(r==0||t(e.sliceDoc(r-1,r))!=zt.Word)&&(n==e.doc.length||t(e.sliceDoc(n,n+1))!=zt.Word)}function dse(t,e,r,n){return t(e.sliceDoc(r,r+1))==zt.Word&&t(e.sliceDoc(n-1,n))==zt.Word}const pse=nr.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(U$),{state:r}=t,n=r.selection;if(n.ranges.length>1)return Ue.none;let i=n.main,a,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return Ue.none;let l=r.wordAt(i.head);if(!l)return Ue.none;o=r.charCategorizer(i.head),a=r.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Ue.none;if(e.wholeWords){if(a=r.sliceDoc(i.from,i.to),o=r.charCategorizer(i.head),!(iN(o,r,i.from,i.to)&&dse(o,r,i.from,i.to)))return Ue.none}else if(a=r.sliceDoc(i.from,i.to).trim(),!a)return Ue.none}let s=[];for(let l of t.visibleRanges){let u=new Ql(r.doc,a,l.from,l.to);for(;!u.next().done;){let{from:c,to:f}=u.value;if((!o||iN(o,r,c,f))&&(i.empty&&c<=i.from&&f>=i.to?s.push(hse.range(c,f)):(c>=i.to||f<=i.from)&&s.push(fse.range(c,f)),s.length>e.maxMatches))return Ue.none}}return Ue.set(s)}},{decorations:t=>t.decorations}),mse=$e.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),gse=({state:t,dispatch:e})=>{let{selection:r}=t,n=be.create(r.ranges.map(i=>t.wordAt(i.head)||be.cursor(i.head)),r.mainIndex);return n.eq(r)?!1:(e(t.update({selection:n})),!0)};function vse(t,e){let{main:r,ranges:n}=t.selection,i=t.wordAt(r.head),a=i&&i.from==r.from&&i.to==r.to;for(let o=!1,s=new Ql(t.doc,e,n[n.length-1].to);;)if(s.next(),s.done){if(o)return null;s=new Ql(t.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(l=>l.from==s.value.from))continue;if(a){let l=t.wordAt(s.value.from);if(!l||l.from!=s.value.from||l.to!=s.value.to)continue}return s.value}}const yse=({state:t,dispatch:e})=>{let{ranges:r}=t.selection;if(r.some(a=>a.from===a.to))return gse({state:t,dispatch:e});let n=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some(a=>t.sliceDoc(a.from,a.to)!=n))return!1;let i=vse(t,n);return i?(e(t.update({selection:t.selection.addRange(be.range(i.from,i.to),!1),effects:$e.scrollIntoView(i.to)})),!0):!1},bu=ze.define({combine(t){return fa(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new kse(e),scrollToMatch:e=>$e.scrollIntoView(e)})}});class q${constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||ose(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(r,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Sse(this):new bse(this)}getCursor(e,r=0,n){let i=e.doc?e:ct.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?Ys(this,i,r,n):Ks(this,i,r,n)}}class H${constructor(e){this.spec=e}}function Ks(t,e,r,n){return new Ql(e.doc,t.unquoted,r,n,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?xse(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function xse(t,e){return(r,n,i,a)=>((a>r||a+i.length<n)&&(a=Math.max(0,r-2),i=t.sliceString(a,Math.min(t.length,n+2))),(e($p(i,r-a))!=zt.Word||e(Rp(i,r-a))!=zt.Word)&&(e(Rp(i,n-a))!=zt.Word||e($p(i,n-a))!=zt.Word))}class bse extends H${constructor(e){super(e)}nextMatch(e,r,n){let i=Ks(this.spec,e,n,e.doc.length).nextOverlapping();return i.done&&(i=Ks(this.spec,e,0,r).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,r,n){for(let i=n;;){let a=Math.max(r,i-1e4-this.spec.unquoted.length),o=Ks(this.spec,e,a,i),s=null;for(;!o.nextOverlapping().done;)s=o.value;if(s)return s;if(a==r)return null;i-=1e4}}prevMatch(e,r,n){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,r){let n=Ks(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=r)return null;i.push(n.value)}return i}highlight(e,r,n,i){let a=Ks(this.spec,e,Math.max(0,r-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}function Ys(t,e,r,n){return new _$(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?wse(e.charCategorizer(e.selection.main.head)):void 0},r,n)}function $p(t,e){return t.slice(rn(t,e,!1),e)}function Rp(t,e){return t.slice(e,rn(t,e))}function wse(t){return(e,r,n)=>!n[0].length||(t($p(n.input,n.index))!=zt.Word||t(Rp(n.input,n.index))!=zt.Word)&&(t(Rp(n.input,n.index+n[0].length))!=zt.Word||t($p(n.input,n.index+n[0].length))!=zt.Word)}class Sse extends H${nextMatch(e,r,n){let i=Ys(this.spec,e,n,e.doc.length).next();return i.done&&(i=Ys(this.spec,e,0,r).next()),i.done?null:i.value}prevMatchInRange(e,r,n){for(let i=1;;i++){let a=Math.max(r,n-i*1e4),o=Ys(this.spec,e,a,n),s=null;for(;!o.next().done;)s=o.value;if(s&&(a==r||s.from>a+10))return s;if(a==r)return null}}prevMatch(e,r,n){return this.prevMatchInRange(e,0,r)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(r,n)=>n=="$"?"$":n=="&"?e.match[0]:n!="0"&&+n<e.match.length?e.match[n]:r))}matchAll(e,r){let n=Ys(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=r)return null;i.push(n.value)}return i}highlight(e,r,n,i){let a=Ys(this.spec,e,Math.max(0,r-250),Math.min(n+250,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}const Yc=rt.define(),xb=rt.define(),bo=Lr.define({create(t){return new Ov(Jy(t).create(),null)},update(t,e){for(let r of e.effects)r.is(Yc)?t=new Ov(r.value.create(),t.panel):r.is(xb)&&(t=new Ov(t.query,r.value?bb:null));return t},provide:t=>jc.from(t,e=>e.panel)});class Ov{constructor(e,r){this.query=e,this.panel=r}}const Cse=Ue.mark({class:"cm-searchMatch"}),Dse=Ue.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Ase=nr.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(bo))}update(t){let e=t.state.field(bo);(e!=t.startState.field(bo)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Ue.none;let{view:r}=this,n=new $a;for(let i=0,a=r.visibleRanges,o=a.length;i<o;i++){let{from:s,to:l}=a[i];for(;i<o-1&&l>a[i+1].from-2*250;)l=a[++i].to;t.highlight(r.state,s,l,(u,c)=>{let f=r.state.selection.ranges.some(h=>h.from==u&&h.to==c);n.add(u,c,f?Dse:Cse)})}return n.finish()}},{decorations:t=>t.decorations});function wf(t){return e=>{let r=e.state.field(bo,!1);return r&&r.query.spec.valid?t(e,r):j$(e)}}const Pp=wf((t,{query:e})=>{let{to:r}=t.state.selection.main,n=e.nextMatch(t.state,r,r);if(!n)return!1;let i=be.single(n.from,n.to),a=t.state.facet(bu);return t.dispatch({selection:i,effects:[wb(t,n),a.scrollToMatch(i.main,t)],userEvent:"select.search"}),W$(t),!0}),Ip=wf((t,{query:e})=>{let{state:r}=t,{from:n}=r.selection.main,i=e.prevMatch(r,n,n);if(!i)return!1;let a=be.single(i.from,i.to),o=t.state.facet(bu);return t.dispatch({selection:a,effects:[wb(t,i),o.scrollToMatch(a.main,t)],userEvent:"select.search"}),W$(t),!0}),Ese=wf((t,{query:e})=>{let r=e.matchAll(t.state,1e3);return!r||!r.length?!1:(t.dispatch({selection:be.create(r.map(n=>be.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),Nse=({state:t,dispatch:e})=>{let r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;let{from:n,to:i}=r.main,a=[],o=0;for(let s=new Ql(t.doc,t.sliceDoc(n,i));!s.next().done;){if(a.length>1e3)return!1;s.value.from==n&&(o=a.length),a.push(be.range(s.value.from,s.value.to))}return e(t.update({selection:be.create(a,o),userEvent:"select.search.matches"})),!0},aN=wf((t,{query:e})=>{let{state:r}=t,{from:n,to:i}=r.selection.main;if(r.readOnly)return!1;let a=e.nextMatch(r,n,n);if(!a)return!1;let o=[],s,l,u=[];if(a.from==n&&a.to==i&&(l=r.toText(e.getReplacement(a)),o.push({from:a.from,to:a.to,insert:l}),a=e.nextMatch(r,a.from,a.to),u.push($e.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(n).number)+"."))),a){let c=o.length==0||o[0].from>=a.to?0:a.to-a.from-l.length;s=be.single(a.from-c,a.to-c),u.push(wb(t,a)),u.push(r.facet(bu).scrollToMatch(s.main,t))}return t.dispatch({changes:o,selection:s,effects:u,userEvent:"input.replace"}),!0}),Mse=wf((t,{query:e})=>{if(t.state.readOnly)return!1;let r=e.matchAll(t.state,1e9).map(i=>{let{from:a,to:o}=i;return{from:a,to:o,insert:e.getReplacement(i)}});if(!r.length)return!1;let n=t.state.phrase("replaced $ matches",r.length)+".";return t.dispatch({changes:r,effects:$e.announce.of(n),userEvent:"input.replace.all"}),!0});function bb(t){return t.state.facet(bu).createPanel(t)}function Jy(t,e){var r,n,i,a,o;let s=t.selection.main,l=s.empty||s.to>s.from+100?"":t.sliceDoc(s.from,s.to);if(e&&!l)return e;let u=t.facet(bu);return new q$({search:((r=e?.literal)!==null&&r!==void 0?r:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:u.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:u.literal,regexp:(a=e?.regexp)!==null&&a!==void 0?a:u.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function V$(t){let e=Wc(t,bb);return e&&e.dom.querySelector("[main-field]")}function W$(t){let e=V$(t);e&&e==t.root.activeElement&&e.select()}const j$=t=>{let e=t.state.field(bo,!1);if(e&&e.panel){let r=V$(t);if(r&&r!=t.root.activeElement){let n=Jy(t.state,e.query.spec);n.valid&&t.dispatch({effects:Yc.of(n)}),r.focus(),r.select()}}else t.dispatch({effects:[xb.of(!0),e?Yc.of(Jy(t.state,e.query.spec)):rt.appendConfig.of(Bse)]});return!0},G$=t=>{let e=t.state.field(bo,!1);if(!e||!e.panel)return!1;let r=Wc(t,bb);return r&&r.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:xb.of(!1)}),!0},Tse=[{key:"Mod-f",run:j$,scope:"editor search-panel"},{key:"F3",run:Pp,shift:Ip,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Pp,shift:Ip,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:G$,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Nse},{key:"Alt-g",run:sse},{key:"Mod-d",run:yse,preventDefault:!0}];class kse{constructor(e){this.view=e;let r=this.query=e.state.field(bo).query.spec;this.commit=this.commit.bind(this),this.searchField=Ft("input",{value:r.search,placeholder:Nn(e,"Find"),"aria-label":Nn(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Ft("input",{value:r.replace,placeholder:Nn(e,"Replace"),"aria-label":Nn(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Ft("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=Ft("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=Ft("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit});function n(i,a,o){return Ft("button",{class:"cm-button",name:i,onclick:a,type:"button"},o)}this.dom=Ft("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>Pp(e),[Nn(e,"next")]),n("prev",()=>Ip(e),[Nn(e,"previous")]),n("select",()=>Ese(e),[Nn(e,"all")]),Ft("label",null,[this.caseField,Nn(e,"match case")]),Ft("label",null,[this.reField,Nn(e,"regexp")]),Ft("label",null,[this.wordField,Nn(e,"by word")]),...e.state.readOnly?[]:[Ft("br"),this.replaceField,n("replace",()=>aN(e),[Nn(e,"replace")]),n("replaceAll",()=>Mse(e),[Nn(e,"replace all")])],Ft("button",{name:"close",onclick:()=>G$(e),"aria-label":Nn(e,"close"),type:"button"},["×"])])}commit(){let e=new q$({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Yc.of(e)}))}keydown(e){Une(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Ip:Pp)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),aN(this.view))}update(e){for(let r of e.transactions)for(let n of r.effects)n.is(Yc)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(bu).top}}function Nn(t,e){return t.state.phrase(e)}const Ih=30,Lh=/[\s\.,:;?!]/;function wb(t,{from:e,to:r}){let n=t.state.doc.lineAt(e),i=t.state.doc.lineAt(r).to,a=Math.max(n.from,e-Ih),o=Math.min(i,r+Ih),s=t.state.sliceDoc(a,o);if(a!=n.from){for(let l=0;l<Ih;l++)if(!Lh.test(s[l+1])&&Lh.test(s[l])){s=s.slice(l);break}}if(o!=i){for(let l=s.length-1;l>s.length-Ih;l--)if(!Lh.test(s[l-1])&&Lh.test(s[l])){s=s.slice(0,l);break}}return $e.announce.of(`${t.state.phrase("current match")}. ${s} ${t.state.phrase("on line")} ${n.number}.`)}const Ose=$e.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Bse=[bo,vu.lowest(Ase),Ose];class K${constructor(e,r,n){this.state=e,this.pos=r,this.explicit=n,this.abortListeners=[]}tokenBefore(e){let r=Pr(this.state).resolveInner(this.pos,-1);for(;r&&e.indexOf(r.name)<0;)r=r.parent;return r?{from:r.from,to:this.pos,text:this.state.sliceDoc(r.from,this.pos),type:r.type}:null}matchBefore(e){let r=this.state.doc.lineAt(this.pos),n=Math.max(r.from,this.pos-250),i=r.text.slice(n-r.from,this.pos-r.from),a=i.search(Y$(e,!1));return a<0?null:{from:n+a,to:this.pos,text:i.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,r){e=="abort"&&this.abortListeners&&this.abortListeners.push(r)}}function oN(t){let e=Object.keys(t).join(""),r=/\w/.test(e);return r&&(e=e.replace(/\w/g,"")),`[${r?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Fse(t){let e=Object.create(null),r=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let a=1;a<i.length;a++)r[i[a]]=!0}let n=oN(e)+oN(r)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function $se(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[r,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Fse(e);return i=>{let a=i.matchBefore(n);return a||i.explicit?{from:a?a.from:i.pos,options:e,validFor:r}:null}}class sN{constructor(e,r,n,i){this.completion=e,this.source=r,this.match=n,this.score=i}}function wo(t){return t.selection.main.from}function Y$(t,e){var r;let{source:n}=t,i=e&&n[0]!="^",a=n[n.length-1]!="$";return!i&&!a?t:new RegExp(`${i?"^":""}(?:${n})${a?"$":""}`,(r=t.flags)!==null&&r!==void 0?r:t.ignoreCase?"i":"")}const Rse=ca.define();function Pse(t,e,r,n){let{main:i}=t.selection,a=r-i.from,o=n-i.from;return Object.assign(Object.assign({},t.changeByRange(s=>s!=i&&r!=n&&t.sliceDoc(s.from+a,s.from+o)!=t.sliceDoc(r,n)?{range:s}:{changes:{from:s.from+a,to:n==i.from?s.to:s.from+o,insert:e},range:be.cursor(s.from+a+e.length)})),{userEvent:"input.complete"})}const lN=new WeakMap;function Ise(t){if(!Array.isArray(t))return t;let e=lN.get(t);return e||lN.set(t,e=$se(t)),e}const Sb=rt.define(),Jc=rt.define();class Lse{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let r=0;r<e.length;){let n=Tr(e,r),i=Xn(n);this.chars.push(n);let a=e.slice(r,r+i),o=a.toUpperCase();this.folded.push(Tr(o==a?a.toLowerCase():o,0)),r+=i}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[-100];if(e.length<this.pattern.length)return null;let{chars:r,folded:n,any:i,precise:a,byWord:o}=this;if(r.length==1){let b=Tr(e,0),y=Xn(b),w=y==e.length?0:-100;if(b!=r[0])if(b==n[0])w+=-200;else return null;return[w,0,y]}let s=e.indexOf(this.pattern);if(s==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let l=r.length,u=0;if(s<0){for(let b=0,y=Math.min(e.length,200);b<y&&u<l;){let w=Tr(e,b);(w==r[u]||w==n[u])&&(i[u++]=b),b+=Xn(w)}if(u<l)return null}let c=0,f=0,h=!1,d=0,p=-1,m=-1,v=/[a-z]/.test(e),g=!0;for(let b=0,y=Math.min(e.length,200),w=0;b<y&&f<l;){let S=Tr(e,b);s<0&&(c<l&&S==r[c]&&(a[c++]=b),d<l&&(S==r[d]||S==n[d]?(d==0&&(p=b),m=b+1,d++):d=0));let x,C=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(x=Gx(S))!=x.toLowerCase()?1:x!=x.toUpperCase()?2:0;(!b||C==1&&v||w==0&&C!=0)&&(r[f]==S||n[f]==S&&(h=!0)?o[f++]=b:o.length&&(g=!1)),w=C,b+=Xn(S)}return f==l&&o[0]==0&&g?this.result(-100+(h?-200:0),o,e):d==l&&p==0?[-200-e.length+(m==e.length?0:-100),0,m]:s>-1?[-700-e.length,s,s+this.pattern.length]:d==l?[-200+-700-e.length,p,m]:f==l?this.result(-100+(h?-200:0)+-700+(g?0:-1100),o,e):r.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,r,n){let i=[e-n.length],a=1;for(let o of r){let s=o+(this.astral?Xn(Tr(n,o)):1);a>1&&i[a-1]==o?i[a-1]=s:(i[a++]=o,i[a++]=s)}return i}}const gn=ze.define({combine(t){return fa(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:_se,compareCompletions:(e,r)=>e.label.localeCompare(r.label),interactionDelay:75},{defaultKeymap:(e,r)=>e&&r,closeOnBlur:(e,r)=>e&&r,icons:(e,r)=>e&&r,tooltipClass:(e,r)=>n=>uN(e(n),r(n)),optionClass:(e,r)=>n=>uN(e(n),r(n)),addToOptions:(e,r)=>e.concat(r)})}});function uN(t,e){return t?e?t+" "+e:t:e}function _se(t,e,r,n,i){let a=t.textDirection==Vt.RTL,o=a,s=!1,l="top",u,c,f=e.left-i.left,h=i.right-e.right,d=n.right-n.left,p=n.bottom-n.top;if(o&&f<Math.min(d,h)?o=!1:!o&&h<Math.min(d,f)&&(o=!0),d<=(o?f:h))u=Math.max(i.top,Math.min(r.top,i.bottom-p))-e.top,c=Math.min(400,o?f:h);else{s=!0,c=Math.min(400,(a?e.right:i.right-e.left)-30);let m=i.bottom-e.bottom;m>=p||m>e.top?u=r.bottom-e.top:(l="bottom",u=e.bottom-r.top)}return{style:`${l}: ${u}px; max-width: ${c}px`,class:"cm-completionInfo-"+(s?a?"left-narrow":"right-narrow":o?"left":"right")}}function zse(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(r){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),r.type&&n.classList.add(...r.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(r,n,i){let a=document.createElement("span");a.className="cm-completionLabel";let{label:o}=r,s=0;for(let l=1;l<i.length;){let u=i[l++],c=i[l++];u>s&&a.appendChild(document.createTextNode(o.slice(s,u)));let f=a.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(o.slice(u,c))),f.className="cm-completionMatchedText",s=c}return s<o.length&&a.appendChild(document.createTextNode(o.slice(s))),a},position:50},{render(r){if(!r.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=r.detail,n},position:80}),e.sort((r,n)=>r.position-n.position).map(r=>r.render)}function cN(t,e,r){if(t<=r)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/r);return{from:i*r,to:(i+1)*r}}let n=Math.floor((t-e)/r);return{from:t-(n+1)*r,to:t-n*r}}class Use{constructor(e,r,n){this.view=e,this.stateField=r,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(r),{options:a,selected:o}=i.open,s=e.state.facet(gn);this.optionContent=zse(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=cN(a.length,o,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{for(let u=l.target,c;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(c=/-(\d+)$/.exec(u.id))&&+c[1]<a.length){this.applyCompletion(e,a[+c[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(gn).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Jc.of(null)})}),this.list=this.dom.appendChild(this.createListBox(a,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var r,n,i;let a=e.state.field(this.stateField),o=e.startState.field(this.stateField);this.updateTooltipClass(e.state),a!=o&&(this.updateSel(),((r=a.open)===null||r===void 0?void 0:r.disabled)!=((n=o.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((i=a.open)===null||i===void 0)&&i.disabled)))}updateTooltipClass(e){let r=this.tooltipClass(e);if(r!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of r.split(" "))n&&this.dom.classList.add(n);this.currentClass=r}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),r=e.open;if((r.selected>-1&&r.selected<this.range.from||r.selected>=this.range.to)&&(this.range=cN(r.options.length,r.selected,this.view.state.facet(gn).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(r.selected)){this.destroyInfo();let{completion:n}=r.options[r.selected],{info:i}=n;if(!i)return;let a=typeof i=="string"?document.createTextNode(i):i(n);if(!a)return;"then"in a?a.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,n)}).catch(o=>ni(this.view.state,o,"completion info")):this.addInfoPane(a,n)}}addInfoPane(e,r){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:a}=e;n.appendChild(i),this.infoDestroy=a||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let r=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),r=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return r&&Hse(this.list,r),r}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let r=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),a=this.space;if(!a){let o=this.dom.ownerDocument.defaultView||window;a={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}return i.top>Math.min(a.bottom,r.bottom)-10||i.bottom<Math.max(a.top,r.top)+10?null:this.view.state.facet(gn).positionInfo(this.view,r,i,n,a)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,r,n){const i=document.createElement("ul");i.id=r,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let a=null;for(let o=n.from;o<n.to;o++){let{completion:s,match:l}=e[o],{section:u}=s;if(u){let h=typeof u=="string"?u:u.name;if(h!=a&&(o>n.from||n.from==0))if(a=h,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let d=i.appendChild(document.createElement("completion-section"));d.textContent=h}}const c=i.appendChild(document.createElement("li"));c.id=r+"-"+o,c.setAttribute("role","option");let f=this.optionClass(s);f&&(c.className=f);for(let h of this.optionContent){let d=h(s,this.view.state,l);d&&c.appendChild(d)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function qse(t,e){return r=>new Use(r,t,e)}function Hse(t,e){let r=t.getBoundingClientRect(),n=e.getBoundingClientRect();n.top<r.top?t.scrollTop-=r.top-n.top:n.bottom>r.bottom&&(t.scrollTop+=n.bottom-r.bottom)}function fN(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Vse(t,e){let r=[],n=null,i=l=>{r.push(l);let{section:u}=l.completion;if(u){n||(n=[]);let c=typeof u=="string"?u:u.name;n.some(f=>f.name==c)||n.push(typeof u=="string"?{name:c}:u)}};for(let l of t)if(l.hasResult())if(l.result.filter===!1){let u=l.result.getMatch;for(let c of l.result.options){let f=[1e9-r.length];if(u)for(let h of u(c))f.push(h);i(new sN(c,l.source,f,f[0]))}}else{let u=new Lse(e.sliceDoc(l.from,l.to)),c;for(let f of l.result.options)(c=u.match(f.label))&&i(new sN(f,l.source,c,c[0]+(f.boost||0)))}if(n){let l=Object.create(null),u=0,c=(f,h)=>{var d,p;return((d=f.rank)!==null&&d!==void 0?d:1e9)-((p=h.rank)!==null&&p!==void 0?p:1e9)||(f.name<h.name?-1:1)};for(let f of n.sort(c))u-=1e5,l[f.name]=u;for(let f of r){let{section:h}=f.completion;h&&(f.score+=l[typeof h=="string"?h:h.name])}}let a=[],o=null,s=e.facet(gn).compareCompletions;for(let l of r.sort((u,c)=>c.score-u.score||s(u.completion,c.completion))){let u=l.completion;!o||o.label!=u.label||o.detail!=u.detail||o.type!=null&&u.type!=null&&o.type!=u.type||o.apply!=u.apply||o.boost!=u.boost?a.push(l):fN(l.completion)>fN(o)&&(a[a.length-1]=l),o=l.completion}return a}class dl{constructor(e,r,n,i,a,o){this.options=e,this.attrs=r,this.tooltip=n,this.timestamp=i,this.selected=a,this.disabled=o}setSelected(e,r){return e==this.selected||e>=this.options.length?this:new dl(this.options,hN(r,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,r,n,i,a){let o=Vse(e,r);if(!o.length)return i&&e.some(l=>l.state==1)?new dl(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let s=r.facet(gn).selectOnOpen?0:-1;if(i&&i.selected!=s&&i.selected!=-1){let l=i.options[i.selected].completion;for(let u=0;u<o.length;u++)if(o[u].completion==l){s=u;break}}return new dl(o,hN(n,s),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:qse(On,X$),above:a.aboveCursor},i?i.timestamp:Date.now(),s,!1)}map(e){return new dl(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Lp{constructor(e,r,n){this.active=e,this.id=r,this.open=n}static start(){return new Lp(Gse,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:r}=e,n=r.facet(gn),a=(n.override||r.languageDataAt("autocomplete",wo(r)).map(Ise)).map(s=>(this.active.find(u=>u.source==s)||new hn(s,this.active.some(u=>u.state!=0)?1:0)).update(e,n));a.length==this.active.length&&a.every((s,l)=>s==this.active[l])&&(a=this.active);let o=this.open;o&&e.docChanged&&(o=o.map(e.changes)),e.selection||a.some(s=>s.hasResult()&&e.changes.touchesRange(s.from,s.to))||!Wse(a,this.active)?o=dl.build(a,r,this.id,o,n):o&&o.disabled&&!a.some(s=>s.state==1)&&(o=null),!o&&a.every(s=>s.state!=1)&&a.some(s=>s.hasResult())&&(a=a.map(s=>s.hasResult()?new hn(s.source,0):s));for(let s of e.effects)s.is(Z$)&&(o=o&&o.setSelected(s.value,this.id));return a==this.active&&o==this.open?this:new Lp(a,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:jse}}function Wse(t,e){if(t==e)return!0;for(let r=0,n=0;;){for(;r<t.length&&!t[r].hasResult;)r++;for(;n<e.length&&!e[n].hasResult;)n++;let i=r==t.length,a=n==e.length;if(i||a)return i==a;if(t[r++].result!=e[n++].result)return!1}}const jse={"aria-autocomplete":"list"};function hN(t,e){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(r["aria-activedescendant"]=t+"-"+e),r}const Gse=[];function Zy(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class hn{constructor(e,r,n=-1){this.source=e,this.state=r,this.explicitPos=n}hasResult(){return!1}update(e,r){let n=Zy(e),i=this;n?i=i.handleUserEvent(e,n,r):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new hn(i.source,0));for(let a of e.effects)if(a.is(Sb))i=new hn(i.source,1,a.value?wo(e.state):-1);else if(a.is(Jc))i=new hn(i.source,0);else if(a.is(J$))for(let o of a.value)o.source==i.source&&(i=o);return i}handleUserEvent(e,r,n){return r=="delete"||!n.activateOnTyping?this.map(e.changes):new hn(this.source,1)}handleChange(e){return e.changes.touchesRange(wo(e.startState))?new hn(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new hn(this.source,this.state,e.mapPos(this.explicitPos))}}class Ml extends hn{constructor(e,r,n,i,a){super(e,2,r),this.result=n,this.from=i,this.to=a}hasResult(){return!0}handleUserEvent(e,r,n){var i;let a=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),s=wo(e.state);if((this.explicitPos<0?s<=a:s<this.from)||s>o||r=="delete"&&wo(e.startState)==this.from)return new hn(this.source,r=="input"&&n.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),u;return Kse(this.result.validFor,e.state,a,o)?new Ml(this.source,l,this.result,a,o):this.result.update&&(u=this.result.update(this.result,a,o,new K$(e.state,s,l>=0)))?new Ml(this.source,l,u,u.from,(i=u.to)!==null&&i!==void 0?i:wo(e.state)):new hn(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new hn(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Ml(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Kse(t,e,r,n){if(!t)return!1;let i=e.sliceDoc(r,n);return typeof t=="function"?t(i,r,n,e):Y$(t,!0).test(i)}const J$=rt.define({map(t,e){return t.map(r=>r.map(e))}}),Z$=rt.define(),On=Lr.define({create(){return Lp.start()},update(t,e){return t.update(e)},provide:t=>[nb.from(t,e=>e.tooltip),$e.contentAttributes.from(t,e=>e.attrs)]});function X$(t,e){const r=e.completion.apply||e.completion.label;let n=t.state.field(On).active.find(i=>i.source==e.source);return n instanceof Ml?(typeof r=="string"?t.dispatch(Object.assign(Object.assign({},Pse(t.state,r,n.from,n.to)),{annotations:Rse.of(e.completion)})):r(t,e.completion,n.from,n.to),!0):!1}function _h(t,e="option"){return r=>{let n=r.state.field(On,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<r.state.facet(gn).interactionDelay)return!1;let i=1,a;e=="page"&&(a=k4(r,n.open.tooltip))&&(i=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,s=n.open.selected>-1?n.open.selected+i*(t?1:-1):t?0:o-1;return s<0?s=e=="page"?0:o-1:s>=o&&(s=e=="page"?o-1:0),r.dispatch({effects:Z$.of(s)}),!0}}const Yse=t=>{let e=t.state.field(On,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(gn).interactionDelay?!1:X$(t,e.open.options[e.open.selected])},Jse=t=>t.state.field(On,!1)?(t.dispatch({effects:Sb.of(!0)}),!0):!1,Zse=t=>{let e=t.state.field(On,!1);return!e||!e.active.some(r=>r.state!=0)?!1:(t.dispatch({effects:Jc.of(null)}),!0)};class Xse{constructor(e,r){this.active=e,this.context=r,this.time=Date.now(),this.updates=[],this.done=void 0}}const dN=50,Qse=50,ele=1e3,tle=nr.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(On).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(On);if(!t.selectionSet&&!t.docChanged&&t.startState.field(On)==e)return;let r=t.transactions.some(n=>(n.selection||n.docChanged)&&!Zy(n));for(let n=0;n<this.running.length;n++){let i=this.running[n];if(r||i.updates.length+t.transactions.length>Qse&&Date.now()-i.time>ele){for(let a of i.context.abortListeners)try{a()}catch(o){ni(this.view.state,o)}i.context.abortListeners=null,this.running.splice(n--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(n=>n.state==1&&!this.running.some(i=>i.active.source==n.source))?setTimeout(()=>this.startUpdate(),dN):-1,this.composing!=0)for(let n of t.transactions)Zy(n)=="input"?this.composing=2:this.composing==2&&n.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(On);for(let r of e.active)r.state==1&&!this.running.some(n=>n.active.source==r.source)&&this.startQuery(r)}startQuery(t){let{state:e}=this.view,r=wo(e),n=new K$(e,r,t.explicitPos==r),i=new Xse(t,n);this.running.push(i),Promise.resolve(t.source(n)).then(a=>{i.context.aborted||(i.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:Jc.of(null)}),ni(this.view.state,a)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),dN))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],r=this.view.state.facet(gn);for(let n=0;n<this.running.length;n++){let i=this.running[n];if(i.done===void 0)continue;if(this.running.splice(n--,1),i.done){let o=new Ml(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:wo(i.updates.length?i.updates[0].startState:this.view.state));for(let s of i.updates)o=o.update(s,r);if(o.hasResult()){e.push(o);continue}}let a=this.view.state.field(On).active.find(o=>o.source==i.active.source);if(a&&a.state==1)if(i.done==null){let o=new hn(i.active.source,0);for(let s of i.updates)o=o.update(s,r);o.state!=1&&e.push(o)}else this.startQuery(a)}e.length&&this.view.dispatch({effects:J$.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(On,!1);if(e&&e.tooltip&&this.view.state.facet(gn).closeOnBlur){let r=e.open&&k4(this.view,e.open.tooltip);(!r||!r.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:Jc.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Sb.of(!1)}),20),this.composing=0}}}),rle=$e.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Zc={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},os=rt.define({map(t,e){let r=e.mapPos(t,-1,tn.TrackAfter);return r??void 0}}),Cb=new class extends ys{};Cb.startSide=1;Cb.endSide=-1;const Q$=Lr.define({create(){return At.empty},update(t,e){if(e.selection){let r=e.state.doc.lineAt(e.selection.main.head).from,n=e.startState.doc.lineAt(e.startState.selection.main.head).from;r!=e.changes.mapPos(n,-1)&&(t=At.empty)}t=t.map(e.changes);for(let r of e.effects)r.is(os)&&(t=t.update({add:[Cb.range(r.value,r.value+1)]}));return t}});function nle(){return[ale,Q$]}const Bv="()[]{}<>";function eR(t){for(let e=0;e<Bv.length;e+=2)if(Bv.charCodeAt(e)==t)return Bv.charAt(e+1);return Gx(t<128?t:t+1)}function tR(t,e){return t.languageDataAt("closeBrackets",e)[0]||Zc}const ile=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),ale=$e.inputHandler.of((t,e,r,n)=>{if((ile?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(n.length>2||n.length==2&&Xn(Tr(n,0))==1||e!=i.from||r!=i.to)return!1;let a=lle(t.state,n);return a?(t.dispatch(a),!0):!1}),ole=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=tR(t,t.selection.main.head).brackets||Zc.brackets,i=null,a=t.changeByRange(o=>{if(o.empty){let s=ule(t.doc,o.head);for(let l of n)if(l==s&&Vm(t.doc,o.head)==eR(Tr(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:be.cursor(o.head-l.length)}}return{range:i=o}});return i||e(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},sle=[{key:"Backspace",run:ole}];function lle(t,e){let r=tR(t,t.selection.main.head),n=r.brackets||Zc.brackets;for(let i of n){let a=eR(Tr(i,0));if(e==i)return a==i?hle(t,i,n.indexOf(i+i+i)>-1,r):cle(t,i,a,r.before||Zc.before);if(e==a&&rR(t,t.selection.main.from))return fle(t,i,a)}return null}function rR(t,e){let r=!1;return t.field(Q$).between(0,t.doc.length,n=>{n==e&&(r=!0)}),r}function Vm(t,e){let r=t.sliceString(e,e+2);return r.slice(0,Xn(Tr(r,0)))}function ule(t,e){let r=t.sliceString(e-2,e);return Xn(Tr(r,0))==r.length?r:r.slice(1)}function cle(t,e,r,n){let i=null,a=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:r,from:o.to}],effects:os.of(o.to+e.length),range:be.range(o.anchor+e.length,o.head+e.length)};let s=Vm(t.doc,o.head);return!s||/\s/.test(s)||n.indexOf(s)>-1?{changes:{insert:e+r,from:o.head},effects:os.of(o.head+e.length),range:be.cursor(o.head+e.length)}:{range:i=o}});return i?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function fle(t,e,r){let n=null,i=t.changeByRange(a=>a.empty&&Vm(t.doc,a.head)==r?{changes:{from:a.head,to:a.head+r.length,insert:r},range:be.cursor(a.head+r.length)}:n={range:a});return n?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function hle(t,e,r,n){let i=n.stringPrefixes||Zc.stringPrefixes,a=null,o=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:os.of(s.to+e.length),range:be.range(s.anchor+e.length,s.head+e.length)};let l=s.head,u=Vm(t.doc,l),c;if(u==e){if(pN(t,l))return{changes:{insert:e+e,from:l},effects:os.of(l+e.length),range:be.cursor(l+e.length)};if(rR(t,l)){let h=r&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+h.length,insert:h},range:be.cursor(l+h.length)}}}else{if(r&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=mN(t,l-2*e.length,i))>-1&&pN(t,c))return{changes:{insert:e+e+e+e,from:l},effects:os.of(l+e.length),range:be.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=zt.Word&&mN(t,l,i)>-1&&!dle(t,l,e,i))return{changes:{insert:e+e,from:l},effects:os.of(l+e.length),range:be.cursor(l+e.length)}}return{range:a=s}});return a?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function pN(t,e){let r=Pr(t).resolveInner(e+1);return r.parent&&r.from==e}function dle(t,e,r,n){let i=Pr(t).resolveInner(e,-1),a=n.reduce((o,s)=>Math.max(o,s.length),0);for(let o=0;o<5;o++){let s=t.sliceDoc(i.from,Math.min(i.to,i.from+r.length+a)),l=s.indexOf(r);if(!l||l>-1&&n.indexOf(s.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>r.length+l;){if(t.sliceDoc(c.to-r.length,c.to)==r)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function mN(t,e,r){let n=t.charCategorizer(e);if(n(t.sliceDoc(e-1,e))!=zt.Word)return e;for(let i of r){let a=e-i.length;if(t.sliceDoc(a,e)==i&&n(t.sliceDoc(a-1,a))!=zt.Word)return a}return-1}function ple(t={}){return[On,gn.of(t),tle,mle,rle]}const nR=[{key:"Ctrl-Space",run:Jse},{key:"Escape",run:Zse},{key:"ArrowDown",run:_h(!0)},{key:"ArrowUp",run:_h(!1)},{key:"PageDown",run:_h(!0,"page")},{key:"PageUp",run:_h(!1,"page")},{key:"Enter",run:Yse}],mle=vu.highest(Rm.computeN([gn],t=>t.facet(gn).defaultKeymap?[nR]:[]));class gle{constructor(e,r,n){this.from=e,this.to=r,this.diagnostic=n}}class Qo{constructor(e,r,n){this.diagnostics=e,this.panel=r,this.selected=n}static init(e,r,n){let i=e,a=n.facet(oR).markerFilter;a&&(i=a(i));let o=Ue.set(i.map(s=>s.from==s.to||s.from==s.to-1&&n.doc.lineAt(s.from).to==s.from?Ue.widget({widget:new Ale(s),diagnostic:s}).range(s.from):Ue.mark({attributes:{class:"cm-lintRange cm-lintRange-"+s.severity},diagnostic:s}).range(s.from,s.to)),!0);return new Qo(o,r,eu(o))}}function eu(t,e=null,r=0){let n=null;return t.between(r,1e9,(i,a,{spec:o})=>{if(!(e&&o.diagnostic!=e))return n=new gle(i,a,o.diagnostic),!1}),n}function vle(t,e){let r=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(n=>n.is(iR))||t.changes.touchesRange(r.from,r.to))}function yle(t,e){return t.field(Rn,!1)?e:e.concat(rt.appendConfig.of(Mle))}const iR=rt.define(),Db=rt.define(),aR=rt.define(),Rn=Lr.define({create(){return new Qo(Ue.none,null,null)},update(t,e){if(e.docChanged){let r=t.diagnostics.map(e.changes),n=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);n=eu(r,t.selected.diagnostic,i)||eu(r,null,i)}t=new Qo(r,t.panel,n)}for(let r of e.effects)r.is(iR)?t=Qo.init(r.value,t.panel,e.state):r.is(Db)?t=new Qo(t.diagnostics,r.value?Wm.open:null,t.selected):r.is(aR)&&(t=new Qo(t.diagnostics,t.panel,r.value));return t},provide:t=>[jc.from(t,e=>e.panel),$e.decorations.from(t,e=>e.diagnostics)]}),xle=Ue.mark({class:"cm-lintRange cm-lintRange-active"});function ble(t,e,r){let{diagnostics:n}=t.state.field(Rn),i=[],a=2e8,o=0;n.between(e-(r<0?1:0),e+(r>0?1:0),(l,u,{spec:c})=>{e>=l&&e<=u&&(l==u||(e>l||r>0)&&(e<u||r<0))&&(i.push(c.diagnostic),a=Math.min(l,a),o=Math.max(u,o))});let s=t.state.facet(oR).tooltipFilter;return s&&(i=s(i)),i.length?{pos:a,end:o,above:t.state.doc.lineAt(a).to<o,create(){return{dom:wle(t,i)}}}:null}function wle(t,e){return Ft("ul",{class:"cm-tooltip-lint"},e.map(r=>lR(t,r,!1)))}const Sle=t=>{let e=t.state.field(Rn,!1);(!e||!e.panel)&&t.dispatch({effects:yle(t.state,[Db.of(!0)])});let r=Wc(t,Wm.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},gN=t=>{let e=t.state.field(Rn,!1);return!e||!e.panel?!1:(t.dispatch({effects:Db.of(!1)}),!0)},Cle=t=>{let e=t.state.field(Rn,!1);if(!e)return!1;let r=t.state.selection.main,n=e.diagnostics.iter(r.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==r.from&&n.to==r.to)?!1:(t.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},Dle=[{key:"Mod-Shift-m",run:Sle,preventDefault:!0},{key:"F8",run:Cle}],oR=ze.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},fa(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,r)=>e?r?n=>e(n)||r(n):e:r}))}});function sR(t){let e=[];if(t)e:for(let{name:r}of t){for(let n=0;n<r.length;n++){let i=r[n];if(/[a-zA-Z]/.test(i)&&!e.some(a=>a.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function lR(t,e,r){var n;let i=r?sR(e.actions):[];return Ft("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Ft("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(n=e.actions)===null||n===void 0?void 0:n.map((a,o)=>{let s=!1,l=h=>{if(h.preventDefault(),s)return;s=!0;let d=eu(t.state.field(Rn).diagnostics,e);d&&a.apply(t,d.from,d.to)},{name:u}=a,c=i[o]?u.indexOf(i[o]):-1,f=c<0?u:[u.slice(0,c),Ft("u",u.slice(c,c+1)),u.slice(c+1)];return Ft("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[o]})"`}.`},f)}),e.source&&Ft("div",{class:"cm-diagnosticSource"},e.source))}class Ale extends ha{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Ft("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class vN{constructor(e,r){this.diagnostic=r,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=lR(e,r,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Wm{constructor(e){this.view=e,this.items=[];let r=i=>{if(i.keyCode==27)gN(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],o=sR(a.actions);for(let s=0;s<o.length;s++)if(o[s].toUpperCase().charCodeAt(0)==i.keyCode){let l=eu(this.view.state.field(Rn).diagnostics,a);l&&a.actions[s].apply(e,l.from,l.to)}}else return;i.preventDefault()},n=i=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(i.target)&&this.moveSelection(a)};this.list=Ft("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:r,onclick:n}),this.dom=Ft("div",{class:"cm-panel-lint"},this.list,Ft("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>gN(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Rn).selected;if(!e)return-1;for(let r=0;r<this.items.length;r++)if(this.items[r].diagnostic==e.diagnostic)return r;return-1}update(){let{diagnostics:e,selected:r}=this.view.state.field(Rn),n=0,i=!1,a=null;for(e.between(0,this.view.state.doc.length,(o,s,{spec:l})=>{let u=-1,c;for(let f=n;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){u=f;break}u<0?(c=new vN(this.view,l.diagnostic),this.items.splice(n,0,c),i=!0):(c=this.items[u],u>n&&(this.items.splice(n,u-n),i=!0)),r&&c.diagnostic==r.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),a=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),n++});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new vN(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:s})=>{o.top<s.top?this.list.scrollTop-=s.top-o.top:o.bottom>s.bottom&&(this.list.scrollTop+=o.bottom-s.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function r(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)r();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)r()}moveSelection(e){if(this.selectedIndex<0)return;let r=this.view.state.field(Rn),n=eu(r.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:aR.of(n)})}static open(e){return new Wm(e)}}function Ele(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Fv(t){return Ele(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Nle=$e.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Fv("#d11")},".cm-lintRange-warning":{backgroundImage:Fv("orange")},".cm-lintRange-info":{backgroundImage:Fv("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Mle=[Rn,$e.decorations.compute([Rn],t=>{let{selected:e,panel:r}=t.field(Rn);return!e||!r||e.from==e.to?Ue.none:Ue.set([xle.range(e.from,e.to)])}),Mie(ble,{hideOn:vle}),Nle];var yN=function(e){e===void 0&&(e={});var r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(sle)),e.defaultKeymap!==!1&&(r=r.concat(ise)),e.searchKeymap!==!1&&(r=r.concat(Tse)),e.historyKeymap!==!1&&(r=r.concat(moe)),e.foldKeymap!==!1&&(r=r.concat(Aae)),e.completionKeymap!==!1&&(r=r.concat(nR)),e.lintKeymap!==!1&&(r=r.concat(Dle));var n=[];return e.lineNumbers!==!1&&n.push(Iie()),e.highlightActiveLineGutter!==!1&&n.push(zie()),e.highlightSpecialChars!==!1&&n.push(iie()),e.history!==!1&&n.push(ooe()),e.foldGutter!==!1&&n.push(Mae()),e.drawSelection!==!1&&n.push(Gne()),e.dropCursor!==!1&&n.push(Xne()),e.allowMultipleSelections!==!1&&n.push(ct.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&n.push(mae()),e.syntaxHighlighting!==!1&&n.push(fb(Bae,{fallback:!0})),e.bracketMatching!==!1&&n.push(_ae()),e.closeBrackets!==!1&&n.push(nle()),e.autocompletion!==!1&&n.push(ple()),e.rectangularSelection!==!1&&n.push(yie()),e.crosshairCursor!==!1&&n.push(wie()),e.highlightActiveLine!==!1&&n.push(cie()),e.highlightSelectionMatches!==!1&&n.push(cse()),e.tabSize&&typeof e.tabSize=="number"&&n.push(Pm.of(" ".repeat(e.tabSize))),n.concat([Rm.of(r.flat())]).filter(Boolean)};const Tle="#e5c07b",xN="#e06c75",kle="#56b6c2",Ole="#ffffff",gd="#abb2bf",Xy="#7d8799",Ble="#61afef",Fle="#98c379",bN="#d19a66",$le="#c678dd",Rle="#21252b",wN="#2c313a",SN="#282c34",$v="#353a42",Ple="#3E4451",CN="#528bff",Ile=$e.theme({"&":{color:gd,backgroundColor:SN},".cm-content":{caretColor:CN},".cm-cursor, .cm-dropCursor":{borderLeftColor:CN},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Ple},".cm-panels":{backgroundColor:Rle,color:gd},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:SN,color:Xy,border:"none"},".cm-activeLineGutter":{backgroundColor:wN},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:$v},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:$v,borderBottomColor:$v},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:wN,color:gd}}},{dark:!0}),Lle=yu.define([{tag:ie.keyword,color:$le},{tag:[ie.name,ie.deleted,ie.character,ie.propertyName,ie.macroName],color:xN},{tag:[ie.function(ie.variableName),ie.labelName],color:Ble},{tag:[ie.color,ie.constant(ie.name),ie.standard(ie.name)],color:bN},{tag:[ie.definition(ie.name),ie.separator],color:gd},{tag:[ie.typeName,ie.className,ie.number,ie.changed,ie.annotation,ie.modifier,ie.self,ie.namespace],color:Tle},{tag:[ie.operator,ie.operatorKeyword,ie.url,ie.escape,ie.regexp,ie.link,ie.special(ie.string)],color:kle},{tag:[ie.meta,ie.comment],color:Xy},{tag:ie.strong,fontWeight:"bold"},{tag:ie.emphasis,fontStyle:"italic"},{tag:ie.strikethrough,textDecoration:"line-through"},{tag:ie.link,color:Xy,textDecoration:"underline"},{tag:ie.heading,fontWeight:"bold",color:xN},{tag:[ie.atom,ie.bool,ie.special(ie.variableName)],color:bN},{tag:[ie.processingInstruction,ie.string,ie.inserted],color:Fle},{tag:ie.invalid,color:Ole}]),_le=[Ile,fb(Lle)];var zle=$e.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Ule=function(e){e===void 0&&(e={});var{indentWithTab:r=!0,editable:n=!0,readOnly:i=!1,theme:a="light",placeholder:o="",basicSetup:s=!0}=e,l=[];switch(r&&l.unshift(Rm.of([ase])),s&&(typeof s=="boolean"?l.unshift(yN()):l.unshift(yN(s))),o&&l.unshift(pie(o)),a){case"light":l.push(zle);break;case"dark":l.push(_le);break;case"none":break;default:l.push(a);break}return n===!1&&l.push($e.editable.of(!1)),i&&l.push(ct.readOnly.of(!0)),[...l]},qle=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)}),DN=ca.define();function Hle(t){var{value:e,selection:r,onChange:n,onStatistics:i,onCreateEditor:a,onUpdate:o,extensions:s=[],autoFocus:l,theme:u="light",height:c="",minHeight:f="",maxHeight:h="",placeholder:d="",width:p="",minWidth:m="",maxWidth:v="",editable:g=!0,readOnly:b=!1,indentWithTab:y=!0,basicSetup:w=!0,root:S,initialState:x}=t,[C,A]=J.useState(),[E,D]=J.useState(),[M,k]=J.useState(),$=$e.theme({"&":{height:c,minHeight:f,maxHeight:h,width:p,minWidth:m,maxWidth:v},"& .cm-scroller":{height:"100% !important"}}),I=$e.updateListener.of(T=>{if(T.docChanged&&typeof n=="function"&&!T.transactions.some(P=>P.annotation(DN))){var R=T.state.doc,O=R.toString();n(O,T)}i&&i(qle(T))}),F=Ule({theme:u,editable:g,readOnly:b,placeholder:d,indentWithTab:y,basicSetup:w}),N=[I,$,...F];return o&&typeof o=="function"&&N.push($e.updateListener.of(o)),N=N.concat(s),J.useEffect(()=>{if(C&&!M){var T={doc:e,selection:r,extensions:N},R=x?ct.fromJSON(x.json,T,x.fields):ct.create(T);if(k(R),!E){var O=new $e({state:R,parent:C,root:S});D(O),a&&a(O,R)}}return()=>{E&&(k(void 0),D(void 0))}},[C,M]),J.useEffect(()=>A(t.container),[t.container]),J.useEffect(()=>()=>{E&&(E.destroy(),D(void 0))},[E]),J.useEffect(()=>{l&&E&&E.focus()},[l,E]),J.useEffect(()=>{E&&E.dispatch({effects:rt.reconfigure.of(N)})},[u,s,c,f,h,p,m,v,d,g,b,y,w,n,o]),J.useEffect(()=>{if(e!==void 0){var T=E?E.state.doc.toString():"";E&&e!==T&&E.dispatch({changes:{from:0,to:T.length,insert:e||""},annotations:[DN.of(!0)]})}},[e,E]),{state:M,setState:k,view:E,setView:D,container:C,setContainer:A}}var Vle=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],uR=J.forwardRef((t,e)=>{var{className:r,value:n="",selection:i,extensions:a=[],onChange:o,onStatistics:s,onCreateEditor:l,onUpdate:u,autoFocus:c,theme:f="light",height:h,minHeight:d,maxHeight:p,width:m,minWidth:v,maxWidth:g,basicSetup:b,placeholder:y,indentWithTab:w,editable:S,readOnly:x,root:C,initialState:A}=t,E=kt(t,Vle),D=J.useRef(null),{state:M,view:k,container:$}=Hle({container:D.current,root:C,value:n,autoFocus:c,theme:f,height:h,minHeight:d,maxHeight:p,width:m,minWidth:v,maxWidth:g,basicSetup:b,placeholder:y,indentWithTab:w,editable:S,readOnly:x,selection:i,onChange:o,onStatistics:s,onCreateEditor:l,onUpdate:u,extensions:a,initialState:A});if(J.useImperativeHandle(e,()=>({editor:D.current,state:M,view:k}),[D,$,M,k]),typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var I=typeof f=="string"?"cm-theme-"+f:"cm-theme";return Te("div",te({ref:D,className:""+I+(r?" "+r:"")},E))});uR.displayName="CodeMirror";const Ab=()=>{const{math:t}=gf();function e(i,a=n()){if(i instanceof Date)return i.getHours()||i.getMinutes()||i.getSeconds()||i.getMilliseconds()?i.toLocaleString():i.toLocaleDateString();let o=t.format(i,s=>{let l={lowerExp:a.lowerExp,upperExp:a.upperExp,precision:a.precision,notation:a.notation};r(i)&&(l.precision=2,l.notation="fixed",a.trimTrailingZeros=!1);let u=t.format(s,l);return a.trimTrailingZeros&&/^-?\d+\.\d+$/.test(u)&&(u=u.replace(/0+$/,"").replace(/\.$/,"")),a.displayCommas&&/^-?\d+(\.\d+)?$/.test(u)&&(u=u.replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")),u});return Object.entries(oF).forEach(([s,l])=>{l+=l==="$"?"$":"";const u=new RegExp(`\\b([\\d\\.\\,]+) ${s}`,"g");u.test(o)&&(o=o.replace(u,`${l}$1`))}),o}function r(i){try{const a=t.unit(i)?.units[0]?.unit?.name;return a.length?Xte.includes(a.toUpperCase()):!1}catch{return!1}}function n(){return{lowerExp:-9,upperExp:9,precision:8,notation:"auto",displayCommas:!0,trimTrailingZeros:!0}}return{format:e,defaultFormatterSettings:n}};let Wle={data:""},jle=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||Wle,Gle=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Kle=/\/\*[^]*?\*\/|  +/g,AN=/\n+/g,ro=(t,e)=>{let r="",n="",i="";for(let a in t){let o=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?ro(o,a):a+"{"+ro(o,a[1]=="k"?"":e)+"}":typeof o=="object"?n+=ro(o,e?e.replace(/([^,])+/g,s=>a.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ro.p?ro.p(a,o):a+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},va={},cR=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+cR(t[r]);return e}return t},Yle=(t,e,r,n,i)=>{let a=cR(t),o=va[a]||(va[a]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(a));if(!va[o]){let l=a!==t?t:(u=>{let c,f,h=[{}];for(;c=Gle.exec(u.replace(Kle,""));)c[4]?h.shift():c[3]?(f=c[3].replace(AN," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(AN," ").trim();return h[0]})(t);va[o]=ro(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let s=r&&va.g?va.g:null;return r&&(va.g=va[o]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(va[o],e,n,s),o},Jle=(t,e,r)=>t.reduce((n,i,a)=>{let o=e[a];if(o&&o.call){let s=o(r),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":ro(s,""):s===!1?"":s}return n+i+(o??"")},"");function jm(t){let e=this||{},r=t.call?t(e.p):t;return Yle(r.unshift?r.raw?Jle(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,jle(e.target),e.g,e.o,e.k)}let fR,Qy,e1;jm.bind({g:1});let Ia=jm.bind({k:1});function Zle(t,e,r,n){ro.p=e,fR=t,Qy=r,e1=n}function zo(t,e){let r=this||{};return function(){let n=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;r.p=Object.assign({theme:Qy&&Qy()},s),r.o=/ *go\d+/.test(l),s.className=jm.apply(r,n)+(l?" "+l:""),e&&(s.ref=o);let u=t;return t[0]&&(u=s.as||t,delete s.as),e1&&u[0]&&e1(s),fR(u,s)}return e?e(i):i}}var Xle=t=>typeof t=="function",_p=(t,e)=>Xle(t)?t(e):t,Qle=(()=>{let t=0;return()=>(++t).toString()})(),hR=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),eue=20,vd=new Map,tue=1e3,EN=t=>{if(vd.has(t))return;let e=setTimeout(()=>{vd.delete(t),Rs({type:4,toastId:t})},tue);vd.set(t,e)},rue=t=>{let e=vd.get(t);e&&clearTimeout(e)},t1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,eue)};case 1:return e.toast.id&&rue(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?t1(t,{type:1,toast:r}):t1(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?EN(n):t.toasts.forEach(a=>{EN(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},yd=[],xd={toasts:[],pausedAt:void 0},Rs=t=>{xd=t1(xd,t),yd.forEach(e=>{e(xd)})},nue={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},iue=(t={})=>{let[e,r]=J.useState(xd);J.useEffect(()=>(yd.push(r),()=>{let i=yd.indexOf(r);i>-1&&yd.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var a,o;return{...t,...t[i.type],...i,duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||t?.duration||nue[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:n}},aue=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||Qle()}),Sf=t=>(e,r)=>{let n=aue(e,t,r);return Rs({type:2,toast:n}),n.id},Pn=(t,e)=>Sf("blank")(t,e);Pn.error=Sf("error");Pn.success=Sf("success");Pn.loading=Sf("loading");Pn.custom=Sf("custom");Pn.dismiss=t=>{Rs({type:3,toastId:t})};Pn.remove=t=>Rs({type:4,toastId:t});Pn.promise=(t,e,r)=>{let n=Pn.loading(e.loading,{...r,...r?.loading});return t.then(i=>(Pn.success(_p(e.success,i),{id:n,...r,...r?.success}),i)).catch(i=>{Pn.error(_p(e.error,i),{id:n,...r,...r?.error})}),t};var oue=(t,e)=>{Rs({type:1,toast:{id:t,height:e}})},sue=()=>{Rs({type:5,time:Date.now()})},lue=t=>{let{toasts:e,pausedAt:r}=iue(t);J.useEffect(()=>{if(r)return;let a=Date.now(),o=e.map(s=>{if(s.duration===1/0)return;let l=(s.duration||0)+s.pauseDuration-(a-s.createdAt);if(l<0){s.visible&&Pn.dismiss(s.id);return}return setTimeout(()=>Pn.dismiss(s.id),l)});return()=>{o.forEach(s=>s&&clearTimeout(s))}},[e,r]);let n=J.useCallback(()=>{r&&Rs({type:6,time:Date.now()})},[r]),i=J.useCallback((a,o)=>{let{reverseOrder:s=!1,gutter:l=8,defaultPosition:u}=o||{},c=e.filter(d=>(d.position||u)===(a.position||u)&&d.height),f=c.findIndex(d=>d.id===a.id),h=c.filter((d,p)=>p<f&&d.visible).length;return c.filter(d=>d.visible).slice(...s?[h+1]:[0,h]).reduce((d,p)=>d+(p.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:oue,startPause:sue,endPause:n,calculateOffset:i}}},uue=Ia`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,cue=Ia`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fue=Ia`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,hue=zo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uue} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${cue} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${fue} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,due=Ia`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,pue=zo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${due} 1s linear infinite;
`,mue=Ia`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gue=Ia`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vue=zo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mue} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gue} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,yue=zo("div")`
  position: absolute;
`,xue=zo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,bue=Ia`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wue=zo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${bue} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Sue=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?J.createElement(wue,null,e):e:r==="blank"?null:J.createElement(xue,null,J.createElement(pue,{...n}),r!=="loading"&&J.createElement(yue,null,r==="error"?J.createElement(hue,{...n}):J.createElement(vue,{...n})))},Cue=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Due=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Aue="0%{opacity:0;} 100%{opacity:1;}",Eue="0%{opacity:1;} 100%{opacity:0;}",Nue=zo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Mue=zo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Tue=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=hR()?[Aue,Eue]:[Cue(r),Due(r)];return{animation:e?`${Ia(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ia(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kue=J.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?Tue(t.position||e||"top-center",t.visible):{opacity:0},a=J.createElement(Sue,{toast:t}),o=J.createElement(Mue,{...t.ariaProps},_p(t.message,t));return J.createElement(Nue,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:a,message:o}):J.createElement(J.Fragment,null,a,o))});Zle(J.createElement);var Oue=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let a=J.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;n(t,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return J.createElement("div",{ref:a,className:e,style:r},i)},Bue=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:hR()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},Fue=jm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zh=16,$ue=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:a,containerClassName:o})=>{let{toasts:s,handlers:l}=lue(r);return J.createElement("div",{style:{position:"fixed",zIndex:9999,top:zh,left:zh,right:zh,bottom:zh,pointerEvents:"none",...a},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},s.map(u=>{let c=u.position||e,f=l.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),h=Bue(c,f);return J.createElement(Oue,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?Fue:"",style:h},u.type==="custom"?_p(u.message,u):i?i(u):J.createElement(kue,{toast:u,position:c}))}))},dR=Pn;const Rue=()=>{const{results:t}=gf(),{format:e}=Ab(),r=$e.baseTheme({".cm-line-result":{margin:"0 1rem",color:"#a9dc76",appearance:"none",border:"none",outline:"none",background:"none",padding:"0 0.5rem","line-height":"inherit",float:"right",display:"block","border-radius":"5px"},".cm-line-result:hover":{background:"#a9dc7699",color:"#1d1f21","font-weight":"bold"}}),n=async l=>"clipboard"in navigator?await navigator.clipboard.writeText(l):document.execCommand("copy",!0,l),i=l=>{l.target.parentElement.classList.contains("cm-line-result")&&(n(l.target.textContent),dR(`Copied "${l.target.textContent}"`))};class a extends ha{line;constructor(u){super(),this.line=u}eq(u){return u.line==this.line}toDOM(){let u=document.createElement("span"),c=u.appendChild(document.createElement("button"));c.setAttribute("aria-hidden","true"),c.className="cm-line-result ";let f=c.appendChild(document.createElement("span")),h=t.get(this.line-1)?`${e(t.get(this.line-1))}`:null;return f.textContent=h,u}ignoreEvent(){return!1}}function o(l){let u=new $a;for(let{from:c,to:f}of l.visibleRanges)for(let h=c;h<=f;){let d=l.state.doc.lineAt(h),p=Ue.widget({widget:new a(d.number),side:1});u.add(d.to,d.to,p),h=d.to+1}return u.finish()}const s=nr.fromClass(class{decorations;constructor(l){this.decorations=o(l)}update(l){(l.docChanged||l.viewportChanged)&&(this.decorations=o(l.view))}},{decorations:l=>l.decorations,eventHandlers:{mousedown:i,touchstart:i}});return function(){return[r,s]}},Tl="#ffffff",NN="#ff6188",Pue="#78dce8",r1="#939293",Iue="#ffd866",Lue="#a9dc76",MN="#fc9867",_ue="#ab9df2",zue="#0e0e0e",TN="#4e4e4e",kN="transparent",Rv="#353535",Uue="#686868",ON="#ffd866",que=$e.theme({"&":{color:Tl,backgroundColor:kN},"&.cm-editor.cm-focused":{"outline-color":"transparent"},".cm-content":{caretColor:ON},".cm-cursor, .cm-dropCursor":{borderLeftColor:ON,borderLeftWidth:"2px"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Uue},".cm-panels":{backgroundColor:zue,color:Tl},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:kN,color:r1,border:"none",userSelect:"none"},".cm-activeLineGutter":{backgroundColor:TN},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Rv},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Rv,borderBottomColor:Rv},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:TN,color:Tl}}},{dark:!0}),Hue=yu.define([{tag:ie.keyword,color:_ue},{tag:[ie.name,ie.deleted,ie.character,ie.propertyName,ie.macroName],color:NN},{tag:[ie.function(ie.variableName),ie.labelName],color:Iue},{tag:[ie.color,ie.constant(ie.name),ie.standard(ie.name)],color:MN},{tag:[ie.definition(ie.name),ie.separator],color:Tl},{tag:[ie.typeName,ie.className,ie.number,ie.changed,ie.annotation,ie.modifier,ie.self,ie.namespace],color:Tl},{tag:[ie.operator,ie.operatorKeyword,ie.url,ie.escape,ie.regexp,ie.link,ie.special(ie.string)],color:Pue},{tag:[ie.meta,ie.comment],color:r1,fontStyle:"italic"},{tag:ie.strong,fontWeight:"bold"},{tag:ie.emphasis,fontStyle:"italic"},{tag:ie.strikethrough,textDecoration:"line-through"},{tag:ie.link,color:r1,textDecoration:"underline"},{tag:ie.heading,fontWeight:"bold",color:NN},{tag:[ie.atom,ie.bool,ie.special(ie.variableName)],color:MN,fontStyle:"italic"},{tag:[ie.processingInstruction,ie.string,ie.inserted],color:Lue},{tag:ie.invalid,color:Tl}]),Vue=[que,fb(Hue)];function es(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function pR(t){if(!es(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=pR(t[r])}),e}function In(t,e,r={clone:!0}){const n=r.clone?te({},t):t;return es(t)&&es(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(es(e[i])&&i in t&&es(t[i])?n[i]=In(t[i],e[i],r):r.clone?n[i]=es(e[i])?pR(e[i]):e[i]:n[i]=e[i])}),n}function zp(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function Qt(t){if(typeof t!="string")throw new Error(zp(7));return t.charAt(0).toUpperCase()+t.slice(1)}function Wue(t,e){return J.isValidElement(t)&&e.indexOf(t.type.muiName)!==-1}function BN(t){return t&&t.ownerDocument||document}function n1(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const jue=typeof window<"u"?J.useLayoutEffect:J.useEffect,Ss=jue;let FN=0;function Gue(t){const[e,r]=J.useState(t),n=t||e;return J.useEffect(()=>{e==null&&(FN+=1,r(`mui-${FN}`))},[e]),n}const $N=Wv["useId".toString()];function Kue(t){if($N!==void 0){const e=$N();return t??e}return Gue(t)}function Ti(...t){return J.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{n1(r,e)})},t)}let Gm=!0,i1=!1,RN;const Yue={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Jue(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&Yue[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function Zue(t){t.metaKey||t.altKey||t.ctrlKey||(Gm=!0)}function Pv(){Gm=!1}function Xue(){this.visibilityState==="hidden"&&i1&&(Gm=!0)}function Que(t){t.addEventListener("keydown",Zue,!0),t.addEventListener("mousedown",Pv,!0),t.addEventListener("pointerdown",Pv,!0),t.addEventListener("touchstart",Pv,!0),t.addEventListener("visibilitychange",Xue,!0)}function ece(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Gm||Jue(e)}function tce(){const t=J.useCallback(i=>{i!=null&&Que(i.ownerDocument)},[]),e=J.useRef(!1);function r(){return e.current?(i1=!0,window.clearTimeout(RN),RN=window.setTimeout(()=>{i1=!1},100),e.current=!1,!0):!1}function n(i){return ece(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function mR(t,e){const r=te({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=te({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=t[n]||{},a=e[n];r[n]={},!a||!Object.keys(a)?r[n]=i:!i||!Object.keys(i)?r[n]=a:(r[n]=te({},a),Object.keys(i).forEach(o=>{r[n][o]=mR(i[o],a[o])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function Ha(t,e,r=void 0){const n={};return Object.keys(t).forEach(i=>{n[i]=t[i].reduce((a,o)=>{if(o){const s=e(o);s!==""&&a.push(s),r&&r[o]&&a.push(r[o])}return a},[]).join(" ")}),n}const PN=t=>t,rce=()=>{let t=PN;return{configure(e){t=e},generate(e){return t(e)},reset(){t=PN}}},nce=rce(),gR=nce,ice={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Eb(t,e,r="Mui"){const n=ice[e];return n?`${r}-${n}`:`${gR.generate(t)}-${e}`}function vR(t,e,r="Mui"){const n={};return e.forEach(i=>{n[i]=Eb(t,i,r)}),n}function yR(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var ace=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oce=yR(function(t){return ace.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function sce(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function lce(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var uce=function(){function t(r){var n=this;this._insertTag=function(i){var a;n.tags.length===0?n.insertionPoint?a=n.insertionPoint.nextSibling:n.prepend?a=n.container.firstChild:a=n.before:a=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,a),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(lce(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=sce(i);try{a.insertRule(n,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Wr="-ms-",Up="-moz-",gt="-webkit-",xR="comm",Nb="rule",Mb="decl",cce="@import",bR="@keyframes",fce="@layer",hce=Math.abs,Km=String.fromCharCode,dce=Object.assign;function pce(t,e){return Mr(t,0)^45?(((e<<2^Mr(t,0))<<2^Mr(t,1))<<2^Mr(t,2))<<2^Mr(t,3):0}function wR(t){return t.trim()}function mce(t,e){return(t=e.exec(t))?t[0]:t}function vt(t,e,r){return t.replace(e,r)}function a1(t,e){return t.indexOf(e)}function Mr(t,e){return t.charCodeAt(e)|0}function Xc(t,e,r){return t.slice(e,r)}function qi(t){return t.length}function Tb(t){return t.length}function Uh(t,e){return e.push(t),t}function gce(t,e){return t.map(e).join("")}var Ym=1,tu=1,SR=0,Dn=0,ir=0,wu="";function Jm(t,e,r,n,i,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:a,line:Ym,column:tu,length:o,return:""}}function _u(t,e){return dce(Jm("",null,null,"",null,null,0),t,{length:-t.length},e)}function vce(){return ir}function yce(){return ir=Dn>0?Mr(wu,--Dn):0,tu--,ir===10&&(tu=1,Ym--),ir}function _n(){return ir=Dn<SR?Mr(wu,Dn++):0,tu++,ir===10&&(tu=1,Ym++),ir}function ta(){return Mr(wu,Dn)}function bd(){return Dn}function Cf(t,e){return Xc(wu,t,e)}function Qc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function CR(t){return Ym=tu=1,SR=qi(wu=t),Dn=0,[]}function DR(t){return wu="",t}function wd(t){return wR(Cf(Dn-1,o1(t===91?t+2:t===40?t+1:t)))}function xce(t){for(;(ir=ta())&&ir<33;)_n();return Qc(t)>2||Qc(ir)>3?"":" "}function bce(t,e){for(;--e&&_n()&&!(ir<48||ir>102||ir>57&&ir<65||ir>70&&ir<97););return Cf(t,bd()+(e<6&&ta()==32&&_n()==32))}function o1(t){for(;_n();)switch(ir){case t:return Dn;case 34:case 39:t!==34&&t!==39&&o1(ir);break;case 40:t===41&&o1(t);break;case 92:_n();break}return Dn}function wce(t,e){for(;_n()&&t+ir!==47+10;)if(t+ir===42+42&&ta()===47)break;return"/*"+Cf(e,Dn-1)+"*"+Km(t===47?t:_n())}function Sce(t){for(;!Qc(ta());)_n();return Cf(t,Dn)}function Cce(t){return DR(Sd("",null,null,null,[""],t=CR(t),0,[0],t))}function Sd(t,e,r,n,i,a,o,s,l){for(var u=0,c=0,f=o,h=0,d=0,p=0,m=1,v=1,g=1,b=0,y="",w=i,S=a,x=n,C=y;v;)switch(p=b,b=_n()){case 40:if(p!=108&&Mr(C,f-1)==58){a1(C+=vt(wd(b),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=wd(b);break;case 9:case 10:case 13:case 32:C+=xce(p);break;case 92:C+=bce(bd()-1,7);continue;case 47:switch(ta()){case 42:case 47:Uh(Dce(wce(_n(),bd()),e,r),l);break;default:C+="/"}break;case 123*m:s[u++]=qi(C)*g;case 125*m:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+c:g==-1&&(C=vt(C,/\f/g,"")),d>0&&qi(C)-f&&Uh(d>32?LN(C+";",n,r,f-1):LN(vt(C," ","")+";",n,r,f-2),l);break;case 59:C+=";";default:if(Uh(x=IN(C,e,r,u,c,i,s,y,w=[],S=[],f),a),b===123)if(c===0)Sd(C,e,x,x,w,a,f,s,S);else switch(h===99&&Mr(C,3)===110?100:h){case 100:case 108:case 109:case 115:Sd(t,x,x,n&&Uh(IN(t,x,x,0,0,i,s,y,i,w=[],f),S),i,S,f,s,n?w:S);break;default:Sd(C,x,x,x,[""],S,0,s,S)}}u=c=d=0,m=g=1,y=C="",f=o;break;case 58:f=1+qi(C),d=p;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&yce()==125)continue}switch(C+=Km(b),b*m){case 38:g=c>0?1:(C+="\f",-1);break;case 44:s[u++]=(qi(C)-1)*g,g=1;break;case 64:ta()===45&&(C+=wd(_n())),h=ta(),c=f=qi(y=C+=Sce(bd())),b++;break;case 45:p===45&&qi(C)==2&&(m=0)}}return a}function IN(t,e,r,n,i,a,o,s,l,u,c){for(var f=i-1,h=i===0?a:[""],d=Tb(h),p=0,m=0,v=0;p<n;++p)for(var g=0,b=Xc(t,f+1,f=hce(m=o[p])),y=t;g<d;++g)(y=wR(m>0?h[g]+" "+b:vt(b,/&\f/g,h[g])))&&(l[v++]=y);return Jm(t,e,r,i===0?Nb:s,l,u,c)}function Dce(t,e,r){return Jm(t,e,r,xR,Km(vce()),Xc(t,2,-2),0)}function LN(t,e,r,n){return Jm(t,e,r,Mb,Xc(t,0,n),Xc(t,n+1,-1),n)}function kl(t,e){for(var r="",n=Tb(t),i=0;i<n;i++)r+=e(t[i],i,t,e)||"";return r}function Ace(t,e,r,n){switch(t.type){case fce:if(t.children.length)break;case cce:case Mb:return t.return=t.return||t.value;case xR:return"";case bR:return t.return=t.value+"{"+kl(t.children,n)+"}";case Nb:t.value=t.props.join(",")}return qi(r=kl(t.children,n))?t.return=t.value+"{"+r+"}":""}function Ece(t){var e=Tb(t);return function(r,n,i,a){for(var o="",s=0;s<e;s++)o+=t[s](r,n,i,a)||"";return o}}function Nce(t){return function(e){e.root||(e=e.return)&&t(e)}}var Mce=function(e,r,n){for(var i=0,a=0;i=a,a=ta(),i===38&&a===12&&(r[n]=1),!Qc(a);)_n();return Cf(e,Dn)},Tce=function(e,r){var n=-1,i=44;do switch(Qc(i)){case 0:i===38&&ta()===12&&(r[n]=1),e[n]+=Mce(Dn-1,r,n);break;case 2:e[n]+=wd(i);break;case 4:if(i===44){e[++n]=ta()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Km(i)}while(i=_n());return e},kce=function(e,r){return DR(Tce(CR(e),r))},_N=new WeakMap,Oce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!_N.get(n))&&!i){_N.set(e,!0);for(var a=[],o=kce(r,a),s=n.props,l=0,u=0;l<o.length;l++)for(var c=0;c<s.length;c++,u++)e.props[u]=a[l]?o[l].replace(/&\f/g,s[c]):s[c]+" "+o[l]}}},Bce=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function AR(t,e){switch(pce(t,e)){case 5103:return gt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return gt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return gt+t+Up+t+Wr+t+t;case 6828:case 4268:return gt+t+Wr+t+t;case 6165:return gt+t+Wr+"flex-"+t+t;case 5187:return gt+t+vt(t,/(\w+).+(:[^]+)/,gt+"box-$1$2"+Wr+"flex-$1$2")+t;case 5443:return gt+t+Wr+"flex-item-"+vt(t,/flex-|-self/,"")+t;case 4675:return gt+t+Wr+"flex-line-pack"+vt(t,/align-content|flex-|-self/,"")+t;case 5548:return gt+t+Wr+vt(t,"shrink","negative")+t;case 5292:return gt+t+Wr+vt(t,"basis","preferred-size")+t;case 6060:return gt+"box-"+vt(t,"-grow","")+gt+t+Wr+vt(t,"grow","positive")+t;case 4554:return gt+vt(t,/([^-])(transform)/g,"$1"+gt+"$2")+t;case 6187:return vt(vt(vt(t,/(zoom-|grab)/,gt+"$1"),/(image-set)/,gt+"$1"),t,"")+t;case 5495:case 3959:return vt(t,/(image-set\([^]*)/,gt+"$1$`$1");case 4968:return vt(vt(t,/(.+:)(flex-)?(.*)/,gt+"box-pack:$3"+Wr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+gt+t+t;case 4095:case 3583:case 4068:case 2532:return vt(t,/(.+)-inline(.+)/,gt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(qi(t)-1-e>6)switch(Mr(t,e+1)){case 109:if(Mr(t,e+4)!==45)break;case 102:return vt(t,/(.+:)(.+)-([^]+)/,"$1"+gt+"$2-$3$1"+Up+(Mr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~a1(t,"stretch")?AR(vt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Mr(t,e+1)!==115)break;case 6444:switch(Mr(t,qi(t)-3-(~a1(t,"!important")&&10))){case 107:return vt(t,":",":"+gt)+t;case 101:return vt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+gt+(Mr(t,14)===45?"inline-":"")+"box$3$1"+gt+"$2$3$1"+Wr+"$2box$3")+t}break;case 5936:switch(Mr(t,e+11)){case 114:return gt+t+Wr+vt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return gt+t+Wr+vt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return gt+t+Wr+vt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return gt+t+Wr+t+t}return t}var Fce=function(e,r,n,i){if(e.length>-1&&!e.return)switch(e.type){case Mb:e.return=AR(e.value,e.length);break;case bR:return kl([_u(e,{value:vt(e.value,"@","@"+gt)})],i);case Nb:if(e.length)return gce(e.props,function(a){switch(mce(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return kl([_u(e,{props:[vt(a,/:(read-\w+)/,":"+Up+"$1")]})],i);case"::placeholder":return kl([_u(e,{props:[vt(a,/:(plac\w+)/,":"+gt+"input-$1")]}),_u(e,{props:[vt(a,/:(plac\w+)/,":"+Up+"$1")]}),_u(e,{props:[vt(a,/:(plac\w+)/,Wr+"input-$1")]})],i)}return""})}},$ce=[Fce],Rce=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var i=e.stylisPlugins||$ce,a={},o,s=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),g=1;g<v.length;g++)a[v[g]]=!0;s.push(m)});var l,u=[Oce,Bce];{var c,f=[Ace,Nce(function(m){c.insert(m)})],h=Ece(u.concat(i,f)),d=function(v){return kl(Cce(v),h)};l=function(v,g,b,y){c=b,d(v?v+"{"+g.styles+"}":g.styles),y&&(p.inserted[g.name]=!0)}}var p={key:r,sheet:new uce({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return p.sheet.hydrate(s),p},ER={exports:{}},Mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cr=typeof Symbol=="function"&&Symbol.for,kb=Cr?Symbol.for("react.element"):60103,Ob=Cr?Symbol.for("react.portal"):60106,Zm=Cr?Symbol.for("react.fragment"):60107,Xm=Cr?Symbol.for("react.strict_mode"):60108,Qm=Cr?Symbol.for("react.profiler"):60114,eg=Cr?Symbol.for("react.provider"):60109,tg=Cr?Symbol.for("react.context"):60110,Bb=Cr?Symbol.for("react.async_mode"):60111,rg=Cr?Symbol.for("react.concurrent_mode"):60111,ng=Cr?Symbol.for("react.forward_ref"):60112,ig=Cr?Symbol.for("react.suspense"):60113,Pce=Cr?Symbol.for("react.suspense_list"):60120,ag=Cr?Symbol.for("react.memo"):60115,og=Cr?Symbol.for("react.lazy"):60116,Ice=Cr?Symbol.for("react.block"):60121,Lce=Cr?Symbol.for("react.fundamental"):60117,_ce=Cr?Symbol.for("react.responder"):60118,zce=Cr?Symbol.for("react.scope"):60119;function jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kb:switch(t=t.type,t){case Bb:case rg:case Zm:case Qm:case Xm:case ig:return t;default:switch(t=t&&t.$$typeof,t){case tg:case ng:case og:case ag:case eg:return t;default:return e}}case Ob:return e}}}function NR(t){return jn(t)===rg}Mt.AsyncMode=Bb;Mt.ConcurrentMode=rg;Mt.ContextConsumer=tg;Mt.ContextProvider=eg;Mt.Element=kb;Mt.ForwardRef=ng;Mt.Fragment=Zm;Mt.Lazy=og;Mt.Memo=ag;Mt.Portal=Ob;Mt.Profiler=Qm;Mt.StrictMode=Xm;Mt.Suspense=ig;Mt.isAsyncMode=function(t){return NR(t)||jn(t)===Bb};Mt.isConcurrentMode=NR;Mt.isContextConsumer=function(t){return jn(t)===tg};Mt.isContextProvider=function(t){return jn(t)===eg};Mt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kb};Mt.isForwardRef=function(t){return jn(t)===ng};Mt.isFragment=function(t){return jn(t)===Zm};Mt.isLazy=function(t){return jn(t)===og};Mt.isMemo=function(t){return jn(t)===ag};Mt.isPortal=function(t){return jn(t)===Ob};Mt.isProfiler=function(t){return jn(t)===Qm};Mt.isStrictMode=function(t){return jn(t)===Xm};Mt.isSuspense=function(t){return jn(t)===ig};Mt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zm||t===rg||t===Qm||t===Xm||t===ig||t===Pce||typeof t=="object"&&t!==null&&(t.$$typeof===og||t.$$typeof===ag||t.$$typeof===eg||t.$$typeof===tg||t.$$typeof===ng||t.$$typeof===Lce||t.$$typeof===_ce||t.$$typeof===zce||t.$$typeof===Ice)};Mt.typeOf=jn;ER.exports=Mt;var Uce=ER.exports,MR=Uce,qce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Hce={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TR={};TR[MR.ForwardRef]=qce;TR[MR.Memo]=Hce;var Vce=!0;function Wce(t,e,r){var n="";return r.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):n+=i+" "}),n}var kR=function(e,r,n){var i=e.key+"-"+r.name;(n===!1||Vce===!1)&&e.registered[i]===void 0&&(e.registered[i]=r.styles)},OR=function(e,r,n){kR(e,r,n);var i=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var a=r;do e.insert(r===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function jce(t){for(var e=0,r,n=0,i=t.length;i>=4;++n,i-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Gce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Kce=/[A-Z]|^ms/g,Yce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BR=function(e){return e.charCodeAt(1)===45},zN=function(e){return e!=null&&typeof e!="boolean"},Iv=yR(function(t){return BR(t)?t:t.replace(Kce,"-$&").toLowerCase()}),UN=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Yce,function(n,i,a){return Hi={name:i,styles:a,next:Hi},i})}return Gce[e]!==1&&!BR(e)&&typeof r=="number"&&r!==0?r+"px":r};function ef(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return Hi={name:r.name,styles:r.styles,next:Hi},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)Hi={name:n.name,styles:n.styles,next:Hi},n=n.next;var i=r.styles+";";return i}return Jce(t,e,r)}case"function":{if(t!==void 0){var a=Hi,o=r(t);return Hi=a,ef(t,e,o)}break}}if(e==null)return r;var s=e[r];return s!==void 0?s:r}function Jce(t,e,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=ef(t,e,r[i])+";";else for(var a in r){var o=r[a];if(typeof o!="object")e!=null&&e[o]!==void 0?n+=a+"{"+e[o]+"}":zN(o)&&(n+=Iv(a)+":"+UN(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var s=0;s<o.length;s++)zN(o[s])&&(n+=Iv(a)+":"+UN(a,o[s])+";");else{var l=ef(t,e,o);switch(a){case"animation":case"animationName":{n+=Iv(a)+":"+l+";";break}default:n+=a+"{"+l+"}"}}}return n}var qN=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Hi,FR=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";Hi=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,a+=ef(n,r,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=ef(n,r,e[s]),i&&(a+=o[s]);qN.lastIndex=0;for(var l="",u;(u=qN.exec(a))!==null;)l+="-"+u[1];var c=jce(a)+l;return{name:c,styles:a,next:Hi}},Zce=function(e){return e()},$R=Wv["useInsertionEffect"]?Wv["useInsertionEffect"]:!1,Xce=$R||Zce,HN=$R||J.useLayoutEffect,RR=J.createContext(typeof HTMLElement<"u"?Rce({key:"css"}):null);RR.Provider;var PR=function(e){return J.forwardRef(function(r,n){var i=J.useContext(RR);return e(r,i,n)})},sg=J.createContext({}),Qce=PR(function(t,e){var r=t.styles,n=FR([r],void 0,J.useContext(sg)),i=J.useRef();return HN(function(){var a=e.key+"-global",o=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,l=document.querySelector('style[data-emotion="'+a+" "+n.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(s=!0,l.setAttribute("data-emotion",a),o.hydrate([l])),i.current=[o,s],function(){o.flush()}},[e]),HN(function(){var a=i.current,o=a[0],s=a[1];if(s){a[1]=!1;return}if(n.next!==void 0&&OR(e,n.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",n,o,!1)},[e,n.name]),null}),efe=oce,tfe=function(e){return e!=="theme"},VN=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?efe:tfe},WN=function(e,r,n){var i;if(r){var a=r.shouldForwardProp;i=e.__emotion_forwardProp&&a?function(o){return e.__emotion_forwardProp(o)&&a(o)}:a}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},rfe=function(e){var r=e.cache,n=e.serialized,i=e.isStringTag;return kR(r,n,i),Xce(function(){return OR(r,n,i)}),null},nfe=function t(e,r){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,a,o;r!==void 0&&(a=r.label,o=r.target);var s=WN(e,r,n),l=s||VN(i),u=!l("as");return function(){var c=arguments,f=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&f.push("label:"+a+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var h=c.length,d=1;d<h;d++)f.push(c[d],c[0][d])}var p=PR(function(m,v,g){var b=u&&m.as||i,y="",w=[],S=m;if(m.theme==null){S={};for(var x in m)S[x]=m[x];S.theme=J.useContext(sg)}typeof m.className=="string"?y=Wce(v.registered,w,m.className):m.className!=null&&(y=m.className+" ");var C=FR(f.concat(w),v.registered,S);y+=v.key+"-"+C.name,o!==void 0&&(y+=" "+o);var A=u&&s===void 0?VN(b):l,E={};for(var D in m)u&&D==="as"||A(D)&&(E[D]=m[D]);return E.className=y,E.ref=g,J.createElement(J.Fragment,null,J.createElement(rfe,{cache:v,serialized:C,isStringTag:typeof b=="string"}),J.createElement(b,E))});return p.displayName=a!==void 0?a:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=f,p.__emotion_forwardProp=s,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(m,v){return t(m,te({},r,v,{shouldForwardProp:WN(p,v,!0)})).apply(void 0,f)},p}},ife=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],s1=nfe.bind();ife.forEach(function(t){s1[t]=s1(t)});function afe(t){return t==null||Object.keys(t).length===0}function Cd(t){const{styles:e,defaultTheme:r={}}=t;return Te(Qce,{styles:typeof e=="function"?i=>e(afe(i)?r:i):e})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function IR(t,e){return s1(t,e)}const ofe=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},sfe=["values","unit","step"],lfe=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>te({},r,{[n.key]:n.val}),{})};function LR(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,i=kt(t,sfe),a=lfe(e),o=Object.keys(a);function s(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-n/100}${r})`}function u(h,d){const p=o.indexOf(d);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:d)-n/100}${r})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):s(h)}function f(h){const d=o.indexOf(h);return d===0?s(o[1]):d===o.length-1?l(o[d]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return te({keys:o,values:a,up:s,down:l,between:u,only:c,not:f,unit:r},i)}const ufe={borderRadius:4},cfe=ufe;function dc(t,e){return e?In(t,e,{clone:!1}):t}const Fb={xs:0,sm:600,md:900,lg:1200,xl:1536},jN={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Fb[t]}px)`};function La(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const a=n.breakpoints||jN;return e.reduce((o,s,l)=>(o[a.up(a.keys[l])]=r(e[l]),o),{})}if(typeof e=="object"){const a=n.breakpoints||jN;return Object.keys(e).reduce((o,s)=>{if(Object.keys(a.values||Fb).indexOf(s)!==-1){const l=a.up(s);o[l]=r(e[s],s)}else{const l=s;o[l]=e[l]}return o},{})}return r(e)}function ffe(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,i)=>{const a=t.up(i);return n[a]={},n},{}))||{}}function hfe(t,e){return t.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},e)}function lg(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((i,a)=>i&&i[a]?i[a]:null,t);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,t)}function qp(t,e,r,n=r){let i;return typeof t=="function"?i=t(r):Array.isArray(t)?i=t[r]||n:i=lg(t,r)||n,e&&(i=e(i,n,t)),i}function St(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:i}=t,a=o=>{if(o[e]==null)return null;const s=o[e],l=o.theme,u=lg(l,n)||{};return La(o,s,f=>{let h=qp(u,i,f);return f===h&&typeof f=="string"&&(h=qp(u,i,`${e}${f==="default"?"":Qt(f)}`,f)),r===!1?h:{[r]:h}})};return a.propTypes={},a.filterProps=[e],a}function dfe(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const pfe={m:"margin",p:"padding"},mfe={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},GN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},gfe=dfe(t=>{if(t.length>2)if(GN[t])t=GN[t];else return[t];const[e,r]=t.split(""),n=pfe[e],i=mfe[r]||"";return Array.isArray(i)?i.map(a=>n+a):[n+i]}),$b=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Rb=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$b,...Rb];function Df(t,e,r,n){var i;const a=(i=lg(t,e,!1))!=null?i:r;return typeof a=="number"?o=>typeof o=="string"?o:a*o:Array.isArray(a)?o=>typeof o=="string"?o:a[o]:typeof a=="function"?a:()=>{}}function _R(t){return Df(t,"spacing",8)}function Af(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function vfe(t,e){return r=>t.reduce((n,i)=>(n[i]=Af(e,r),n),{})}function yfe(t,e,r,n){if(e.indexOf(r)===-1)return null;const i=gfe(r),a=vfe(i,n),o=t[r];return La(t,o,a)}function zR(t,e){const r=_R(t.theme);return Object.keys(t).map(n=>yfe(t,e,n,r)).reduce(dc,{})}function Jt(t){return zR(t,$b)}Jt.propTypes={};Jt.filterProps=$b;function Zt(t){return zR(t,Rb)}Zt.propTypes={};Zt.filterProps=Rb;function UR(t=8){if(t.mui)return t;const e=_R({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(a=>{const o=e(a);return typeof o=="number"?`${o}px`:o}).join(" ");return r.mui=!0,r}function ug(...t){const e=t.reduce((n,i)=>(i.filterProps.forEach(a=>{n[a]=i}),n),{}),r=n=>Object.keys(n).reduce((i,a)=>e[a]?dc(i,e[a](n)):i,{});return r.propTypes={},r.filterProps=t.reduce((n,i)=>n.concat(i.filterProps),[]),r}function Gi(t){return typeof t!="number"?t:`${t}px solid`}const xfe=St({prop:"border",themeKey:"borders",transform:Gi}),bfe=St({prop:"borderTop",themeKey:"borders",transform:Gi}),wfe=St({prop:"borderRight",themeKey:"borders",transform:Gi}),Sfe=St({prop:"borderBottom",themeKey:"borders",transform:Gi}),Cfe=St({prop:"borderLeft",themeKey:"borders",transform:Gi}),Dfe=St({prop:"borderColor",themeKey:"palette"}),Afe=St({prop:"borderTopColor",themeKey:"palette"}),Efe=St({prop:"borderRightColor",themeKey:"palette"}),Nfe=St({prop:"borderBottomColor",themeKey:"palette"}),Mfe=St({prop:"borderLeftColor",themeKey:"palette"}),cg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Df(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Af(e,n)});return La(t,t.borderRadius,r)}return null};cg.propTypes={};cg.filterProps=["borderRadius"];ug(xfe,bfe,wfe,Sfe,Cfe,Dfe,Afe,Efe,Nfe,Mfe,cg);const fg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Df(t.theme,"spacing",8),r=n=>({gap:Af(e,n)});return La(t,t.gap,r)}return null};fg.propTypes={};fg.filterProps=["gap"];const hg=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Df(t.theme,"spacing",8),r=n=>({columnGap:Af(e,n)});return La(t,t.columnGap,r)}return null};hg.propTypes={};hg.filterProps=["columnGap"];const dg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Df(t.theme,"spacing",8),r=n=>({rowGap:Af(e,n)});return La(t,t.rowGap,r)}return null};dg.propTypes={};dg.filterProps=["rowGap"];const Tfe=St({prop:"gridColumn"}),kfe=St({prop:"gridRow"}),Ofe=St({prop:"gridAutoFlow"}),Bfe=St({prop:"gridAutoColumns"}),Ffe=St({prop:"gridAutoRows"}),$fe=St({prop:"gridTemplateColumns"}),Rfe=St({prop:"gridTemplateRows"}),Pfe=St({prop:"gridTemplateAreas"}),Ife=St({prop:"gridArea"});ug(fg,hg,dg,Tfe,kfe,Ofe,Bfe,Ffe,$fe,Rfe,Pfe,Ife);function Ol(t,e){return e==="grey"?e:t}const Lfe=St({prop:"color",themeKey:"palette",transform:Ol}),_fe=St({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ol}),zfe=St({prop:"backgroundColor",themeKey:"palette",transform:Ol});ug(Lfe,_fe,zfe);function Fn(t){return t<=1&&t!==0?`${t*100}%`:t}const Ufe=St({prop:"width",transform:Fn}),Pb=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,i,a;return{maxWidth:((n=t.theme)==null||(i=n.breakpoints)==null||(a=i.values)==null?void 0:a[r])||Fb[r]||Fn(r)}};return La(t,t.maxWidth,e)}return null};Pb.filterProps=["maxWidth"];const qfe=St({prop:"minWidth",transform:Fn}),Hfe=St({prop:"height",transform:Fn}),Vfe=St({prop:"maxHeight",transform:Fn}),Wfe=St({prop:"minHeight",transform:Fn});St({prop:"size",cssProperty:"width",transform:Fn});St({prop:"size",cssProperty:"height",transform:Fn});const jfe=St({prop:"boxSizing"});ug(Ufe,Pb,qfe,Hfe,Vfe,Wfe,jfe);const Gfe={border:{themeKey:"borders",transform:Gi},borderTop:{themeKey:"borders",transform:Gi},borderRight:{themeKey:"borders",transform:Gi},borderBottom:{themeKey:"borders",transform:Gi},borderLeft:{themeKey:"borders",transform:Gi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:cg},color:{themeKey:"palette",transform:Ol},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ol},backgroundColor:{themeKey:"palette",transform:Ol},p:{style:Zt},pt:{style:Zt},pr:{style:Zt},pb:{style:Zt},pl:{style:Zt},px:{style:Zt},py:{style:Zt},padding:{style:Zt},paddingTop:{style:Zt},paddingRight:{style:Zt},paddingBottom:{style:Zt},paddingLeft:{style:Zt},paddingX:{style:Zt},paddingY:{style:Zt},paddingInline:{style:Zt},paddingInlineStart:{style:Zt},paddingInlineEnd:{style:Zt},paddingBlock:{style:Zt},paddingBlockStart:{style:Zt},paddingBlockEnd:{style:Zt},m:{style:Jt},mt:{style:Jt},mr:{style:Jt},mb:{style:Jt},ml:{style:Jt},mx:{style:Jt},my:{style:Jt},margin:{style:Jt},marginTop:{style:Jt},marginRight:{style:Jt},marginBottom:{style:Jt},marginLeft:{style:Jt},marginX:{style:Jt},marginY:{style:Jt},marginInline:{style:Jt},marginInlineStart:{style:Jt},marginInlineEnd:{style:Jt},marginBlock:{style:Jt},marginBlockStart:{style:Jt},marginBlockEnd:{style:Jt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:fg},rowGap:{style:dg},columnGap:{style:hg},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Fn},maxWidth:{style:Pb},minWidth:{transform:Fn},height:{transform:Fn},maxHeight:{transform:Fn},minHeight:{transform:Fn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},pg=Gfe;function Kfe(...t){const e=t.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function Yfe(t,e){return typeof t=="function"?t(e):t}function Jfe(){function t(r,n,i,a){const o={[r]:n,theme:i},s=a[r];if(!s)return{[r]:n};const{cssProperty:l=r,themeKey:u,transform:c,style:f}=s;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const h=lg(i,u)||{};return f?f(o):La(o,n,p=>{let m=qp(h,c,p);return p===m&&typeof p=="string"&&(m=qp(h,c,`${r}${p==="default"?"":Qt(p)}`,p)),l===!1?m:{[l]:m}})}function e(r){var n;const{sx:i,theme:a={}}=r||{};if(!i)return null;const o=(n=a.unstable_sxConfig)!=null?n:pg;function s(l){let u=l;if(typeof l=="function")u=l(a);else if(typeof l!="object")return l;if(!u)return null;const c=ffe(a.breakpoints),f=Object.keys(c);let h=c;return Object.keys(u).forEach(d=>{const p=Yfe(u[d],a);if(p!=null)if(typeof p=="object")if(o[d])h=dc(h,t(d,p,a,o));else{const m=La({theme:a},p,v=>({[d]:v}));Kfe(m,p)?h[d]=e({sx:p,theme:a}):h=dc(h,m)}else h=dc(h,t(d,p,a,o))}),hfe(f,h)}return Array.isArray(i)?i.map(s):s(i)}return e}const qR=Jfe();qR.filterProps=["sx"];const mg=qR,Zfe=["breakpoints","palette","spacing","shape"];function HR(t={},...e){const{breakpoints:r={},palette:n={},spacing:i,shape:a={}}=t,o=kt(t,Zfe),s=LR(r),l=UR(i);let u=In({breakpoints:s,direction:"ltr",components:{},palette:te({mode:"light"},n),spacing:l,shape:te({},cfe,a)},o);return u=e.reduce((c,f)=>In(c,f),u),u.unstable_sxConfig=te({},pg,o?.unstable_sxConfig),u.unstable_sx=function(f){return mg({sx:f,theme:this})},u}function Xfe(t){return Object.keys(t).length===0}function VR(t=null){const e=J.useContext(sg);return!e||Xfe(e)?t:e}const Qfe=HR();function gg(t=Qfe){return VR(t)}function ehe({styles:t,themeId:e,defaultTheme:r={}}){const n=gg(r),i=typeof t=="function"?t(e&&n[e]||n):t;return Te(Cd,{styles:i})}const the=["sx"],rhe=t=>{var e,r;const n={systemProps:{},otherProps:{}},i=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:pg;return Object.keys(t).forEach(a=>{i[a]?n.systemProps[a]=t[a]:n.otherProps[a]=t[a]}),n};function WR(t){const{sx:e}=t,r=kt(t,the),{systemProps:n,otherProps:i}=rhe(r);let a;return Array.isArray(e)?a=[n,...e]:typeof e=="function"?a=(...o)=>{const s=e(...o);return es(s)?te({},n,s):n}:a=te({},n,e),te({},i,{sx:a})}function jR(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=jR(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Bo(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=jR(t))&&(n&&(n+=" "),n+=e);return n}const nhe=["className","component"];function ihe(t={}){const{themeId:e,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=t,a=IR("div",{shouldForwardProp:s=>s!=="theme"&&s!=="sx"&&s!=="as"})(mg);return J.forwardRef(function(l,u){const c=gg(r),f=WR(l),{className:h,component:d="div"}=f,p=kt(f,nhe);return Te(a,te({as:d,ref:u,className:Bo(h,i?i(n):n),theme:e&&c[e]||c},p))})}const ahe=["variant"];function KN(t){return t.length===0}function GR(t){const{variant:e}=t,r=kt(t,ahe);let n=e||"";return Object.keys(r).sort().forEach(i=>{i==="color"?n+=KN(n)?t[i]:Qt(t[i]):n+=`${KN(n)?i:Qt(i)}${Qt(t[i].toString())}`}),n}const ohe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function she(t){return Object.keys(t).length===0}function lhe(t){return typeof t=="string"&&t.charCodeAt(0)>96}const uhe=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,che=(t,e)=>{let r=[];e&&e.components&&e.components[t]&&e.components[t].variants&&(r=e.components[t].variants);const n={};return r.forEach(i=>{const a=GR(i.props);n[a]=i.style}),n},fhe=(t,e,r,n)=>{var i,a;const{ownerState:o={}}=t,s=[],l=r==null||(i=r.components)==null||(a=i[n])==null?void 0:a.variants;return l&&l.forEach(u=>{let c=!0;Object.keys(u.props).forEach(f=>{o[f]!==u.props[f]&&t[f]!==u.props[f]&&(c=!1)}),c&&s.push(e[GR(u.props)])}),s};function Lv(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const hhe=HR();function zu({defaultTheme:t,theme:e,themeId:r}){return she(e)?t:e[r]||e}function dhe(t={}){const{themeId:e,defaultTheme:r=hhe,rootShouldForwardProp:n=Lv,slotShouldForwardProp:i=Lv}=t,a=o=>mg(te({},o,{theme:zu(te({},o,{defaultTheme:r,themeId:e}))}));return a.__mui_systemSx=!0,(o,s={})=>{ofe(o,w=>w.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:f,overridesResolver:h}=s,d=kt(s,ohe),p=c!==void 0?c:u&&u!=="Root"||!1,m=f||!1;let v,g=Lv;u==="Root"?g=n:u?g=i:lhe(o)&&(g=void 0);const b=IR(o,te({shouldForwardProp:g,label:v},d)),y=(w,...S)=>{const x=S?S.map(D=>typeof D=="function"&&D.__emotion_real!==D?M=>D(te({},M,{theme:zu(te({},M,{defaultTheme:r,themeId:e}))})):D):[];let C=w;l&&h&&x.push(D=>{const M=zu(te({},D,{defaultTheme:r,themeId:e})),k=uhe(l,M);if(k){const $={};return Object.entries(k).forEach(([I,F])=>{$[I]=typeof F=="function"?F(te({},D,{theme:M})):F}),h(D,$)}return null}),l&&!p&&x.push(D=>{const M=zu(te({},D,{defaultTheme:r,themeId:e}));return fhe(D,che(l,M),M,l)}),m||x.push(a);const A=x.length-S.length;if(Array.isArray(w)&&A>0){const D=new Array(A).fill("");C=[...w,...D],C.raw=[...w.raw,...D]}else typeof w=="function"&&w.__emotion_real!==w&&(C=D=>w(te({},D,{theme:zu(te({},D,{defaultTheme:r,themeId:e}))})));const E=b(C,...x);return o.muiName&&(E.muiName=o.muiName),E};return b.withConfig&&(y.withConfig=b.withConfig),y}}function phe(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:mR(e.components[r].defaultProps,n)}function mhe({props:t,name:e,defaultTheme:r,themeId:n}){let i=gg(r);return n&&(i=i[n]||i),phe({theme:i,name:e,props:t})}function ghe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function KR(t){if(t.type)return t;if(t.charAt(0)==="#")return KR(ghe(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(zp(9,t));let n=t.substring(e+1,t.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(zp(10,i))}else n=n.split(",");return n=n.map(a=>parseFloat(a)),{type:r,values:n,colorSpace:i}}const Ws=t=>{const e=KR(t);return e.values.slice(0,3).map((r,n)=>e.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")},vhe=J.createContext(null),YR=vhe;function Ib(){return J.useContext(YR)}const yhe=typeof Symbol=="function"&&Symbol.for,xhe=yhe?Symbol.for("mui.nested"):"__THEME_NESTED__";function bhe(t,e){return typeof e=="function"?e(t):{...t,...e}}function whe(t){const{children:e,theme:r}=t,n=Ib(),i=J.useMemo(()=>{const a=n===null?r:bhe(n,r);return a!=null&&(a[xhe]=n!==null),a},[r,n]);return Te(YR.Provider,{value:i,children:e})}const YN={};function JN(t,e,r,n=!1){return J.useMemo(()=>{const i=t&&e[t]||e;if(typeof r=="function"){const a=r(i),o=t?te({},e,{[t]:a}):a;return n?()=>o:o}return t?te({},e,{[t]:r}):te({},e,r)},[t,e,r,n])}function She(t){const{children:e,theme:r,themeId:n}=t,i=VR(YN),a=Ib()||YN,o=JN(n,i,r),s=JN(n,a,r,!0);return Te(whe,{theme:s,children:Te(sg.Provider,{value:o,children:e})})}const Lb="mode",_b="color-scheme",JR="data-color-scheme";function Che(t){const{defaultMode:e="light",defaultLightColorScheme:r="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=Lb,colorSchemeStorageKey:a=_b,attribute:o=JR,colorSchemeNode:s="document.documentElement"}=t||{};return Te("script",{dangerouslySetInnerHTML:{__html:`(function() { try {
        var mode = localStorage.getItem('${i}') || '${e}';
        var cssColorScheme = mode;
        var colorScheme = '';
        if (mode === 'system') {
          // handle system mode
          var mql = window.matchMedia('(prefers-color-scheme: dark)');
          if (mql.matches) {
            cssColorScheme = 'dark';
            colorScheme = localStorage.getItem('${a}-dark') || '${n}';
          } else {
            cssColorScheme = 'light';
            colorScheme = localStorage.getItem('${a}-light') || '${r}';
          }
        }
        if (mode === 'light') {
          colorScheme = localStorage.getItem('${a}-light') || '${r}';
        }
        if (mode === 'dark') {
          colorScheme = localStorage.getItem('${a}-dark') || '${n}';
        }
        if (colorScheme) {
          ${s}.setAttribute('${o}', colorScheme);
        }
      } catch (e) {} })();`}},"mui-color-scheme-init")}function ZN(t){if(typeof window<"u"&&t==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function ZR(t,e){if(t.mode==="light"||t.mode==="system"&&t.systemMode==="light")return e("light");if(t.mode==="dark"||t.mode==="system"&&t.systemMode==="dark")return e("dark")}function Dhe(t){return ZR(t,e=>{if(e==="light")return t.lightColorScheme;if(e==="dark")return t.darkColorScheme})}function _v(t,e){if(typeof window>"u")return;let r;try{r=localStorage.getItem(t)||void 0,r||localStorage.setItem(t,e)}catch{}return r||e}function Ahe(t){const{defaultMode:e="light",defaultLightColorScheme:r,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:a=Lb,colorSchemeStorageKey:o=_b,storageWindow:s=typeof window>"u"?void 0:window}=t,l=i.join(","),[u,c]=J.useState(()=>{const v=_v(a,e),g=_v(`${o}-light`,r),b=_v(`${o}-dark`,n);return{mode:v,systemMode:ZN(v),lightColorScheme:g,darkColorScheme:b}}),f=Dhe(u),h=J.useCallback(v=>{c(g=>{if(v===g.mode)return g;const b=v||e;try{localStorage.setItem(a,b)}catch{}return te({},g,{mode:b,systemMode:ZN(b)})})},[a,e]),d=J.useCallback(v=>{v?typeof v=="string"?v&&!l.includes(v)?console.error(`\`${v}\` does not exist in \`theme.colorSchemes\`.`):c(g=>{const b=te({},g);return ZR(g,y=>{try{localStorage.setItem(`${o}-${y}`,v)}catch{}y==="light"&&(b.lightColorScheme=v),y==="dark"&&(b.darkColorScheme=v)}),b}):c(g=>{const b=te({},g),y=v.light===null?r:v.light,w=v.dark===null?n:v.dark;if(y)if(!l.includes(y))console.error(`\`${y}\` does not exist in \`theme.colorSchemes\`.`);else{b.lightColorScheme=y;try{localStorage.setItem(`${o}-light`,y)}catch{}}if(w)if(!l.includes(w))console.error(`\`${w}\` does not exist in \`theme.colorSchemes\`.`);else{b.darkColorScheme=w;try{localStorage.setItem(`${o}-dark`,w)}catch{}}return b}):c(g=>{try{localStorage.setItem(`${o}-light`,r),localStorage.setItem(`${o}-dark`,n)}catch{}return te({},g,{lightColorScheme:r,darkColorScheme:n})})},[l,o,r,n]),p=J.useCallback(v=>{u.mode==="system"&&c(g=>te({},g,{systemMode:v!=null&&v.matches?"dark":"light"}))},[u.mode]),m=J.useRef(p);return m.current=p,J.useEffect(()=>{const v=(...b)=>m.current(...b),g=window.matchMedia("(prefers-color-scheme: dark)");return g.addListener(v),v(g),()=>g.removeListener(v)},[]),J.useEffect(()=>{const v=g=>{const b=g.newValue;typeof g.key=="string"&&g.key.startsWith(o)&&(!b||l.match(b))&&(g.key.endsWith("light")&&d({light:b}),g.key.endsWith("dark")&&d({dark:b})),g.key===a&&(!b||["light","dark","system"].includes(b))&&h(b||e)};if(s)return s.addEventListener("storage",v),()=>s.removeEventListener("storage",v)},[d,h,a,o,l,e,s]),te({},u,{colorScheme:f,setMode:h,setColorScheme:d})}const Ehe=["colorSchemes","components","generateCssVars","cssVarPrefix"],Nhe="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Mhe(t){const{themeId:e,theme:r={},attribute:n=JR,modeStorageKey:i=Lb,colorSchemeStorageKey:a=_b,defaultMode:o="light",defaultColorScheme:s,disableTransitionOnChange:l=!1,resolveTheme:u,excludeVariablesFromRoot:c}=t;(!r.colorSchemes||typeof s=="string"&&!r.colorSchemes[s]||typeof s=="object"&&!r.colorSchemes[s?.light]||typeof s=="object"&&!r.colorSchemes[s?.dark])&&console.error(`MUI: \`${s}\` does not exist in \`theme.colorSchemes\`.`);const f=J.createContext(void 0),h=()=>{const g=J.useContext(f);if(!g)throw new Error(zp(19));return g};function d({children:g,theme:b=r,modeStorageKey:y=i,colorSchemeStorageKey:w=a,attribute:S=n,defaultMode:x=o,defaultColorScheme:C=s,disableTransitionOnChange:A=l,storageWindow:E=typeof window>"u"?void 0:window,documentNode:D=typeof document>"u"?void 0:document,colorSchemeNode:M=typeof document>"u"?void 0:document.documentElement,colorSchemeSelector:k=":root",disableNestedContext:$=!1,disableStyleSheetGeneration:I=!1}){const F=J.useRef(!1),N=Ib(),T=J.useContext(f),R=!!T&&!$,O=b[e],P=O||b,{colorSchemes:V={},components:W={},generateCssVars:L=()=>({vars:{},css:{}}),cssVarPrefix:G}=P,ee=kt(P,Ehe),Z=Object.keys(V),se=typeof C=="string"?C:C.light,he=typeof C=="string"?C:C.dark,{mode:le,setMode:ne,systemMode:xe,lightColorScheme:Se,darkColorScheme:me,colorScheme:Ce,setColorScheme:q}=Ahe({supportedColorSchemes:Z,defaultLightColorScheme:se,defaultDarkColorScheme:he,modeStorageKey:y,colorSchemeStorageKey:w,defaultMode:x,storageWindow:E});let j=le,re=Ce;R&&(j=T.mode,re=T.colorScheme);const H=(()=>j||(x==="system"?o:x))(),Y=(()=>re||(H==="dark"?he:se))(),{css:Q,vars:ge}=L(),ce=te({},ee,{components:W,colorSchemes:V,cssVarPrefix:G,vars:ge,getColorSchemeSelector:fe=>`[${S}="${fe}"] &`}),z={},U={};Object.entries(V).forEach(([fe,ve])=>{const{css:pe,vars:we}=L(fe);ce.vars=In(ce.vars,we),fe===Y&&(Object.keys(ve).forEach(Pe=>{ve[Pe]&&typeof ve[Pe]=="object"?ce[Pe]=te({},ce[Pe],ve[Pe]):ce[Pe]=ve[Pe]}),ce.palette&&(ce.palette.colorScheme=fe));const Fe=(()=>typeof C=="string"?C:x==="dark"?C.dark:C.light)();if(fe===Fe){if(c){const Pe={};c(G).forEach(Me=>{Pe[Me]=pe[Me],delete pe[Me]}),z[`[${S}="${fe}"]`]=Pe}z[`${k}, [${S}="${fe}"]`]=pe}else U[`${k===":root"?"":k}[${S}="${fe}"]`]=pe}),ce.vars=In(ce.vars,ge),J.useEffect(()=>{re&&M&&M.setAttribute(S,re)},[re,S,M]),J.useEffect(()=>{let fe;if(A&&F.current&&D){const ve=D.createElement("style");ve.appendChild(D.createTextNode(Nhe)),D.head.appendChild(ve),window.getComputedStyle(D.body),fe=setTimeout(()=>{D.head.removeChild(ve)},1)}return()=>{clearTimeout(fe)}},[re,A,D]),J.useEffect(()=>(F.current=!0,()=>{F.current=!1}),[]);const X=J.useMemo(()=>({mode:j,systemMode:xe,setMode:ne,lightColorScheme:Se,darkColorScheme:me,colorScheme:re,setColorScheme:q,allColorSchemes:Z}),[Z,re,me,Se,j,q,ne,xe]);let oe=!0;(I||R&&N?.cssVarPrefix===G)&&(oe=!1);const de=ur(J.Fragment,{children:[oe&&ur(J.Fragment,{children:[Te(Cd,{styles:{[k]:Q}}),Te(Cd,{styles:z}),Te(Cd,{styles:U})]}),Te(She,{themeId:O?e:void 0,theme:u?u(ce):ce,children:g})]});return R?de:Te(f.Provider,{value:X,children:de})}const p=typeof s=="string"?s:s.light,m=typeof s=="string"?s:s.dark;return{CssVarsProvider:d,useColorScheme:h,getInitColorSchemeScript:g=>Che(te({attribute:n,colorSchemeStorageKey:a,defaultMode:o,defaultLightColorScheme:p,defaultDarkColorScheme:m,modeStorageKey:i},g))}}function zb(t=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${t?`${t}-`:""}${n}${e(...i)})`}const XN=(t,e,r,n=[])=>{let i=t;e.forEach((a,o)=>{o===e.length-1?Array.isArray(i)?i[Number(a)]=r:i&&typeof i=="object"&&(i[a]=r):i&&typeof i=="object"&&(i[a]||(i[a]=n.includes(a)?[]:{}),i=i[a])})},The=(t,e,r)=>{function n(i,a=[],o=[]){Object.entries(i).forEach(([s,l])=>{(!r||r&&!r([...a,s]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?n(l,[...a,s],Array.isArray(l)?[...o,s]:o):e([...a,s],l,o))})}n(t)},khe=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>t.includes(n))||t[t.length-1].toLowerCase().indexOf("opacity")>=0?e:`${e}px`:e;function zv(t,e){const{prefix:r,shouldSkipGeneratingVar:n}=e||{},i={},a={},o={};return The(t,(s,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(s,l))){const c=`--${r?`${r}-`:""}${s.join("-")}`;Object.assign(i,{[c]:khe(s,l)}),XN(a,s,`var(${c})`,u),XN(o,s,`var(${c}, ${l})`,u)}},s=>s[0]==="vars"),{css:i,vars:a,varsWithDefaults:o}}const Ohe=["colorSchemes","components"],Bhe=["light"];function Fhe(t,e){const{colorSchemes:r={}}=t,n=kt(t,Ohe),{vars:i,css:a,varsWithDefaults:o}=zv(n,e);let s=o;const l={},{light:u}=r,c=kt(r,Bhe);if(Object.entries(c||{}).forEach(([h,d])=>{const{vars:p,css:m,varsWithDefaults:v}=zv(d,e);s=In(s,v),l[h]={css:m,vars:p}}),u){const{css:h,vars:d,varsWithDefaults:p}=zv(u,e);s=In(s,p),l.light={css:h,vars:d}}return{vars:s,generateCssVars:h=>h?{css:te({},l[h].css),vars:l[h].vars}:{css:te({},a),vars:i}}}const Va=(t,e)=>Eb(t,e,"Joy"),Uo=(t,e)=>vR(t,e,"Joy"),$he=te({},pg,{borderRadius:{themeKey:"radius"},boxShadow:{themeKey:"shadow"},fontFamily:{themeKey:"fontFamily"},fontSize:{themeKey:"fontSize"},fontWeight:{themeKey:"fontWeight"},letterSpacing:{themeKey:"letterSpacing"},lineHeight:{themeKey:"lineHeight"}}),Rhe=$he,Phe={grey:{50:"#F7F7F8",100:"#EBEBEF",200:"#D8D8DF",300:"#B9B9C6",400:"#8F8FA3",500:"#73738C",600:"#5A5A72",700:"#434356",800:"#25252D",900:"#131318"},blue:{50:"#F4FAFF",100:"#DDF1FF",200:"#ADDBFF",300:"#6FB6FF",400:"#3990FF",500:"#096BDE",600:"#054DA7",700:"#02367D",800:"#072859",900:"#00153C"},yellow:{50:"#FFF8C5",100:"#FAE17D",200:"#EAC54F",300:"#D4A72C",400:"#BF8700",500:"#9A6700",600:"#7D4E00",700:"#633C01",800:"#4D2D00",900:"#3B2300"},red:{50:"#FFF8F6",100:"#FFE9E8",200:"#FFC7C5",300:"#FF9192",400:"#FA5255",500:"#D3232F",600:"#A10E25",700:"#77061B",800:"#580013",900:"#39000D"},green:{50:"#F3FEF5",100:"#D7F5DD",200:"#77EC95",300:"#4CC76E",400:"#2CA24D",500:"#1A7D36",600:"#0F5D26",700:"#034318",800:"#002F0F",900:"#001D09"},purple:{50:"#FDF7FF",100:"#F4EAFF",200:"#E1CBFF",300:"#C69EFF",400:"#A374F9",500:"#814DDE",600:"#5F35AE",700:"#452382",800:"#301761",900:"#1D0A42"}},js=Phe;function Ihe(t){var e;return!!t[0].match(/^(typography|variants|breakpoints|colorInversion|colorInversionConfig)$/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/^(mode)$/))||t[0]==="focus"&&t[1]!=="thickness"}const Ub=t=>t&&typeof t=="object"&&Object.keys(t).some(e=>{var r;return(r=e.match)==null?void 0:r.call(e,/^(plain(Hover|Active|Disabled)?(Color|Bg)|outlined(Hover|Active|Disabled)?(Color|Border|Bg)|soft(Hover|Active|Disabled)?(Color|Bg)|solid(Hover|Active|Disabled)?(Color|Bg))$/)}),QN=(t,e,r)=>{e.includes("Color")&&(t.color=r),e.includes("Bg")&&(t.backgroundColor=r),e.includes("Border")&&(t.borderColor=r)},eM=(t,e,r)=>{const n={};return Object.entries(e||{}).forEach(([i,a])=>{if(i.match(new RegExp(`${t}(color|bg|border)`,"i"))&&a){const o=r?r(i):a;i.includes("Disabled")&&(n.pointerEvents="none",n.cursor="default"),i.match(/(Hover|Active|Disabled)/)||(n["--variant-borderWidth"]||(n["--variant-borderWidth"]="0px"),i.includes("Border")&&(n["--variant-borderWidth"]="1px",n.border="var(--variant-borderWidth) solid")),QN(n,i,o)}}),n},XR=t=>e=>`--${t?`${t}-`:""}${e.replace(/^--/,"")}`,Vr=(t,e)=>{let r={};if(e){const{getCssVar:n,palette:i}=e;Object.entries(i).forEach(a=>{const[o,s]=a;Ub(s)&&typeof s=="object"&&(r=te({},r,{[o]:eM(t,s,l=>n(`palette-${o}-${l}`,i[o][l]))}))})}return r.context=eM(t,{plainColor:"var(--variant-plainColor)",plainHoverColor:"var(--variant-plainHoverColor)",plainHoverBg:"var(--variant-plainHoverBg)",plainActiveBg:"var(--variant-plainActiveBg)",plainDisabledColor:"var(--variant-plainDisabledColor)",outlinedColor:"var(--variant-outlinedColor)",outlinedBorder:"var(--variant-outlinedBorder)",outlinedHoverColor:"var(--variant-outlinedHoverColor)",outlinedHoverBorder:"var(--variant-outlinedHoverBorder)",outlinedHoverBg:"var(--variant-outlinedHoverBg)",outlinedActiveBg:"var(--variant-outlinedActiveBg)",outlinedDisabledColor:"var(--variant-outlinedDisabledColor)",outlinedDisabledBorder:"var(--variant-outlinedDisabledBorder)",softColor:"var(--variant-softColor)",softBg:"var(--variant-softBg)",softHoverColor:"var(--variant-softHoverColor)",softHoverBg:"var(--variant-softHoverBg)",softActiveBg:"var(--variant-softActiveBg)",softDisabledColor:"var(--variant-softDisabledColor)",softDisabledBg:"var(--variant-softDisabledBg)",solidColor:"var(--variant-solidColor)",solidBg:"var(--variant-solidBg)",solidHoverColor:"var(--variant-solidHoverColor)",solidHoverBg:"var(--variant-solidHoverBg)",solidActiveBg:"var(--variant-solidActiveBg)",solidDisabledColor:"var(--variant-solidDisabledColor)",solidDisabledBg:"var(--variant-solidDisabledBg)"}),r},QR=(t,e)=>{const r=zb(t.cssVarPrefix),n=XR(t.cssVarPrefix),i={},a=e?o=>{var s,l;const u=o.split("-"),c=u[1],f=u[2];return r(o,(s=t.palette)==null||(l=s[c])==null?void 0:l[f])}:r;return Object.entries(t.palette).forEach(o=>{const[s,l]=o;Ub(l)&&(i[s]={"--Badge-ringColor":a(`palette-${s}-softBg`),[n("--shadowChannel")]:a(`palette-${s}-darkChannel`),[t.getColorSchemeSelector("dark")]:{[n("--palette-focusVisible")]:a(`palette-${s}-300`),[n("--palette-background-body")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.1)`,[n("--palette-background-surface")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.08)`,[n("--palette-background-level1")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.2)`,[n("--palette-background-level2")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.4)`,[n("--palette-background-level3")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.6)`,[n("--palette-text-primary")]:a(`palette-${s}-100`),[n("--palette-text-secondary")]:`rgba(${a(`palette-${s}-lightChannel`)} / 0.72)`,[n("--palette-text-tertiary")]:`rgba(${a(`palette-${s}-lightChannel`)} / 0.6)`,[n("--palette-divider")]:`rgba(${a(`palette-${s}-lightChannel`)} / 0.2)`,"--variant-plainColor":`rgba(${a(`palette-${s}-lightChannel`)} / 1)`,"--variant-plainHoverColor":a(`palette-${s}-50`),"--variant-plainHoverBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.16)`,"--variant-plainActiveBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.72)`,"--variant-outlinedColor":`rgba(${a(`palette-${s}-lightChannel`)} / 1)`,"--variant-outlinedHoverColor":a(`palette-${s}-50`),"--variant-outlinedBg":"initial","--variant-outlinedBorder":`rgba(${a(`palette-${s}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverBorder":a(`palette-${s}-600`),"--variant-outlinedHoverBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.16)`,"--variant-outlinedActiveBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":`rgba(${a(`palette-${s}-mainChannel`)} / 0.2)`,"--variant-softColor":a(`palette-${s}-100`),"--variant-softBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.24)`,"--variant-softHoverColor":"#fff","--variant-softHoverBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.32)`,"--variant-softActiveBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.48)`,"--variant-softDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.12)`,"--variant-solidColor":"#fff","--variant-solidBg":a(`palette-${s}-500`),"--variant-solidHoverColor":"#fff","--variant-solidHoverBg":a(`palette-${s}-400`),"--variant-solidActiveBg":a(`palette-${s}-400`),"--variant-solidDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.12)`},[t.getColorSchemeSelector("light")]:{[n("--palette-focusVisible")]:a(`palette-${s}-500`),[n("--palette-background-body")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.1)`,[n("--palette-background-surface")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.08)`,[n("--palette-background-level1")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.2)`,[n("--palette-background-level2")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.32)`,[n("--palette-background-level3")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.48)`,[n("--palette-text-primary")]:a(`palette-${s}-700`),[n("--palette-text-secondary")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.8)`,[n("--palette-text-tertiary")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.68)`,[n("--palette-divider")]:`rgba(${a(`palette-${s}-mainChannel`)} / 0.32)`,"--variant-plainColor":`rgba(${a(`palette-${s}-darkChannel`)} / 0.8)`,"--variant-plainHoverColor":`rgba(${a(`palette-${s}-darkChannel`)} / 1)`,"--variant-plainHoverBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.24)`,"--variant-plainDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.6)`,"--variant-outlinedColor":`rgba(${a(`palette-${s}-mainChannel`)} / 1)`,"--variant-outlinedBorder":`rgba(${a(`palette-${s}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverColor":a(`palette-${s}-600`),"--variant-outlinedHoverBorder":a(`palette-${s}-300`),"--variant-outlinedHoverBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.24)`,"--variant-outlinedDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.6)`,"--variant-outlinedDisabledBorder":`rgba(${a(`palette-${s}-mainChannel`)} / 0.12)`,"--variant-softColor":a(`palette-${s}-600`),"--variant-softBg":`rgba(${a(`palette-${s}-lightChannel`)} / 0.72)`,"--variant-softHoverColor":a(`palette-${s}-700`),"--variant-softHoverBg":a(`palette-${s}-200`),"--variant-softActiveBg":a(`palette-${s}-300`),"--variant-softDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.6)`,"--variant-softDisabledBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.08)`,"--variant-solidColor":a("palette-common-white"),"--variant-solidBg":a(`palette-${s}-600`),"--variant-solidHoverColor":a("palette-common-white"),"--variant-solidHoverBg":a(`palette-${s}-500`),"--variant-solidActiveBg":a(`palette-${s}-500`),"--variant-solidDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.6)`,"--variant-solidDisabledBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.08)`}})}),i},e5=(t,e)=>{const r=zb(t.cssVarPrefix),n=XR(t.cssVarPrefix),i={},a=e?o=>{const s=o.split("-"),l=s[1],u=s[2];return r(o,t.palette[l][u])}:r;return Object.entries(t.palette).forEach(o=>{const[s,l]=o;Ub(l)&&(s==="warning"?i.warning={"--Badge-ringColor":a(`palette-${s}-solidBg`),[n("--shadowChannel")]:a(`palette-${s}-darkChannel`),[n("--palette-focusVisible")]:a(`palette-${s}-700`),[n("--palette-background-body")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.16)`,[n("--palette-background-surface")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.1)`,[n("--palette-background-popup")]:a(`palette-${s}-100`),[n("--palette-background-level1")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.2)`,[n("--palette-background-level2")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.36)`,[n("--palette-background-level3")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.6)`,[n("--palette-text-primary")]:a(`palette-${s}-900`),[n("--palette-text-secondary")]:a(`palette-${s}-700`),[n("--palette-text-tertiary")]:a(`palette-${s}-500`),[n("--palette-divider")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.2)`,"--variant-plainColor":a(`palette-${s}-700`),"--variant-plainHoverColor":a(`palette-${s}-800`),"--variant-plainHoverBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.72)`,"--variant-outlinedColor":a(`palette-${s}-700`),"--variant-outlinedBorder":`rgba(${a(`palette-${s}-mainChannel`)} / 0.5)`,"--variant-outlinedHoverColor":a(`palette-${s}-800`),"--variant-outlinedHoverBorder":`rgba(${a(`palette-${s}-mainChannel`)} / 0.6)`,"--variant-outlinedHoverBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":`rgba(${a(`palette-${s}-mainChannel`)} / 0.2)`,"--variant-softColor":a(`palette-${s}-800`),"--variant-softHoverColor":a(`palette-${s}-900`),"--variant-softBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.2)`,"--variant-softHoverBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.28)`,"--variant-softActiveBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.12)`,"--variant-softDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.08)`,"--variant-solidColor":"#fff","--variant-solidBg":a(`palette-${s}-600`),"--variant-solidHoverColor":"#fff","--variant-solidHoverBg":a(`palette-${s}-700`),"--variant-solidActiveBg":a(`palette-${s}-800`),"--variant-solidDisabledColor":`rgba(${a(`palette-${s}-mainChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${a(`palette-${s}-mainChannel`)} / 0.08)`}:i[s]={colorScheme:"dark","--Badge-ringColor":a(`palette-${s}-solidBg`),[n("--shadowChannel")]:a(`palette-${s}-darkChannel`),[n("--palette-focusVisible")]:a(`palette-${s}-200`),[n("--palette-background-body")]:"rgba(0 0 0 / 0.1)",[n("--palette-background-surface")]:"rgba(0 0 0 / 0.06)",[n("--palette-background-popup")]:a(`palette-${s}-700`),[n("--palette-background-level1")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.2)`,[n("--palette-background-level2")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.36)`,[n("--palette-background-level3")]:`rgba(${a(`palette-${s}-darkChannel`)} / 0.6)`,[n("--palette-text-primary")]:a("palette-common-white"),[n("--palette-text-secondary")]:a(`palette-${s}-100`),[n("--palette-text-tertiary")]:a(`palette-${s}-200`),[n("--palette-divider")]:`rgba(${a(`palette-${s}-lightChannel`)} / 0.32)`,"--variant-plainColor":a(`palette-${s}-50`),"--variant-plainHoverColor":"#fff","--variant-plainHoverBg":`rgba(${a(`palette-${s}-lightChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${a(`palette-${s}-lightChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${a(`palette-${s}-lightChannel`)} / 0.72)`,"--variant-outlinedColor":a(`palette-${s}-50`),"--variant-outlinedBorder":`rgba(${a(`palette-${s}-lightChannel`)} / 0.5)`,"--variant-outlinedHoverColor":"#fff","--variant-outlinedHoverBorder":a(`palette-${s}-300`),"--variant-outlinedHoverBg":`rgba(${a(`palette-${s}-lightChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${a(`palette-${s}-lightChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${a(`palette-${s}-lightChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":"rgba(255 255 255 / 0.2)","--variant-softColor":a("palette-common-white"),"--variant-softHoverColor":a("palette-common-white"),"--variant-softBg":`rgba(${a(`palette-${s}-lightChannel`)} / 0.24)`,"--variant-softHoverBg":`rgba(${a(`palette-${s}-lightChannel`)} / 0.36)`,"--variant-softActiveBg":`rgba(${a(`palette-${s}-lightChannel`)} / 0.16)`,"--variant-softDisabledColor":`rgba(${a(`palette-${s}-lightChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${a(`palette-${s}-lightChannel`)} / 0.1)`,"--variant-solidColor":a(`palette-${s}-${s==="neutral"?"600":"500"}`),"--variant-solidBg":a("palette-common-white"),"--variant-solidHoverColor":a(`palette-${s}-700`),"--variant-solidHoverBg":a("palette-common-white"),"--variant-solidActiveBg":a(`palette-${s}-200`),"--variant-solidDisabledColor":`rgba(${a(`palette-${s}-lightChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${a(`palette-${s}-lightChannel`)} / 0.1)`})}),i},Lhe=["cssVarPrefix","breakpoints","spacing","components","variants","colorInversion","shouldSkipGeneratingVar"],_he=["colorSchemes"],zhe=(t="joy")=>zb(t);function Uhe(t){var e,r,n,i,a,o,s,l,u,c,f,h,d,p,m,v,g,b,y,w,S,x,C,A,E,D,M,k,$,I,F,N,T,R,O,P,V,W,L,G,ee,Z,se,he,le,ne,xe,Se,me,Ce,q,j,re,H,Y,Q,ge,ce,z,U,X,oe,de,fe,ve,pe,we,Fe,Pe,Me,lt,Ge,mt,B,K,ae,Ae,Le,Ve,Yt,sr,$i;const Vo=t||{},{cssVarPrefix:pa="joy",breakpoints:Of,spacing:yg,components:xg,variants:bg,colorInversion:Su,shouldSkipGeneratingVar:Bf=Ihe}=Vo,it=kt(Vo,Lhe),Ee=zhe(pa),lr={primary:js.blue,neutral:js.grey,danger:js.red,info:js.purple,success:js.green,warning:js.yellow,common:{white:"#FFF",black:"#09090D"}},ue=Be=>{var Tt;const Ut=Be.split("-"),xr=Ut[1],If=Ut[2];return Ee(Be,(Tt=lr[xr])==null?void 0:Tt[If])},Wo=Be=>({plainColor:ue(`palette-${Be}-600`),plainHoverBg:ue(`palette-${Be}-100`),plainActiveBg:ue(`palette-${Be}-200`),plainDisabledColor:ue(`palette-${Be}-200`),outlinedColor:ue(`palette-${Be}-500`),outlinedBorder:ue(`palette-${Be}-200`),outlinedHoverBg:ue(`palette-${Be}-100`),outlinedHoverBorder:ue(`palette-${Be}-300`),outlinedActiveBg:ue(`palette-${Be}-200`),outlinedDisabledColor:ue(`palette-${Be}-100`),outlinedDisabledBorder:ue(`palette-${Be}-100`),softColor:ue(`palette-${Be}-600`),softBg:ue(`palette-${Be}-100`),softHoverBg:ue(`palette-${Be}-200`),softActiveBg:ue(`palette-${Be}-300`),softDisabledColor:ue(`palette-${Be}-300`),softDisabledBg:ue(`palette-${Be}-50`),solidColor:"#fff",solidBg:ue(`palette-${Be}-500`),solidHoverBg:ue(`palette-${Be}-600`),solidActiveBg:ue(`palette-${Be}-700`),solidDisabledColor:"#fff",solidDisabledBg:ue(`palette-${Be}-200`)}),jo=Be=>({plainColor:ue(`palette-${Be}-300`),plainHoverBg:ue(`palette-${Be}-800`),plainActiveBg:ue(`palette-${Be}-700`),plainDisabledColor:ue(`palette-${Be}-800`),outlinedColor:ue(`palette-${Be}-200`),outlinedBorder:ue(`palette-${Be}-700`),outlinedHoverBg:ue(`palette-${Be}-800`),outlinedHoverBorder:ue(`palette-${Be}-600`),outlinedActiveBg:ue(`palette-${Be}-900`),outlinedDisabledColor:ue(`palette-${Be}-800`),outlinedDisabledBorder:ue(`palette-${Be}-800`),softColor:ue(`palette-${Be}-200`),softBg:ue(`palette-${Be}-900`),softHoverBg:ue(`palette-${Be}-800`),softActiveBg:ue(`palette-${Be}-700`),softDisabledColor:ue(`palette-${Be}-800`),softDisabledBg:ue(`palette-${Be}-900`),solidColor:"#fff",solidBg:ue(`palette-${Be}-600`),solidHoverBg:ue(`palette-${Be}-700`),solidActiveBg:ue(`palette-${Be}-800`),solidDisabledColor:ue(`palette-${Be}-700`),solidDisabledBg:ue(`palette-${Be}-900`)}),Je={palette:{mode:"light",primary:te({},lr.primary,Wo("primary")),neutral:te({},lr.neutral,{plainColor:ue("palette-neutral-800"),plainHoverColor:ue("palette-neutral-900"),plainHoverBg:ue("palette-neutral-100"),plainActiveBg:ue("palette-neutral-200"),plainDisabledColor:ue("palette-neutral-300"),outlinedColor:ue("palette-neutral-800"),outlinedBorder:ue("palette-neutral-200"),outlinedHoverColor:ue("palette-neutral-900"),outlinedHoverBg:ue("palette-neutral-100"),outlinedHoverBorder:ue("palette-neutral-300"),outlinedActiveBg:ue("palette-neutral-200"),outlinedDisabledColor:ue("palette-neutral-300"),outlinedDisabledBorder:ue("palette-neutral-100"),softColor:ue("palette-neutral-800"),softBg:ue("palette-neutral-100"),softHoverColor:ue("palette-neutral-900"),softHoverBg:ue("palette-neutral-200"),softActiveBg:ue("palette-neutral-300"),softDisabledColor:ue("palette-neutral-300"),softDisabledBg:ue("palette-neutral-50"),solidColor:ue("palette-common-white"),solidBg:ue("palette-neutral-600"),solidHoverBg:ue("palette-neutral-700"),solidActiveBg:ue("palette-neutral-800"),solidDisabledColor:ue("palette-neutral-300"),solidDisabledBg:ue("palette-neutral-50")}),danger:te({},lr.danger,Wo("danger")),info:te({},lr.info,Wo("info")),success:te({},lr.success,Wo("success")),warning:te({},lr.warning,Wo("warning"),{solidColor:ue("palette-warning-800"),solidBg:ue("palette-warning-200"),solidHoverBg:ue("palette-warning-300"),solidActiveBg:ue("palette-warning-400"),solidDisabledColor:ue("palette-warning-200"),solidDisabledBg:ue("palette-warning-50"),softColor:ue("palette-warning-800"),softBg:ue("palette-warning-50"),softHoverBg:ue("palette-warning-100"),softActiveBg:ue("palette-warning-200"),softDisabledColor:ue("palette-warning-200"),softDisabledBg:ue("palette-warning-50"),outlinedColor:ue("palette-warning-800"),outlinedHoverBg:ue("palette-warning-50"),plainColor:ue("palette-warning-800"),plainHoverBg:ue("palette-warning-50")}),common:{white:"#FFF",black:"#09090D"},text:{primary:ue("palette-neutral-800"),secondary:ue("palette-neutral-600"),tertiary:ue("palette-neutral-500")},background:{body:ue("palette-common-white"),surface:ue("palette-common-white"),popup:ue("palette-common-white"),level1:ue("palette-neutral-50"),level2:ue("palette-neutral-100"),level3:ue("palette-neutral-200"),tooltip:ue("palette-neutral-800"),backdrop:"rgba(255 255 255 / 0.5)"},divider:`rgba(${Ee("palette-neutral-mainChannel",Ws(lr.neutral[500]))} / 0.28)`,focusVisible:ue("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"187 187 187"},wg={palette:{mode:"dark",primary:te({},lr.primary,jo("primary")),neutral:te({},lr.neutral,{plainColor:ue("palette-neutral-200"),plainHoverColor:ue("palette-neutral-50"),plainHoverBg:ue("palette-neutral-800"),plainActiveBg:ue("palette-neutral-700"),plainDisabledColor:ue("palette-neutral-700"),outlinedColor:ue("palette-neutral-200"),outlinedBorder:ue("palette-neutral-800"),outlinedHoverColor:ue("palette-neutral-50"),outlinedHoverBg:ue("palette-neutral-800"),outlinedHoverBorder:ue("palette-neutral-700"),outlinedActiveBg:ue("palette-neutral-800"),outlinedDisabledColor:ue("palette-neutral-800"),outlinedDisabledBorder:ue("palette-neutral-800"),softColor:ue("palette-neutral-200"),softBg:ue("palette-neutral-800"),softHoverColor:ue("palette-neutral-50"),softHoverBg:ue("palette-neutral-700"),softActiveBg:ue("palette-neutral-600"),softDisabledColor:ue("palette-neutral-700"),softDisabledBg:ue("palette-neutral-900"),solidColor:ue("palette-common-white"),solidBg:ue("palette-neutral-600"),solidHoverBg:ue("palette-neutral-700"),solidActiveBg:ue("palette-neutral-800"),solidDisabledColor:ue("palette-neutral-700"),solidDisabledBg:ue("palette-neutral-900")}),danger:te({},lr.danger,jo("danger")),info:te({},lr.info,jo("info")),success:te({},lr.success,jo("success"),{solidColor:"#fff",solidBg:ue("palette-success-600"),solidHoverBg:ue("palette-success-700"),solidActiveBg:ue("palette-success-800")}),warning:te({},lr.warning,jo("warning"),{solidColor:ue("palette-common-black"),solidBg:ue("palette-warning-300"),solidHoverBg:ue("palette-warning-400"),solidActiveBg:ue("palette-warning-500")}),common:{white:"#FFF",black:"#09090D"},text:{primary:ue("palette-neutral-100"),secondary:ue("palette-neutral-300"),tertiary:ue("palette-neutral-400")},background:{body:ue("palette-neutral-900"),surface:ue("palette-common-black"),popup:ue("palette-neutral-900"),level1:ue("palette-neutral-800"),level2:ue("palette-neutral-700"),level3:ue("palette-neutral-600"),tooltip:ue("palette-neutral-600"),backdrop:`rgba(${Ee("palette-neutral-darkChannel",Ws(lr.neutral[800]))} / 0.5)`},divider:`rgba(${Ee("palette-neutral-mainChannel",Ws(lr.neutral[500]))} / 0.24)`,focusVisible:ue("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"0 0 0"},Cu='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',_r=te({body:`"Public Sans", ${Ee("fontFamily-fallback",Cu)}`,display:`"Public Sans", ${Ee("fontFamily-fallback",Cu)}`,code:"Source Code Pro,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace",fallback:Cu},it.fontFamily),hi=te({xs:200,sm:300,md:500,lg:600,xl:700,xl2:800,xl3:900},it.fontWeight),zr=te({xs3:"0.5rem",xs2:"0.625rem",xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem",xl2:"1.5rem",xl3:"1.875rem",xl4:"2.25rem",xl5:"3rem",xl6:"3.75rem",xl7:"4.5rem"},it.fontSize),Ur=te({sm:1.25,md:1.5,lg:1.7},it.lineHeight),Go=te({sm:"-0.01em",md:"0.083em",lg:"0.125em"},it.letterSpacing),Ff={colorSchemes:{light:Je,dark:wg},fontSize:zr,fontFamily:_r,fontWeight:hi,focus:{thickness:"2px",selector:`&.${Va("","focusVisible")}, &:focus-visible`,default:{outlineOffset:`var(--focus-outline-offset, ${Ee("focus-thickness",(e=(r=it.focus)==null?void 0:r.thickness)!=null?e:"2px")})`,outline:`${Ee("focus-thickness",(n=(i=it.focus)==null?void 0:i.thickness)!=null?n:"2px")} solid ${Ee("palette-focusVisible",lr.primary[500])}`}},lineHeight:Ur,letterSpacing:Go,radius:{xs:"4px",sm:"8px",md:"12px",lg:"16px",xl:"20px"},shadow:{xs:`${Ee("shadowRing",(a=(o=it.colorSchemes)==null||(s=o.light)==null?void 0:s.shadowRing)!=null?a:Je.shadowRing)}, 0 1px 2px 0 rgba(${Ee("shadowChannel",(l=(u=it.colorSchemes)==null||(c=u.light)==null?void 0:c.shadowChannel)!=null?l:Je.shadowChannel)} / 0.12)`,sm:`${Ee("shadowRing",(f=(h=it.colorSchemes)==null||(d=h.light)==null?void 0:d.shadowRing)!=null?f:Je.shadowRing)}, 0.3px 0.8px 1.1px rgba(${Ee("shadowChannel",(p=(m=it.colorSchemes)==null||(v=m.light)==null?void 0:v.shadowChannel)!=null?p:Je.shadowChannel)} / 0.11), 0.5px 1.3px 1.8px -0.6px rgba(${Ee("shadowChannel",(g=(b=it.colorSchemes)==null||(y=b.light)==null?void 0:y.shadowChannel)!=null?g:Je.shadowChannel)} / 0.18), 1.1px 2.7px 3.8px -1.2px rgba(${Ee("shadowChannel",(w=(S=it.colorSchemes)==null||(x=S.light)==null?void 0:x.shadowChannel)!=null?w:Je.shadowChannel)} / 0.26)`,md:`${Ee("shadowRing",(C=(A=it.colorSchemes)==null||(E=A.light)==null?void 0:E.shadowRing)!=null?C:Je.shadowRing)}, 0.3px 0.8px 1.1px rgba(${Ee("shadowChannel",(D=(M=it.colorSchemes)==null||(k=M.light)==null?void 0:k.shadowChannel)!=null?D:Je.shadowChannel)} / 0.12), 1.1px 2.8px 3.9px -0.4px rgba(${Ee("shadowChannel",($=(I=it.colorSchemes)==null||(F=I.light)==null?void 0:F.shadowChannel)!=null?$:Je.shadowChannel)} / 0.17), 2.4px 6.1px 8.6px -0.8px rgba(${Ee("shadowChannel",(N=(T=it.colorSchemes)==null||(R=T.light)==null?void 0:R.shadowChannel)!=null?N:Je.shadowChannel)} / 0.23), 5.3px 13.3px 18.8px -1.2px rgba(${Ee("shadowChannel",(O=(P=it.colorSchemes)==null||(V=P.light)==null?void 0:V.shadowChannel)!=null?O:Je.shadowChannel)} / 0.29)`,lg:`${Ee("shadowRing",(W=(L=it.colorSchemes)==null||(G=L.light)==null?void 0:G.shadowRing)!=null?W:Je.shadowRing)}, 0.3px 0.8px 1.1px rgba(${Ee("shadowChannel",(ee=(Z=it.colorSchemes)==null||(se=Z.light)==null?void 0:se.shadowChannel)!=null?ee:Je.shadowChannel)} / 0.11), 1.8px 4.5px 6.4px -0.2px rgba(${Ee("shadowChannel",(he=(le=it.colorSchemes)==null||(ne=le.light)==null?void 0:ne.shadowChannel)!=null?he:Je.shadowChannel)} / 0.13), 3.2px 7.9px 11.2px -0.4px rgba(${Ee("shadowChannel",(xe=(Se=it.colorSchemes)==null||(me=Se.light)==null?void 0:me.shadowChannel)!=null?xe:Je.shadowChannel)} / 0.16), 4.8px 12px 17px -0.5px rgba(${Ee("shadowChannel",(Ce=(q=it.colorSchemes)==null||(j=q.light)==null?void 0:j.shadowChannel)!=null?Ce:Je.shadowChannel)} / 0.19), 7px 17.5px 24.7px -0.7px rgba(${Ee("shadowChannel",(re=(H=it.colorSchemes)==null||(Y=H.light)==null?void 0:Y.shadowChannel)!=null?re:Je.shadowChannel)} / 0.21)`,xl:`${Ee("shadowRing",(Q=(ge=it.colorSchemes)==null||(ce=ge.light)==null?void 0:ce.shadowRing)!=null?Q:Je.shadowRing)}, 0.3px 0.8px 1.1px rgba(${Ee("shadowChannel",(z=(U=it.colorSchemes)==null||(X=U.light)==null?void 0:X.shadowChannel)!=null?z:Je.shadowChannel)} / 0.11), 1.8px 4.5px 6.4px -0.2px rgba(${Ee("shadowChannel",(oe=(de=it.colorSchemes)==null||(fe=de.light)==null?void 0:fe.shadowChannel)!=null?oe:Je.shadowChannel)} / 0.13), 3.2px 7.9px 11.2px -0.4px rgba(${Ee("shadowChannel",(ve=(pe=it.colorSchemes)==null||(we=pe.light)==null?void 0:we.shadowChannel)!=null?ve:Je.shadowChannel)} / 0.16), 4.8px 12px 17px -0.5px rgba(${Ee("shadowChannel",(Fe=(Pe=it.colorSchemes)==null||(Me=Pe.light)==null?void 0:Me.shadowChannel)!=null?Fe:Je.shadowChannel)} / 0.19), 7px 17.5px 24.7px -0.7px rgba(${Ee("shadowChannel",(lt=(Ge=it.colorSchemes)==null||(mt=Ge.light)==null?void 0:mt.shadowChannel)!=null?lt:Je.shadowChannel)} / 0.21), 10.2px 25.5px 36px -0.9px rgba(${Ee("shadowChannel",(B=(K=it.colorSchemes)==null||(ae=K.light)==null?void 0:ae.shadowChannel)!=null?B:Je.shadowChannel)} / 0.24), 14.8px 36.8px 52.1px -1.1px rgba(${Ee("shadowChannel",(Ae=(Le=it.colorSchemes)==null||(Ve=Le.light)==null?void 0:Ve.shadowChannel)!=null?Ae:Je.shadowChannel)} / 0.27), 21px 52.3px 74px -1.2px rgba(${Ee("shadowChannel",(Yt=(sr=it.colorSchemes)==null||($i=sr.light)==null?void 0:$i.shadowChannel)!=null?Yt:Je.shadowChannel)} / 0.29)`},zIndex:{badge:1,table:10,popup:1e3,modal:1300,tooltip:1500},typography:{display1:{fontFamily:Ee("fontFamily-display",_r.display),fontWeight:Ee("fontWeight-xl",hi.xl.toString()),fontSize:Ee("fontSize-xl7",zr.xl7),lineHeight:Ee("lineHeight-sm",Ur.sm.toString()),letterSpacing:Ee("letterSpacing-sm",Go.sm),color:Ee("palette-text-primary",Je.palette.text.primary)},display2:{fontFamily:Ee("fontFamily-display",_r.display),fontWeight:Ee("fontWeight-xl",hi.xl.toString()),fontSize:Ee("fontSize-xl6",zr.xl6),lineHeight:Ee("lineHeight-sm",Ur.sm.toString()),letterSpacing:Ee("letterSpacing-sm",Go.sm),color:Ee("palette-text-primary",Je.palette.text.primary)},h1:{fontFamily:Ee("fontFamily-display",_r.display),fontWeight:Ee("fontWeight-lg",hi.lg.toString()),fontSize:Ee("fontSize-xl5",zr.xl5),lineHeight:Ee("lineHeight-sm",Ur.sm.toString()),letterSpacing:Ee("letterSpacing-sm",Go.sm),color:Ee("palette-text-primary",Je.palette.text.primary)},h2:{fontFamily:Ee("fontFamily-display",_r.display),fontWeight:Ee("fontWeight-lg",hi.lg.toString()),fontSize:Ee("fontSize-xl4",zr.xl4),lineHeight:Ee("lineHeight-sm",Ur.sm.toString()),letterSpacing:Ee("letterSpacing-sm",Go.sm),color:Ee("palette-text-primary",Je.palette.text.primary)},h3:{fontFamily:Ee("fontFamily-body",_r.body),fontWeight:Ee("fontWeight-md",hi.md.toString()),fontSize:Ee("fontSize-xl3",zr.xl3),lineHeight:Ee("lineHeight-sm",Ur.sm.toString()),color:Ee("palette-text-primary",Je.palette.text.primary)},h4:{fontFamily:Ee("fontFamily-body",_r.body),fontWeight:Ee("fontWeight-md",hi.md.toString()),fontSize:Ee("fontSize-xl2",zr.xl2),lineHeight:Ee("lineHeight-md",Ur.md.toString()),color:Ee("palette-text-primary",Je.palette.text.primary)},h5:{fontFamily:Ee("fontFamily-body",_r.body),fontWeight:Ee("fontWeight-md",hi.md.toString()),fontSize:Ee("fontSize-xl",zr.xl),lineHeight:Ee("lineHeight-md",Ur.md.toString()),color:Ee("palette-text-primary",Je.palette.text.primary)},h6:{fontFamily:Ee("fontFamily-body",_r.body),fontWeight:Ee("fontWeight-md",hi.md.toString()),fontSize:Ee("fontSize-lg",zr.lg),lineHeight:Ee("lineHeight-md",Ur.md.toString()),color:Ee("palette-text-primary",Je.palette.text.primary)},body1:{fontFamily:Ee("fontFamily-body",_r.body),fontSize:Ee("fontSize-md",zr.md),lineHeight:Ee("lineHeight-md",Ur.md.toString()),color:Ee("palette-text-primary",Je.palette.text.primary)},body2:{fontFamily:Ee("fontFamily-body",_r.body),fontSize:Ee("fontSize-sm",zr.sm),lineHeight:Ee("lineHeight-md",Ur.md.toString()),color:Ee("palette-text-secondary",Je.palette.text.secondary)},body3:{fontFamily:Ee("fontFamily-body",_r.body),fontSize:Ee("fontSize-xs",zr.xs),lineHeight:Ee("lineHeight-md",Ur.md.toString()),color:Ee("palette-text-tertiary",Je.palette.text.tertiary)},body4:{fontFamily:Ee("fontFamily-body",_r.body),fontSize:Ee("fontSize-xs2",zr.xs2),lineHeight:Ee("lineHeight-md",Ur.md.toString()),color:Ee("palette-text-tertiary",Je.palette.text.tertiary)},body5:{fontFamily:Ee("fontFamily-body",_r.body),fontSize:Ee("fontSize-xs3",zr.xs3),lineHeight:Ee("lineHeight-md",Ur.md.toString()),color:Ee("palette-text-tertiary",Je.palette.text.tertiary)}}},$f=it?In(Ff,it):Ff,{colorSchemes:Rf}=$f,Pf=kt($f,_he),Dr=te({colorSchemes:Rf},Pf,{breakpoints:LR(Of??{}),components:In({MuiSvgIcon:{defaultProps:{fontSize:"xl"},styleOverrides:{root:({ownerState:Be,theme:Tt})=>{var Ut;const xr=Be.instanceFontSize;return te({color:"var(--Icon-color)",margin:"var(--Icon-margin)"},Be.fontSize&&Be.fontSize!=="inherit"&&{fontSize:`var(--Icon-fontSize, ${Tt.vars.fontSize[Be.fontSize]})`},Be.color&&Be.color!=="inherit"&&Be.color!=="context"&&Tt.vars.palette[Be.color]&&{color:`rgba(${(Ut=Tt.vars.palette[Be.color])==null?void 0:Ut.mainChannel} / 1)`},Be.color==="context"&&{color:Tt.vars.palette.text.secondary},xr&&xr!=="inherit"&&{"--Icon-fontSize":Tt.vars.fontSize[xr]})}}}},xg),cssVarPrefix:pa,getCssVar:Ee,spacing:UR(yg),colorInversionConfig:{soft:["plain","outlined","soft","solid"],solid:["plain","outlined","soft","solid"]}});function Sg(Be,Tt){Object.keys(Tt).forEach(Ut=>{const xr={main:"500",light:"200",dark:"800"};Be==="dark"&&(xr.main=400),!Tt[Ut].mainChannel&&Tt[Ut][xr.main]&&(Tt[Ut].mainChannel=Ws(Tt[Ut][xr.main])),!Tt[Ut].lightChannel&&Tt[Ut][xr.light]&&(Tt[Ut].lightChannel=Ws(Tt[Ut][xr.light])),!Tt[Ut].darkChannel&&Tt[Ut][xr.dark]&&(Tt[Ut].darkChannel=Ws(Tt[Ut][xr.dark]))})}Object.entries(Dr.colorSchemes).forEach(([Be,Tt])=>{Sg(Be,Tt.palette)});const Cg={prefix:pa,shouldSkipGeneratingVar:Bf},{vars:Ko,generateCssVars:Qr}=Fhe(te({colorSchemes:Rf},Pf),Cg);Dr.vars=Ko,Dr.generateCssVars=Qr,Dr.unstable_sxConfig=te({},Rhe,t?.unstable_sxConfig),Dr.unstable_sx=function(Tt){return mg({sx:Tt,theme:this})},Dr.getColorSchemeSelector=Be=>Be==="light"?"&":`&[data-joy-color-scheme="${Be}"], [data-joy-color-scheme="${Be}"] &`;const ht={getCssVar:Ee,palette:Dr.colorSchemes.light.palette};return Dr.variants=In({plain:Vr("plain",ht),plainHover:Vr("plainHover",ht),plainActive:Vr("plainActive",ht),plainDisabled:Vr("plainDisabled",ht),outlined:Vr("outlined",ht),outlinedHover:Vr("outlinedHover",ht),outlinedActive:Vr("outlinedActive",ht),outlinedDisabled:Vr("outlinedDisabled",ht),soft:Vr("soft",ht),softHover:Vr("softHover",ht),softActive:Vr("softActive",ht),softDisabled:Vr("softDisabled",ht),solid:Vr("solid",ht),solidHover:Vr("solidHover",ht),solidActive:Vr("solidActive",ht),solidDisabled:Vr("solidDisabled",ht)},bg),Dr.palette=te({},Dr.colorSchemes.light.palette,{colorScheme:"light"}),Dr.shouldSkipGeneratingVar=Bf,Dr.colorInversion=typeof Su=="function"?Su:In({soft:QR(Dr,!0),solid:e5(Dr,!0)},Su||{},{clone:!1}),Dr}const qhe=Uhe(),Ps=qhe,Ef="$$joy",Hhe=ihe({themeId:Ef,defaultTheme:Ps,defaultClassName:"MuiBox-root",generateClassName:gR.generate}),Vhe=Hhe,t5=["abs","acos","acosh","acot","acoth","acsc","acsch","add","and","apply","arg","asec","asech","asin","asinh","atan","atan2","atanh","bellNumbers","bin","bitAnd","bitNot","bitOr","bitXor","catalan","cbrt","ceil","clone","column","combinations","combinationsWithRep","compare","compareNatural","compareText","compile","composition","concat","conj","cos","cosh","cot","coth","count","cross","csc","csch","ctranspose","cube","cumsum","deepEqual","det","diag","diff","distance","divide","dot","dotDivide","dotMultiply","dotPow","eigs","equal","equalText","erf","evaluate","exp","expm","expm1","factorial","fft","filter","fix","flatten","floor","forEach","format","gamma","gcd","getMatrixDataType","hasNumericValue","help","hex","hypot","identity","ifft","im","intersect","inv","invmod","isInteger","isNaN","isNegative","isNumeric","isPositive","isPrime","isZero","kldivergence","kron","larger","largerEq","lcm","leftShift","lgamma","log","log10","log1p","log2","lsolve","lsolveAll","lup","lusolve","lyap","mad","map","matrixFromColumns","matrixFromFunction","matrixFromRows","max","mean","median","min","mod","mode","multinomial","multiply","norm","not","nthRoot","nthRoots","numeric","oct","ones","or","parser","partitionSelect","permutations","pickRandom","pinv","pow","print","prod","qr","quantileSeq","random","randomInt","range","re","reshape","resize","rightArithShift","rightLogShift","rotate","rotationMatrix","round","row","schur","sec","sech","setCartesian","setDifference","setDistinct","setIntersect","setIsSubset","setMultiplicity","setPowerset","setSize","setSymDifference","setUnion","sign","sin","sinh","size","slu","smaller","smallerEq","sort","sqrt","sqrtm","square","squeeze","std","stirlingS2","subset","subtract","sum","sylvester","tan","tanh","to","trace","transpose","typeOf","unaryMinus","unaryPlus","unequal","usolve","usolveAll","variance","xgcd","xor","zeros","date","epoch","charToHex","hexToChar"],Whe=["speedOfLight","gravitationConstant","planckConstant","reducedPlanckConstant","magneticConstant","electricConstant","vacuumImpedance","coulomb","elementaryCharge","bohrMagneton","conductanceQuantum","inverseConductanceQuantum","magneticFluxQuantum","nuclearMagneton","klitzing","bohrRadius","classicalElectronRadius","electronMass","fermiCoupling","fineStructure","hartreeEnergy","protonMass","deuteronMass","neutronMass","quantumOfCirculation","rydberg","thomsonCrossSection","weakMixingAngle","efimovFactor","atomicMass","avogadro","boltzmann","faraday","firstRadiation","loschmidt","gasConstant","molarPlanckConstant","molarVolume","sackurTetrode","secondRadiation","stefanBoltzmann","wienDisplacement","molarMass","molarMassC12","gravity","atm","planckLength","planckMass","planckTime","planckCharge","planckTemperature","e","E","i","Infinity","LN2","LN10","LOG2E","LOG10E","NaN","null","phi","pi","PI","SQRT1_2","SQRT2","tau","undefined","version","true","false"],tM=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTC","BTN","BWP","BYN","BZD","CAD","CDF","CHF","CLF","CLP","CNH","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GGP","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XCD","XDR","XOF","XPD","XPF","XPT","YER","ZAR","ZMW","ZWL"],r5=(()=>{const t=Object.keys(AA.UNITS),e=[];t.forEach(n=>{const i=Object.keys(AA.UNITS[n].prefixes);i.length&&e.push(...i.map(a=>`${a}${n}`)),e.push(n)});const r="px|pixel|pixels|pt|point|points|em|oF|oC|f|c|mph|kph".split("|");return[...e,...r,...tM,...tM.map(n=>n.toLowerCase())]})(),n5="today|tomorrow|now|time|yesterday|sum|total|average|avg".split("|"),i5="in|to|last|off|of|mod|xor|or|ago".split("|"),jhe=[...r5,...n5,...t5,...i5],Ghe=jhe.sort((t,e)=>t.length-e.length).filter(t=>t.length>0);function Nf(t){for(var e={},r=0;r<t.length;++r)e[t[r]]=!0;return e}var Khe=Nf(i5),Yhe=Nf(Whe),Jhe=Nf(t5),Zhe=Nf(r5),Xhe=Nf(n5),rM=/[+\-*&=<>/:^%!]/;function Qhe(t,e){var r=t.next();if(r=="#"||r=="/"&&t.eat("/"))return t.skipToEnd(),"comment";if(r=='"'||r=="'")return e.tokenize=ede(r),e.tokenize(t,e);if(/[$£€¥₽¥]/.test(r))return"variableName.special";if(/[[\](),]/.test(r))return null;if(/[\d.]/.test(r))return t.eatWhile(/^(\d+((,\d{3})+)?)?(\.(\d+)?)?(e[+-]?\d+)?(M |k )?$/),"number";if(rM.test(r))return t.eatWhile(rM),"operator";t.eatWhile(/[\w_]/);var n=t.current();return Object.hasOwn(Khe,n)?"operatorKeyword":Object.hasOwn(Yhe,n)||Object.hasOwn(Xhe,n)?"variableName.standard":Object.hasOwn(Zhe,n)?"variableName.special":Object.hasOwn(Jhe,n)?"function":t.peek()==="("?"variableName.definition":"variable"}function ede(t){return function(e,r){for(var n=!1,i,a=!1;(i=e.next())!=null;){if(i==t&&!n){a=!0;break}n=!n&&i=="\\"}return(a||!n)&&(r.tokenize=null),"string"}}const tde={name:"mathjs",startState:function(){return{tokenize:null}},token:function(t,e){if(t.eatSpace())return null;var r=(e.tokenize||Qhe)(t,e);return r=="comment"||r=="meta",r},languageData:{autocomplete:Ghe,closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"#"}}},rde=()=>{function t(e){return/(?<=\d)k\b/.test(e)&&(e=e.replace(/(?<=\d)k\b/g,"000")),/(?<=\d)M\b/.test(e)&&(e=e.replace(/(?<=\d)M\b/g,"000000")),/(?<!date\(\s*"?\s*\d{0,3})\b\d{1,4}[-/]\d{1,2}[-/]\d{1,4}( \d{1,2}:\d{2}(:\d{2})?( [AP]M)?( [A-Z]{3})?)?/.test(e)&&(e=e.replace(/(?<!date\(\s*"?\s*\d{0,3})\d{1,4}[-/]\d{1,2}[-/]\d{1,4}( \d{1,2}:\d{2}(:\d{2})?( [AP]M)?( [A-Z]{3})?)?/g,'date("$&")')),/date\([^"]+?\)/.test(e)&&(e=e.replace(/(date\()([^"]+?)(\))/g,'$1"$2"$3')),/\/\/.*/.test(e)&&(e=e.replace(/\/\/.*/g,"")),/(?<!\([^)]*)(?<!\[[^\]]*),(\d{3})/.test(e)&&(e=e.replace(/(?<!\([^)]*)(?<!\[[^\]]*),(\d{3})/g,"$1")),Object.entries(oF).forEach(([r,n])=>{const i=new RegExp(`\\${n}([\\d\\.]+\\s*[A-Za-z]{3})`,"g");i.test(e)&&(e=e.replace(i,"$1"));const a=new RegExp(`\\${n}([\\d\\.\\,]+)(?=([^\\d\\.\\,A-Z]|$))(?!\\b\\s*[A-Za-z]{3})`,"g");a.test(e)&&(e=e.replace(a,`$1 ${r}`));const o=new RegExp(`\\bin\\s+\\${n}`);o.test(e)&&(e=e.replace(o,`in ${r}`))}),/((\$?[\d.]+\s*\w*)|(\w+))\s*([+-])\s*([\d.]+)%/.test(e)&&(e=e.replace(/((\$?[\d.]+\s*\w*)|(\w+))\s*([+-])\s*([\d.]+)%/g,"$1 $4 ($1 * $5 / 100)")),/(?<=%)(\s+off( of)?\s+)((\$?[\d.]+\s*\w*)|(\w+))/.test(e)&&(e=e.replace(/(?<=%)(\s+off( of)?\s+)((\$?[\d.]+\s*\w*)|(\w+))/g," * -$3 + $3")),/(\d+((,\d{3})+)?(\.\d+)?)% of what is (\d+((,\d{3})+)?(\.\d+)?)/.test(e)&&(e=e.replace(/(\d+((,\d{3})+)?(\.\d+)?)% of what is (\d+((,\d{3})+)?(\.\d+)?)/g,"(100/$1)*$5")),/(\d+((,\d{3})+)?(\.\d+)?)%/.test(e)&&(e=e.replace(/([\d.,]+)%/g,"($1/100)")),/ of /.test(e)&&(e=e.replace(/ of /g," * ")),/([\d.]+ [A-Za-z]+) ago/.test(e)&&(e=e.replace(/([\d.]+ [A-Za-z]+) ago/g,"now - $1")),/(?<=[\s\d./])([fc])(?![A-Za-z])/.test(e)&&(e=e.replace(/(?<=[\s\d./])f(?![A-Za-z])/g,"degF"),e=e.replace(/(?<=[\s\d./])c(?![A-Za-z])/g,"degC")),e=e.replace(/\\n/g,""),e}return{preprocess:t}},nde=()=>{const{format:t,defaultFormatterSettings:e}=Ab(),{preprocess:r}=rde(),n=e(),{math:i,lines:a,results:o,setResults:s}=gf(),l=(f,h)=>{s(new Map(o.set(f,h)))};function u(){s(new Map(o.clear()));let f=ere();a.map((h,d)=>{let p=h.trim();if(!p.length)return l(d,null);if(p.match(/\bline(\d+)\b/))try{p=p.replace(/\bline(\d+)\b/g,(b,y)=>`(${o.get(Number(y-1))})`)}catch{return l(d,null)}const m=c(p,d),v=r(m);let g;try{g=i.compile(v)}catch{g=null}if(g)try{const b=g.evaluate(f);return typeof b!="function"&&typeof b<"u"?(f.last=b,l(d,b)):l(d,null)}catch{return l(d,null)}return l(d,null)})}function c(f,h){const d=/\b(sum|total|avg|average|mean)(?!\()/,p=/\b(avg|average|mean)(?!\()/;if(f=f.trim(),d.test(f)){const m={...n};m.displayCommas=!1;let v="",g=[];for(let b=h-1;b>=0;b--){let y=o.get(b);if(y==null||d.test(a[b].trim())){if(g.length>0)break;continue}g.push(t(y,m))}return p.test(f)?v=`${g.join("+")} / ${g.length}`:v=`${g.join("+")}`,f.replace(d,`(${v})`)}return f}return{evaluate:u}};function ide(t){const[e,r]=J.useState(),{doc:n,lines:i,setDoc:a,setLines:o}=gf(),{evaluate:s}=nde(),l=Rue();J.useEffect(()=>{s()},[i]);const u=(h,d)=>{a(h),o(Array.from(d.state.doc.iterLines())),localStorage.setItem("doc",h);const p=d.state.doc.lineAt(d.state.selection.ranges[0].from).number;r(p)},c=J.useCallback(h=>{const d=h.state.doc.lineAt(h.state.selection.ranges[0].from).number;r(d)},[]);return Te(Vhe,{...t,children:Te(uR,{value:n,onCreateEditor:()=>{o(n.split(`
`))},basicSetup:{foldGutter:!1,dropCursor:!0,allowMultipleSelections:!1,indentOnInput:!0},className:"vh-100 vw-100 pb-4 font-monospace",extensions:[hb.define(tde),l(),$e.lineWrapping],theme:Vue,onChange:u,onUpdate:c,height:"100%"})})}const dr={blur:"list:blur",focus:"list:focus",itemClick:"list:itemClick",itemHover:"list:itemHover",itemsChange:"list:itemsChange",keyDown:"list:keyDown",resetHighlight:"list:resetHighlight",textNavigation:"list:textNavigation"};function ade(t,e,r,n,i,a){if(r.length===0||!n&&r.every((s,l)=>i(s,l)))return-1;let o=t;for(;;){if(!a&&e==="next"&&o===r.length||!a&&e==="previous"&&o===-1)return-1;if(n?!1:i(r[o],o))o+=e==="next"?1:-1,a&&(o=(o+r.length)%r.length);else return o}}function Kn(t,e,r){var n;const{items:i,isItemDisabled:a,disableListWrap:o,disabledItemsFocusable:s,itemComparer:l,focusManagement:u}=r,c=u==="DOM"?0:-1,f=i.length-1,h=t==null?-1:i.findIndex(g=>l(g,t));let d,p,m=!o;switch(e){case"reset":if(c===-1)return null;d=0,p="next",m=!1;break;case"start":d=0,p="next",m=!1;break;case"end":d=f,p="previous",m=!1;break;default:{const g=h+e;g<0?!m&&h!==-1||Math.abs(e)>1?(d=0,p="next"):(d=f,p="previous"):g>f?!m||Math.abs(e)>1?(d=f,p="previous"):(d=0,p="next"):(d=g,p=e>=0?"next":"previous")}}const v=ade(d,p,i,s,a,m);return v===-1&&t!==null&&!a(t,h)?t:(n=i[v])!=null?n:null}function ode(t,e,r,n){return r==="none"?[]:r==="single"?n(e[0],t)?e:[t]:e.some(i=>n(i,t))?e.filter(i=>!n(i,t)):[...e,t]}function a5(t,e,r){const{itemComparer:n,isItemDisabled:i,selectionMode:a,items:o}=r,{selectedValues:s}=e,l=o.findIndex(c=>n(t,c));if(i(t,l))return e;const u=ode(t,s,a,n);return te({},e,{selectedValues:u,highlightedValue:t})}function sde(t,e,r){const n=e.highlightedValue,{orientation:i,pageSize:a}=r;switch(t){case"Home":return te({},e,{highlightedValue:Kn(n,"start",r)});case"End":return te({},e,{highlightedValue:Kn(n,"end",r)});case"PageUp":return te({},e,{highlightedValue:Kn(n,-a,r)});case"PageDown":return te({},e,{highlightedValue:Kn(n,a,r)});case"ArrowUp":if(i!=="vertical")break;return te({},e,{highlightedValue:Kn(n,-1,r)});case"ArrowDown":if(i!=="vertical")break;return te({},e,{highlightedValue:Kn(n,1,r)});case"ArrowLeft":{if(i==="vertical")break;return te({},e,{highlightedValue:Kn(n,i==="horizontal-ltr"?-1:1,r)})}case"ArrowRight":{if(i==="vertical")break;return te({},e,{highlightedValue:Kn(n,i==="horizontal-ltr"?1:-1,r)})}case"Enter":case" ":return e.highlightedValue===null?e:a5(e.highlightedValue,e,r)}return e}function lde(t,e){return e.focusManagement==="DOM"?t:te({},t,{highlightedValue:null})}function ude(t,e,r){var n;const i=(n=r(t))==null?void 0:n.trim().toLowerCase();return!i||i.length===0?!1:i.indexOf(e)===0}function cde(t,e,r){const{items:n,isItemDisabled:i,disabledItemsFocusable:a,getItemAsString:o}=r,s=e.length>1;let l=s?t.highlightedValue:Kn(t.highlightedValue,1,r);for(let u=0;u<n.length;u+=1){if(!l||!s&&t.highlightedValue===l)return t;if(ude(l,e,o)&&(!i(l,n.indexOf(l))||a))return te({},t,{highlightedValue:l});l=Kn(l,1,r)}return t}function fde(t,e,r,n){var i;const{itemComparer:a,focusManagement:o}=n;let s=null;if(r.highlightedValue!=null){var l;s=(l=t.find(f=>a(f,r.highlightedValue)))!=null?l:null}else o==="DOM"&&e.length===0&&(s=Kn(null,"reset",n));const c=((i=r.selectedValues)!=null?i:[]).filter(f=>t.some(h=>a(h,f)));return te({},r,{highlightedValue:s,selectedValues:c})}function hde(t,e){return te({},t,{highlightedValue:Kn(null,"reset",e)})}function o5(t,e){const{type:r,context:n}=e;switch(r){case dr.keyDown:return sde(e.key,t,n);case dr.itemClick:return a5(e.item,t,n);case dr.blur:return lde(t,n);case dr.textNavigation:return cde(t,e.searchString,n);case dr.itemsChange:return fde(e.items,e.previousItems,t,n);case dr.resetHighlight:return hde(t,n);default:return t}}function dde(){const t=new Map;function e(n,i){let a=t.get(n);return a?a.add(i):(a=new Set([i]),t.set(n,a)),()=>{a.delete(i),a.size===0&&t.delete(n)}}function r(n,...i){const a=t.get(n);a&&a.forEach(o=>o(...i))}return{subscribe:e,publish:r}}function pde(){const t=J.useRef();return t.current||(t.current=dde()),t.current}const nM="select:change-selection",iM="select:change-highlight";function mde(){const t=pde(),e=J.useCallback(a=>{t.publish(nM,a)},[t]),r=J.useCallback(a=>{t.publish(iM,a)},[t]),n=J.useCallback(a=>t.subscribe(nM,a),[t]),i=J.useCallback(a=>t.subscribe(iM,a),[t]);return{notifySelectionChanged:e,notifyHighlightChanged:r,registerSelectionChangeHandler:n,registerHighlightChangeHandler:i}}function gde(t,e){return t===e}const Uv={},aM=()=>{};function l1(t,e){const r=te({},t);return Object.keys(e).forEach(n=>{e[n]!==void 0&&(r[n]=e[n])}),r}function vde(t){const{nextState:e,initialState:r,stateComparers:n,onStateChange:i,controlledProps:a,lastActionRef:o}=t,s=J.useRef(r);J.useEffect(()=>{if(o.current===null)return;const l=l1(s.current,a);Object.keys(e).forEach(u=>{var c;const f=(c=n[u])!=null?c:gde,h=e[u],d=l[u];if(d==null&&h!=null||d!=null&&h==null||d!=null&&h!=null&&!f(h,d)){var p,m;i?.((p=o.current.event)!=null?p:null,u,h,(m=o.current.type)!=null?m:"",e)}}),s.current=e,o.current=null},[s,e,o,i,n,a])}function yde(t){const e=J.useRef(null),{reducer:r,initialState:n,controlledProps:i=Uv,stateComparers:a=Uv,onStateChange:o=aM,actionContext:s}=t,l=J.useCallback((h,d)=>{e.current=d;const p=l1(h,i);return r(p,d)},[i,r]),[u,c]=J.useReducer(l,n),f=J.useCallback(h=>{c(te({},h,{context:s}))},[s]);return vde({nextState:u,initialState:n,stateComparers:a??Uv,onStateChange:o??aM,controlledProps:i,lastActionRef:e}),[l1(u,i),f]}function oM(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}function sM(t,e){const r=J.useRef(t);return J.useEffect(()=>{r.current=t},e??[t]),r}const xde=500;function bde(t){const e=J.useRef({searchString:"",lastTime:null});return J.useCallback(r=>{if(r.key.length===1&&r.key!==" "){const n=e.current,i=r.key.toLowerCase(),a=performance.now();n.searchString.length>0&&n.lastTime&&a-n.lastTime>xde?n.searchString=i:(n.searchString.length!==1||i!==n.searchString)&&(n.searchString+=i),n.lastTime=a,t(n.searchString,r)}},[t])}const lM={},wde=()=>{},Sde=(t,e)=>t===e,Cde=()=>!1,Dde=t=>typeof t=="string"?t:String(t),Ade=()=>({highlightedValue:null,selectedValues:[]});function Ede(t){const{controlledProps:e=lM,disabledItemsFocusable:r=!1,disableListWrap:n=!1,focusManagement:i="activeDescendant",getInitialState:a=Ade,getItemDomElement:o,getItemId:s,isItemDisabled:l=Cde,rootRef:u,onStateChange:c=wde,items:f,itemComparer:h=Sde,getItemAsString:d=Dde,onChange:p,onHighlightChange:m,onItemsChange:v,orientation:g="vertical",pageSize:b=5,reducerActionContext:y=lM,selectionMode:w="single",stateReducer:S}=t,x=J.useRef(null),C=Ti(u,x),A=J.useCallback((Se,me,Ce)=>{if(m?.(Se,me,Ce),i==="DOM"&&me!=null&&(Ce===dr.itemClick||Ce===dr.keyDown||Ce===dr.textNavigation)){var q;o==null||(q=o(me))==null||q.focus()}},[o,m,i]),E=J.useMemo(()=>({highlightedValue:h,selectedValues:(Se,me)=>oM(Se,me,h)}),[h]),D=J.useCallback((Se,me,Ce,q,j)=>{switch(c?.(Se,me,Ce,q,j),me){case"highlightedValue":A(Se,Ce,q);break;case"selectedValues":p?.(Se,Ce,q);break}},[A,p,c]),M=J.useMemo(()=>({disabledItemsFocusable:r,disableListWrap:n,focusManagement:i,isItemDisabled:l,itemComparer:h,items:f,getItemAsString:d,onHighlightChange:A,orientation:g,pageSize:b,selectionMode:w,stateComparers:E}),[r,n,i,l,h,f,d,A,g,b,w,E]),k=a(),$=S??o5,I=J.useMemo(()=>te({},y,M),[y,M]),[F,N]=yde({reducer:$,actionContext:I,initialState:k,controlledProps:e,stateComparers:E,onStateChange:D}),{highlightedValue:T,selectedValues:R}=F,O=bde((Se,me)=>N({type:dr.textNavigation,event:me,searchString:Se})),P=sM(R),V=sM(T),W=J.useRef([]);J.useEffect(()=>{oM(W.current,f,h)||(N({type:dr.itemsChange,event:null,items:f,previousItems:W.current}),W.current=f,v?.(f))},[f,h,N,v]);const{notifySelectionChanged:L,notifyHighlightChanged:G,registerHighlightChangeHandler:ee,registerSelectionChangeHandler:Z}=mde();J.useEffect(()=>{L(R)},[R,L]),J.useEffect(()=>{G(T)},[T,G]);const se=Se=>me=>{var Ce;if((Ce=Se.onKeyDown)==null||Ce.call(Se,me),me.defaultMuiPrevented)return;const q=["Home","End","PageUp","PageDown"];g==="vertical"?q.push("ArrowUp","ArrowDown"):q.push("ArrowLeft","ArrowRight"),i==="activeDescendant"&&q.push(" ","Enter"),q.includes(me.key)&&me.preventDefault(),N({type:dr.keyDown,key:me.key,event:me}),O(me)},he=Se=>me=>{var Ce,q;(Ce=Se.onBlur)==null||Ce.call(Se,me),!me.defaultMuiPrevented&&((q=x.current)!=null&&q.contains(me.relatedTarget)||N({type:dr.blur,event:me}))},le=(Se={})=>te({},Se,{"aria-activedescendant":i==="activeDescendant"&&T!=null?s(T):void 0,onBlur:he(Se),onKeyDown:se(Se),tabIndex:i==="DOM"?-1:0,ref:C}),ne=J.useCallback(Se=>{var me;const Ce=f.findIndex(Y=>h(Y,Se)),q=((me=P.current)!=null?me:[]).some(Y=>Y!=null&&h(Se,Y)),j=l(Se,Ce),re=V.current!=null&&h(Se,V.current);return{disabled:j,focusable:i==="DOM",highlighted:re,index:Ce,selected:q}},[f,l,h,P,V,i]),xe=J.useMemo(()=>({dispatch:N,getItemState:ne,registerHighlightChangeHandler:ee,registerSelectionChangeHandler:Z}),[N,ne,ee,Z]);return J.useDebugValue({state:F}),{contextValue:xe,dispatch:N,getRootProps:le,rootRef:C,state:F}}function Nde(){const[,t]=J.useState({});return J.useCallback(()=>{t({})},[])}const s5=J.createContext(null);function Mde(t){const{handlePointerOverEvents:e=!1,item:r,rootRef:n}=t,i=J.useRef(null),a=Ti(i,n),o=J.useContext(s5);if(!o)throw new Error("useListItem must be used within a ListProvider");const{dispatch:s,getItemState:l,registerHighlightChangeHandler:u,registerSelectionChangeHandler:c}=o,{highlighted:f,selected:h,focusable:d}=l(r),p=Nde();Ss(()=>{function y(w){(w===r&&!f||w!==r&&f)&&p()}return u(y)}),Ss(()=>{function y(w){h?w.includes(r)||p():w.includes(r)&&p()}return c(y)},[c,p,h,r]);const m=J.useCallback(y=>w=>{var S;(S=y.onClick)==null||S.call(y,w),!w.defaultPrevented&&s({type:dr.itemClick,item:r,event:w})},[s,r]),v=J.useCallback(y=>w=>{var S;(S=y.onMouseOver)==null||S.call(y,w),!w.defaultPrevented&&s({type:dr.itemHover,item:r,event:w})},[s,r]);let g;return d&&(g=f?0:-1),{getRootProps:(y={})=>te({},y,{onClick:m(y),onPointerOver:e?v(y):void 0,ref:a,tabIndex:g}),highlighted:f,rootRef:a,selected:h}}const qb=J.createContext(null);qb.displayName="CompoundComponentContext";function Tde(t){const e=Array.from(t.keys()).map(r=>{const n=t.get(r);return{key:r,subitem:n}});return e.sort((r,n)=>{const i=r.subitem.ref.current,a=n.subitem.ref.current;return i===null||a===null||i===a?0:i.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_PRECEDING?1:-1}),new Map(e.map(r=>[r.key,r.subitem]))}function kde(){const[t,e]=J.useState(new Map),r=J.useRef(new Set),n=J.useCallback(function(l){r.current.delete(l),e(u=>{const c=new Map(u);return c.delete(l),c})},[]),i=J.useCallback(function(l,u){let c;return typeof l=="function"?c=l(r.current):c=l,r.current.add(c),e(f=>{const h=new Map(f);return h.set(c,u),h}),{id:c,deregister:()=>n(c)}},[n]),a=J.useMemo(()=>Tde(t),[t]);return{contextValue:{getItemIndex:J.useCallback(function(l){return Array.from(a.keys()).indexOf(l)},[a]),registerItem:i,totalSubitemCount:t.size},subitems:a}}function Ode(t,e){if(e.type===dr.itemHover)return t;const r=o5(t,e);if(r.highlightedValue===null&&e.context.items.length>0)return te({},r,{highlightedValue:e.context.items[0]});if(e.type===dr.keyDown&&e.event.key==="Escape")return te({},r,{open:!1});if(e.type===dr.blur){var n;if(!((n=e.context.listboxRef.current)!=null&&n.contains(e.event.relatedTarget))){var i,a;const o=(i=e.context.listboxRef.current)==null?void 0:i.getAttribute("id"),s=(a=e.event.relatedTarget)==null?void 0:a.getAttribute("aria-controls");return o&&s&&o===s?r:te({},r,{open:!1,highlightedValue:e.context.items[0]})}}return r}function Bde(t={}){const{defaultOpen:e,listboxRef:r,open:n,onItemsChange:i,onOpenChange:a}=t,o=J.useRef(null),s=Ti(o,r),{subitems:l,contextValue:u}=kde(),c=J.useMemo(()=>Array.from(l.keys()),[l]),f=J.useCallback(S=>{var x,C;return S==null?null:(x=(C=l.get(S))==null?void 0:C.ref.current)!=null?x:null},[l]),h=J.useMemo(()=>({open:n}),[n]),d=J.useCallback((S,x,C,A,E)=>{if(x==="open"&&(a?.(C),C===!0&&E.highlightedValue!==null)){var D,M;(D=l.get(E.highlightedValue))==null||(M=D.ref.current)==null||M.focus()}},[a,l]),{dispatch:p,getRootProps:m,contextValue:v,state:{open:g,highlightedValue:b},rootRef:y}=Ede({controlledProps:h,disabledItemsFocusable:!0,focusManagement:"DOM",getItemDomElement:f,getInitialState:()=>({selectedValues:[],highlightedValue:null,open:e??!1}),isItemDisabled:S=>{var x;return(l==null||(x=l.get(S))==null?void 0:x.disabled)||!1},items:c,getItemAsString:S=>{var x,C,A;return((x=l.get(S))==null?void 0:x.label)||((C=l.get(S))==null||(A=C.ref.current)==null?void 0:A.innerText)},rootRef:s,onItemsChange:i,onStateChange:d,reducerActionContext:{listboxRef:o},selectionMode:"none",stateReducer:Ode});J.useEffect(()=>{if(g&&b===c[0]){var S,x,C;(S=l.get(c[0]))==null||(x=S.ref)==null||(C=x.current)==null||C.focus()}},[g,b,l,c]),J.useEffect(()=>{var S;if((S=o.current)!=null&&S.contains(document.activeElement)&&b!==null){var x,C;l==null||(x=l.get(b))==null||(C=x.ref.current)==null||C.focus()}},[b,l]);const w=(S={})=>{const x=m(S);return te({},S,x,{role:"menu"})};return J.useDebugValue({subitems:l,highlightedValue:b}),{contextValue:te({},u,v),dispatch:p,getListboxProps:w,highlightedValue:b,listboxRef:y,menuItems:l,open:g}}function Fde(t){const{value:e,children:r}=t,{dispatch:n,getItemIndex:i,getItemState:a,registerHighlightChangeHandler:o,registerSelectionChangeHandler:s,registerItem:l,totalSubitemCount:u}=e,c=J.useMemo(()=>({dispatch:n,getItemState:a,getItemIndex:i,registerHighlightChangeHandler:o,registerSelectionChangeHandler:s}),[n,i,a,o,s]),f=J.useMemo(()=>({getItemIndex:i,registerItem:l,totalSubitemCount:u}),[l,i,u]);return Te(qb.Provider,{value:f,children:Te(s5.Provider,{value:c,children:r})})}var bn="top",li="bottom",ui="right",wn="left",Hb="auto",Mf=[bn,li,ui,wn],ru="start",tf="end",$de="clippingParents",l5="viewport",Uu="popper",Rde="reference",uM=Mf.reduce(function(t,e){return t.concat([e+"-"+ru,e+"-"+tf])},[]),u5=[].concat(Mf,[Hb]).reduce(function(t,e){return t.concat([e,e+"-"+ru,e+"-"+tf])},[]),Pde="beforeRead",Ide="read",Lde="afterRead",_de="beforeMain",zde="main",Ude="afterMain",qde="beforeWrite",Hde="write",Vde="afterWrite",Wde=[Pde,Ide,Lde,_de,zde,Ude,qde,Hde,Vde];function oa(t){return t?(t.nodeName||"").toLowerCase():null}function qn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Cs(t){var e=qn(t).Element;return t instanceof e||t instanceof Element}function ii(t){var e=qn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Vb(t){if(typeof ShadowRoot>"u")return!1;var e=qn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function jde(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},a=e.elements[r];!ii(a)||!oa(a)||(Object.assign(a.style,n),Object.keys(i).forEach(function(o){var s=i[o];s===!1?a.removeAttribute(o):a.setAttribute(o,s===!0?"":s)}))})}function Gde(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],a=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),s=o.reduce(function(l,u){return l[u]="",l},{});!ii(i)||!oa(i)||(Object.assign(i.style,s),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}const Kde={name:"applyStyles",enabled:!0,phase:"write",fn:jde,effect:Gde,requires:["computeStyles"]};function ra(t){return t.split("-")[0]}var hs=Math.max,Hp=Math.min,nu=Math.round;function u1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function c5(){return!/^((?!chrome|android).)*safari/i.test(u1())}function iu(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,a=1;e&&ii(t)&&(i=t.offsetWidth>0&&nu(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&nu(n.height)/t.offsetHeight||1);var o=Cs(t)?qn(t):window,s=o.visualViewport,l=!c5()&&r,u=(n.left+(l&&s?s.offsetLeft:0))/i,c=(n.top+(l&&s?s.offsetTop:0))/a,f=n.width/i,h=n.height/a;return{width:f,height:h,top:c,right:u+f,bottom:c+h,left:u,x:u,y:c}}function Wb(t){var e=iu(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function f5(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Vb(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function _a(t){return qn(t).getComputedStyle(t)}function Yde(t){return["table","td","th"].indexOf(oa(t))>=0}function qo(t){return((Cs(t)?t.ownerDocument:t.document)||window.document).documentElement}function vg(t){return oa(t)==="html"?t:t.assignedSlot||t.parentNode||(Vb(t)?t.host:null)||qo(t)}function cM(t){return!ii(t)||_a(t).position==="fixed"?null:t.offsetParent}function Jde(t){var e=/firefox/i.test(u1()),r=/Trident/i.test(u1());if(r&&ii(t)){var n=_a(t);if(n.position==="fixed")return null}var i=vg(t);for(Vb(i)&&(i=i.host);ii(i)&&["html","body"].indexOf(oa(i))<0;){var a=_a(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Tf(t){for(var e=qn(t),r=cM(t);r&&Yde(r)&&_a(r).position==="static";)r=cM(r);return r&&(oa(r)==="html"||oa(r)==="body"&&_a(r).position==="static")?e:r||Jde(t)||e}function jb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function pc(t,e,r){return hs(t,Hp(e,r))}function Zde(t,e,r){var n=pc(t,e,r);return n>r?r:n}function h5(){return{top:0,right:0,bottom:0,left:0}}function d5(t){return Object.assign({},h5(),t)}function p5(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Xde=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,d5(typeof e!="number"?e:p5(e,Mf))};function Qde(t){var e,r=t.state,n=t.name,i=t.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=ra(r.placement),l=jb(s),u=[wn,ui].indexOf(s)>=0,c=u?"height":"width";if(!(!a||!o)){var f=Xde(i.padding,r),h=Wb(a),d=l==="y"?bn:wn,p=l==="y"?li:ui,m=r.rects.reference[c]+r.rects.reference[l]-o[l]-r.rects.popper[c],v=o[l]-r.rects.reference[l],g=Tf(a),b=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,y=m/2-v/2,w=f[d],S=b-h[c]-f[p],x=b/2-h[c]/2+y,C=pc(w,x,S),A=l;r.modifiersData[n]=(e={},e[A]=C,e.centerOffset=C-x,e)}}function epe(t){var e=t.state,r=t.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||f5(e.elements.popper,i)&&(e.elements.arrow=i))}const tpe={name:"arrow",enabled:!0,phase:"main",fn:Qde,effect:epe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function au(t){return t.split("-")[1]}var rpe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function npe(t,e){var r=t.x,n=t.y,i=e.devicePixelRatio||1;return{x:nu(r*i)/i||0,y:nu(n*i)/i||0}}function fM(t){var e,r=t.popper,n=t.popperRect,i=t.placement,a=t.variation,o=t.offsets,s=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,h=o.x,d=h===void 0?0:h,p=o.y,m=p===void 0?0:p,v=typeof c=="function"?c({x:d,y:m}):{x:d,y:m};d=v.x,m=v.y;var g=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),y=wn,w=bn,S=window;if(u){var x=Tf(r),C="clientHeight",A="clientWidth";if(x===qn(r)&&(x=qo(r),_a(x).position!=="static"&&s==="absolute"&&(C="scrollHeight",A="scrollWidth")),x=x,i===bn||(i===wn||i===ui)&&a===tf){w=li;var E=f&&x===S&&S.visualViewport?S.visualViewport.height:x[C];m-=E-n.height,m*=l?1:-1}if(i===wn||(i===bn||i===li)&&a===tf){y=ui;var D=f&&x===S&&S.visualViewport?S.visualViewport.width:x[A];d-=D-n.width,d*=l?1:-1}}var M=Object.assign({position:s},u&&rpe),k=c===!0?npe({x:d,y:m},qn(r)):{x:d,y:m};if(d=k.x,m=k.y,l){var $;return Object.assign({},M,($={},$[w]=b?"0":"",$[y]=g?"0":"",$.transform=(S.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",$))}return Object.assign({},M,(e={},e[w]=b?m+"px":"",e[y]=g?d+"px":"",e.transform="",e))}function ipe(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,o=a===void 0?!0:a,s=r.roundOffsets,l=s===void 0?!0:s,u={placement:ra(e.placement),variation:au(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,fM(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,fM(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ape={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ipe,data:{}};var qh={passive:!0};function ope(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,a=i===void 0?!0:i,o=n.resize,s=o===void 0?!0:o,l=qn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",r.update,qh)}),s&&l.addEventListener("resize",r.update,qh),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",r.update,qh)}),s&&l.removeEventListener("resize",r.update,qh)}}const spe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ope,data:{}};var lpe={left:"right",right:"left",bottom:"top",top:"bottom"};function Dd(t){return t.replace(/left|right|bottom|top/g,function(e){return lpe[e]})}var upe={start:"end",end:"start"};function hM(t){return t.replace(/start|end/g,function(e){return upe[e]})}function Gb(t){var e=qn(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Kb(t){return iu(qo(t)).left+Gb(t).scrollLeft}function cpe(t,e){var r=qn(t),n=qo(t),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var u=c5();(u||!u&&e==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+Kb(t),y:l}}function fpe(t){var e,r=qo(t),n=Gb(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=hs(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=hs(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+Kb(t),l=-n.scrollTop;return _a(i||r).direction==="rtl"&&(s+=hs(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}function Yb(t){var e=_a(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function m5(t){return["html","body","#document"].indexOf(oa(t))>=0?t.ownerDocument.body:ii(t)&&Yb(t)?t:m5(vg(t))}function mc(t,e){var r;e===void 0&&(e=[]);var n=m5(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),a=qn(n),o=i?[a].concat(a.visualViewport||[],Yb(n)?n:[]):n,s=e.concat(o);return i?s:s.concat(mc(vg(o)))}function c1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function hpe(t,e){var r=iu(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function dM(t,e,r){return e===l5?c1(cpe(t,r)):Cs(e)?hpe(e,r):c1(fpe(qo(t)))}function dpe(t){var e=mc(vg(t)),r=["absolute","fixed"].indexOf(_a(t).position)>=0,n=r&&ii(t)?Tf(t):t;return Cs(n)?e.filter(function(i){return Cs(i)&&f5(i,n)&&oa(i)!=="body"}):[]}function ppe(t,e,r,n){var i=e==="clippingParents"?dpe(t):[].concat(e),a=[].concat(i,[r]),o=a[0],s=a.reduce(function(l,u){var c=dM(t,u,n);return l.top=hs(c.top,l.top),l.right=Hp(c.right,l.right),l.bottom=Hp(c.bottom,l.bottom),l.left=hs(c.left,l.left),l},dM(t,o,n));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function g5(t){var e=t.reference,r=t.element,n=t.placement,i=n?ra(n):null,a=n?au(n):null,o=e.x+e.width/2-r.width/2,s=e.y+e.height/2-r.height/2,l;switch(i){case bn:l={x:o,y:e.y-r.height};break;case li:l={x:o,y:e.y+e.height};break;case ui:l={x:e.x+e.width,y:s};break;case wn:l={x:e.x-r.width,y:s};break;default:l={x:e.x,y:e.y}}var u=i?jb(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case ru:l[u]=l[u]-(e[c]/2-r[c]/2);break;case tf:l[u]=l[u]+(e[c]/2-r[c]/2);break}}return l}function rf(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=n===void 0?t.placement:n,a=r.strategy,o=a===void 0?t.strategy:a,s=r.boundary,l=s===void 0?$de:s,u=r.rootBoundary,c=u===void 0?l5:u,f=r.elementContext,h=f===void 0?Uu:f,d=r.altBoundary,p=d===void 0?!1:d,m=r.padding,v=m===void 0?0:m,g=d5(typeof v!="number"?v:p5(v,Mf)),b=h===Uu?Rde:Uu,y=t.rects.popper,w=t.elements[p?b:h],S=ppe(Cs(w)?w:w.contextElement||qo(t.elements.popper),l,c,o),x=iu(t.elements.reference),C=g5({reference:x,element:y,strategy:"absolute",placement:i}),A=c1(Object.assign({},y,C)),E=h===Uu?A:x,D={top:S.top-E.top+g.top,bottom:E.bottom-S.bottom+g.bottom,left:S.left-E.left+g.left,right:E.right-S.right+g.right},M=t.modifiersData.offset;if(h===Uu&&M){var k=M[i];Object.keys(D).forEach(function($){var I=[ui,li].indexOf($)>=0?1:-1,F=[bn,li].indexOf($)>=0?"y":"x";D[$]+=k[F]*I})}return D}function mpe(t,e){e===void 0&&(e={});var r=e,n=r.placement,i=r.boundary,a=r.rootBoundary,o=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?u5:l,c=au(n),f=c?s?uM:uM.filter(function(p){return au(p)===c}):Mf,h=f.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=f);var d=h.reduce(function(p,m){return p[m]=rf(t,{placement:m,boundary:i,rootBoundary:a,padding:o})[ra(m)],p},{});return Object.keys(d).sort(function(p,m){return d[p]-d[m]})}function gpe(t){if(ra(t)===Hb)return[];var e=Dd(t);return[hM(t),e,hM(e)]}function vpe(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,c=r.boundary,f=r.rootBoundary,h=r.altBoundary,d=r.flipVariations,p=d===void 0?!0:d,m=r.allowedAutoPlacements,v=e.options.placement,g=ra(v),b=g===v,y=l||(b||!p?[Dd(v)]:gpe(v)),w=[v].concat(y).reduce(function(G,ee){return G.concat(ra(ee)===Hb?mpe(e,{placement:ee,boundary:c,rootBoundary:f,padding:u,flipVariations:p,allowedAutoPlacements:m}):ee)},[]),S=e.rects.reference,x=e.rects.popper,C=new Map,A=!0,E=w[0],D=0;D<w.length;D++){var M=w[D],k=ra(M),$=au(M)===ru,I=[bn,li].indexOf(k)>=0,F=I?"width":"height",N=rf(e,{placement:M,boundary:c,rootBoundary:f,altBoundary:h,padding:u}),T=I?$?ui:wn:$?li:bn;S[F]>x[F]&&(T=Dd(T));var R=Dd(T),O=[];if(a&&O.push(N[k]<=0),s&&O.push(N[T]<=0,N[R]<=0),O.every(function(G){return G})){E=M,A=!1;break}C.set(M,O)}if(A)for(var P=p?3:1,V=function(ee){var Z=w.find(function(se){var he=C.get(se);if(he)return he.slice(0,ee).every(function(le){return le})});if(Z)return E=Z,"break"},W=P;W>0;W--){var L=V(W);if(L==="break")break}e.placement!==E&&(e.modifiersData[n]._skip=!0,e.placement=E,e.reset=!0)}}const ype={name:"flip",enabled:!0,phase:"main",fn:vpe,requiresIfExists:["offset"],data:{_skip:!1}};function pM(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function mM(t){return[bn,ui,li,wn].some(function(e){return t[e]>=0})}function xpe(t){var e=t.state,r=t.name,n=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=rf(e,{elementContext:"reference"}),s=rf(e,{altBoundary:!0}),l=pM(o,n),u=pM(s,i,a),c=mM(l),f=mM(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const bpe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xpe};function wpe(t,e,r){var n=ra(t),i=[wn,bn].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[wn,ui].indexOf(n)>=0?{x:s,y:o}:{x:o,y:s}}function Spe(t){var e=t.state,r=t.options,n=t.name,i=r.offset,a=i===void 0?[0,0]:i,o=u5.reduce(function(c,f){return c[f]=wpe(f,e.rects,a),c},{}),s=o[e.placement],l=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=o}const Cpe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Spe};function Dpe(t){var e=t.state,r=t.name;e.modifiersData[r]=g5({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Ape={name:"popperOffsets",enabled:!0,phase:"read",fn:Dpe,data:{}};function Epe(t){return t==="x"?"y":"x"}function Npe(t){var e=t.state,r=t.options,n=t.name,i=r.mainAxis,a=i===void 0?!0:i,o=r.altAxis,s=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,f=r.padding,h=r.tether,d=h===void 0?!0:h,p=r.tetherOffset,m=p===void 0?0:p,v=rf(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),g=ra(e.placement),b=au(e.placement),y=!b,w=jb(g),S=Epe(w),x=e.modifiersData.popperOffsets,C=e.rects.reference,A=e.rects.popper,E=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,D=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),M=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,k={x:0,y:0};if(x){if(a){var $,I=w==="y"?bn:wn,F=w==="y"?li:ui,N=w==="y"?"height":"width",T=x[w],R=T+v[I],O=T-v[F],P=d?-A[N]/2:0,V=b===ru?C[N]:A[N],W=b===ru?-A[N]:-C[N],L=e.elements.arrow,G=d&&L?Wb(L):{width:0,height:0},ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:h5(),Z=ee[I],se=ee[F],he=pc(0,C[N],G[N]),le=y?C[N]/2-P-he-Z-D.mainAxis:V-he-Z-D.mainAxis,ne=y?-C[N]/2+P+he+se+D.mainAxis:W+he+se+D.mainAxis,xe=e.elements.arrow&&Tf(e.elements.arrow),Se=xe?w==="y"?xe.clientTop||0:xe.clientLeft||0:0,me=($=M?.[w])!=null?$:0,Ce=T+le-me-Se,q=T+ne-me,j=pc(d?Hp(R,Ce):R,T,d?hs(O,q):O);x[w]=j,k[w]=j-T}if(s){var re,H=w==="x"?bn:wn,Y=w==="x"?li:ui,Q=x[S],ge=S==="y"?"height":"width",ce=Q+v[H],z=Q-v[Y],U=[bn,wn].indexOf(g)!==-1,X=(re=M?.[S])!=null?re:0,oe=U?ce:Q-C[ge]-A[ge]-X+D.altAxis,de=U?Q+C[ge]+A[ge]-X-D.altAxis:z,fe=d&&U?Zde(oe,Q,de):pc(d?oe:ce,Q,d?de:z);x[S]=fe,k[S]=fe-Q}e.modifiersData[n]=k}}const Mpe={name:"preventOverflow",enabled:!0,phase:"main",fn:Npe,requiresIfExists:["offset"]};function Tpe(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function kpe(t){return t===qn(t)||!ii(t)?Gb(t):Tpe(t)}function Ope(t){var e=t.getBoundingClientRect(),r=nu(e.width)/t.offsetWidth||1,n=nu(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Bpe(t,e,r){r===void 0&&(r=!1);var n=ii(e),i=ii(e)&&Ope(e),a=qo(e),o=iu(t,i,r),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((oa(e)!=="body"||Yb(a))&&(s=kpe(e)),ii(e)?(l=iu(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=Kb(a))),{x:o.left+s.scrollLeft-l.x,y:o.top+s.scrollTop-l.y,width:o.width,height:o.height}}function Fpe(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function i(a){r.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(s){if(!r.has(s)){var l=e.get(s);l&&i(l)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||i(a)}),n}function $pe(t){var e=Fpe(t);return Wde.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function Rpe(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Ppe(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var gM={placement:"bottom",modifiers:[],strategy:"absolute"};function vM(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Ipe(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,a=i===void 0?gM:i;return function(s,l,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},gM,a),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},f=[],h=!1,d={state:c,setOptions:function(g){var b=typeof g=="function"?g(c.options):g;m(),c.options=Object.assign({},a,c.options,b),c.scrollParents={reference:Cs(s)?mc(s):s.contextElement?mc(s.contextElement):[],popper:mc(l)};var y=$pe(Ppe([].concat(n,c.options.modifiers)));return c.orderedModifiers=y.filter(function(w){return w.enabled}),p(),d.update()},forceUpdate:function(){if(!h){var g=c.elements,b=g.reference,y=g.popper;if(vM(b,y)){c.rects={reference:Bpe(b,Tf(y),c.options.strategy==="fixed"),popper:Wb(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var S=c.orderedModifiers[w],x=S.fn,C=S.options,A=C===void 0?{}:C,E=S.name;typeof x=="function"&&(c=x({state:c,options:A,name:E,instance:d})||c)}}}},update:Rpe(function(){return new Promise(function(v){d.forceUpdate(),v(c)})}),destroy:function(){m(),h=!0}};if(!vM(s,l))return d;d.setOptions(u).then(function(v){!h&&u.onFirstUpdate&&u.onFirstUpdate(v)});function p(){c.orderedModifiers.forEach(function(v){var g=v.name,b=v.options,y=b===void 0?{}:b,w=v.effect;if(typeof w=="function"){var S=w({state:c,name:g,instance:d,options:y}),x=function(){};f.push(S||x)}})}function m(){f.forEach(function(v){return v()}),f=[]}return d}}var Lpe=[spe,Ape,ape,Kde,Cpe,ype,Mpe,tpe,bpe],_pe=Ipe({defaultModifiers:Lpe});function zpe(t){return typeof t=="function"?t():t}const Upe=J.forwardRef(function(e,r){const{children:n,container:i,disablePortal:a=!1}=e,[o,s]=J.useState(null),l=Ti(J.isValidElement(n)?n.ref:null,r);if(Ss(()=>{a||s(zpe(i)||document.body)},[i,a]),Ss(()=>{if(o&&!a)return n1(r,o),()=>{n1(r,null)}},[r,o,a]),a){if(J.isValidElement(n)){const u={ref:l};return J.cloneElement(n,u)}return Te(J.Fragment,{children:n})}return Te(J.Fragment,{children:o&&IT.createPortal(n,o)})}),qpe=Upe;function Hpe(t){return Eb("MuiPopper",t)}vR("MuiPopper",["root"]);function Vpe(t){return typeof t=="string"}function v5(t,e,r){return t===void 0||Vpe(t)?e:te({},e,{ownerState:te({},e.ownerState,r)})}const Wpe={disableDefaultClasses:!1},jpe=J.createContext(Wpe);function Gpe(t){const{disableDefaultClasses:e}=J.useContext(jpe);return r=>e?"":t(r)}function y5(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function x5(t,e){return typeof t=="function"?t(e):t}function yM(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function b5(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:a}=t;if(!e){const d=Bo(i?.className,n?.className,a,r?.className),p=te({},r?.style,i?.style,n?.style),m=te({},r,i,n);return d.length>0&&(m.className=d),Object.keys(p).length>0&&(m.style=p),{props:m,internalRef:void 0}}const o=y5(te({},i,n)),s=yM(n),l=yM(i),u=e(o),c=Bo(u?.className,r?.className,a,i?.className,n?.className),f=te({},u?.style,r?.style,i?.style,n?.style),h=te({},u,r,l,s);return c.length>0&&(h.className=c),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:u.ref}}const Kpe=["elementType","externalSlotProps","ownerState"];function w5(t){var e;const{elementType:r,externalSlotProps:n,ownerState:i}=t,a=kt(t,Kpe),o=x5(n,i),{props:s,internalRef:l}=b5(te({},a,{externalSlotProps:o})),u=Ti(l,o?.ref,(e=t.additionalProps)==null?void 0:e.ref);return v5(r,te({},s,{ref:u}),i)}const Ype=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Jpe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Zpe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function f1(t){return typeof t=="function"?t():t}function Xpe(t){return t.nodeType!==void 0}const Qpe=()=>Ha({root:["root"]},Gpe(Hpe)),eme={},tme=J.forwardRef(function(e,r){var n;const{anchorEl:i,children:a,direction:o,disablePortal:s,modifiers:l,open:u,placement:c,popperOptions:f,popperRef:h,slotProps:d={},slots:p={},TransitionProps:m}=e,v=kt(e,Ype),g=J.useRef(null),b=Ti(g,r),y=J.useRef(null),w=Ti(y,h),S=J.useRef(w);Ss(()=>{S.current=w},[w]),J.useImperativeHandle(h,()=>y.current,[]);const x=Zpe(c,o),[C,A]=J.useState(x),[E,D]=J.useState(f1(i));J.useEffect(()=>{y.current&&y.current.forceUpdate()}),J.useEffect(()=>{i&&D(f1(i))},[i]),Ss(()=>{if(!E||!u)return;const F=R=>{A(R.placement)};let N=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:R})=>{F(R)}}];l!=null&&(N=N.concat(l)),f&&f.modifiers!=null&&(N=N.concat(f.modifiers));const T=_pe(E,g.current,te({placement:x},f,{modifiers:N}));return S.current(T),()=>{T.destroy(),S.current(null)}},[E,s,l,u,f,x]);const M={placement:C};m!==null&&(M.TransitionProps=m);const k=Qpe(),$=(n=p.root)!=null?n:"div",I=w5({elementType:$,externalSlotProps:d.root,externalForwardedProps:v,additionalProps:{role:"tooltip",ref:b},ownerState:e,className:k.root});return Te($,te({},I,{children:typeof a=="function"?a(M):a}))}),rme=J.forwardRef(function(e,r){const{anchorEl:n,children:i,container:a,direction:o="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:u,open:c,placement:f="bottom",popperOptions:h=eme,popperRef:d,style:p,transition:m=!1,slotProps:v={},slots:g={}}=e,b=kt(e,Jpe),[y,w]=J.useState(!0),S=()=>{w(!1)},x=()=>{w(!0)};if(!l&&!c&&(!m||y))return null;let C;if(a)C=a;else if(n){const D=f1(n);C=D&&Xpe(D)?BN(D).body:BN(null).body}const A=!c&&l&&(!m||y)?"none":void 0,E=m?{in:c,onEnter:S,onExited:x}:void 0;return Te(qpe,{disablePortal:s,container:C,children:Te(tme,te({anchorEl:n,direction:o,disablePortal:s,modifiers:u,ref:r,open:m?!y:c,placement:f,popperOptions:h,popperRef:d,slotProps:v,slots:g},b,{style:te({position:"fixed",top:0,left:0,display:A},p),TransitionProps:E,children:i}))})}),nme=rme,{CssVarsProvider:ime,useColorScheme:Fge,getInitColorSchemeScript:$ge}=Mhe({themeId:Ef,theme:Ps,attribute:"data-joy-color-scheme",modeStorageKey:"joy-mode",colorSchemeStorageKey:"joy-color-scheme",defaultColorScheme:{light:"light",dark:"dark"},resolveTheme:t=>{const e=t.colorInversion;return t.colorInversion=In({soft:QR(t),solid:e5(t)},typeof e=="function"?e(t):e,{clone:!1}),t}}),ame=dhe({defaultTheme:Ps,themeId:Ef}),En=ame,ome=()=>{const t=gg(Ps);return t[Ef]||t};function Ho({props:t,name:e}){return mhe({props:t,name:e,defaultTheme:te({},Ps,{components:{}}),themeId:Ef})}const Jb=J.createContext(void 0),Is=t=>{const e=J.useContext(Jb);return{getColor:(r,n)=>e&&t&&e.includes(t)?r||"context":r||n}};function sme({children:t,variant:e}){var r;const n=ome();return Te(Jb.Provider,{value:e?((r=n.colorInversionConfig)!=null?r:Ps.colorInversionConfig)[e]:void 0,children:t})}function lme(t){return Va("MuiList",t)}Uo("MuiList",["root","nesting","scoped","sizeSm","sizeMd","sizeLg","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","horizontal","vertical"]);const ume=J.createContext(!1),Vp=ume,cme=J.createContext(void 0),Zb=cme,fme=J.createContext(void 0),Xb=fme,hme=J.createContext(!1),kf=hme,dme=J.createContext(!1),S5=dme,pme={"--NestedList-marginRight":"0px","--NestedList-marginLeft":"0px","--NestedListItem-paddingLeft":"var(--ListItem-paddingX)","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"0px","--ListItem-marginBlock":"0px","--ListItem-marginInline":"0px"};function C5(t){const{children:e,nested:r,row:n=!1,wrap:i=!1}=t,a=Te(kf.Provider,{value:n,children:Te(S5.Provider,{value:i,children:J.Children.map(e,(o,s)=>J.isValidElement(o)?J.cloneElement(o,te({},s===0&&{"data-first-child":""})):o)})});return r===void 0?a:Te(Vp.Provider,{value:r,children:a})}const mme=J.createContext(void 0),gme=mme,vme=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],yme=["component","slots","slotProps"],xme=["component"],bme=["disableColorInversion"];function Ei(t,e){const{className:r,elementType:n,ownerState:i,externalForwardedProps:a,getSlotOwnerState:o,internalForwardedProps:s}=e,l=kt(e,vme),{component:u,slots:c={[t]:void 0},slotProps:f={[t]:void 0}}=a,h=kt(a,yme),d=c[t]||n,p=x5(f[t],i),m=b5(te({className:r},l,{externalForwardedProps:t==="root"?h:void 0,externalSlotProps:p})),{props:{component:v},internalRef:g}=m,b=kt(m.props,xme),y=Ti(g,p?.ref,e.ref),w=o?o(b):{},{disableColorInversion:S=!1}=w,x=kt(w,bme),C=te({},i,x),{getColor:A}=Is(C.variant);if(t==="root"){var E;C.color=(E=b.color)!=null?E:i.color}else S||(C.color=A(b.color,C.color));const D=t==="root"?v||u:v,M=v5(d,te({},t==="root"&&!u&&!c[t]&&s,t!=="root"&&!c[t]&&s,b,D&&{as:D},{ref:y}),C);return Object.keys(x).forEach(k=>{delete M[k]}),[d,M]}const wme=["component","className","children","size","orientation","wrap","variant","color","role","slots","slotProps"],Sme=t=>{const{variant:e,color:r,size:n,nesting:i,orientation:a,instanceSize:o}=t,s={root:["root",a,e&&`variant${Qt(e)}`,r&&`color${Qt(r)}`,!o&&!i&&n&&`size${Qt(n)}`,o&&`size${Qt(o)}`,i&&"nesting"]};return Ha(s,lme,{})},D5=En("ul")(({theme:t,ownerState:e})=>{var r;function n(i){return i==="sm"?{"--ListDivider-gap":"0.25rem","--ListItem-minHeight":"2rem","--ListItem-paddingY":"0.25rem","--ListItem-paddingX":"0.5rem","--ListItem-fontSize":t.vars.fontSize.sm,"--ListItemDecorator-size":e.orientation==="horizontal"?"1.5rem":"2rem","--Icon-fontSize":"1.125rem"}:i==="md"?{"--ListDivider-gap":"0.375rem","--ListItem-minHeight":"2.5rem","--ListItem-paddingY":"0.375rem","--ListItem-paddingX":"0.75rem","--ListItem-fontSize":t.vars.fontSize.md,"--ListItemDecorator-size":e.orientation==="horizontal"?"1.75rem":"2.5rem","--Icon-fontSize":"1.25rem"}:i==="lg"?{"--ListDivider-gap":"0.5rem","--ListItem-minHeight":"3rem","--ListItem-paddingY":"0.5rem","--ListItem-paddingX":"1rem","--ListItem-fontSize":t.vars.fontSize.md,"--ListItemDecorator-size":e.orientation==="horizontal"?"2.25rem":"3rem","--Icon-fontSize":"1.5rem"}:{}}return[e.nesting&&te({},n(e.instanceSize),{"--ListItem-paddingRight":"var(--ListItem-paddingX)","--ListItem-paddingLeft":"var(--NestedListItem-paddingLeft)","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"0px","--ListItem-marginBlock":"0px","--ListItem-marginInline":"0px",padding:0,marginInlineStart:"var(--NestedList-marginLeft)",marginInlineEnd:"var(--NestedList-marginRight)",marginBlockStart:"var(--List-gap)",marginBlockEnd:"initial"}),!e.nesting&&te({},n(e.size),{"--List-gap":"0px","--ListItemDecorator-color":t.vars.palette.text.tertiary,"--List-nestedInsetStart":"0px","--ListItem-paddingLeft":"var(--ListItem-paddingX)","--ListItem-paddingRight":"var(--ListItem-paddingX)","--unstable_List-childRadius":"calc(max(var(--List-radius) - var(--List-padding), min(var(--List-padding) / 2, var(--List-radius) / 2)) - var(--variant-borderWidth, 0px))","--ListItem-radius":"var(--unstable_List-childRadius)","--ListItem-startActionTranslateX":"calc(0.5 * var(--ListItem-paddingLeft))","--ListItem-endActionTranslateX":"calc(-0.5 * var(--ListItem-paddingRight))",margin:"initial"},e.orientation==="horizontal"?te({},e.wrap?{padding:"var(--List-padding)",marginInlineStart:"calc(-1 * var(--List-gap))",marginBlockStart:"calc(-1 * var(--List-gap))"}:{paddingInline:"var(--List-padding, var(--ListDivider-gap))",paddingBlock:"var(--List-padding)"}):{paddingBlock:"var(--List-padding, var(--ListDivider-gap))",paddingInline:"var(--List-padding)"}),te({boxSizing:"border-box",borderRadius:"var(--List-radius)",listStyle:"none",display:"flex",flexDirection:e.orientation==="horizontal"?"row":"column"},e.wrap&&{flexWrap:"wrap"},{flexGrow:1,position:"relative"},(r=t.variants[e.variant])==null?void 0:r[e.color],{"--unstable_List-borderWidth":"var(--variant-borderWidth, 0px)"})]}),Cme=En(D5,{name:"JoyList",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Dme=J.forwardRef(function(e,r){var n;const i=J.useContext(Vp),a=J.useContext(Xb),o=J.useContext(gme),s=Ho({props:e,name:"JoyList"}),{component:l,className:u,children:c,size:f,orientation:h="vertical",wrap:d=!1,variant:p="plain",color:m="neutral",role:v,slots:g={},slotProps:b={}}=s,y=kt(s,wme),{getColor:w}=Is(p),S=w(e.color,m),x=f||((n=e.size)!=null?n:"md");let C;a&&(C="group"),o&&(C="presentation"),v&&(C=v);const A=te({},s,{instanceSize:e.size,size:x,nesting:i,orientation:h,wrap:d,variant:p,color:S,role:C}),E=Sme(A),D=te({},y,{component:l,slots:g,slotProps:b}),[M,k]=Ei("root",{ref:r,className:Bo(E.root,u),elementType:Cme,externalForwardedProps:D,ownerState:A,additionalProps:{as:l,role:C,"aria-labelledby":typeof i=="string"?i:void 0}});return Te(M,te({},k,{children:Te(Zb.Provider,{value:`${typeof l=="string"?l:""}:${C||""}`,children:Te(C5,{row:h==="horizontal",wrap:d,children:c})})}))}),qv=Dme;function Ame(t){return Va("MuiMenu",t)}Uo("MuiMenu",["root","listbox","expanded","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg"]);const Eme=["actions","anchorEl","children","color","component","disablePortal","keepMounted","invertedColors","onClose","onItemsChange","open","modifiers","variant","size","slots","slotProps"],Nme=t=>{const{open:e,variant:r,color:n,size:i}=t,a={root:["root",e&&"expanded",r&&`variant${Qt(r)}`,n&&`color${Qt(n)}`,i&&`size${Qt(i)}`],listbox:["listbox"]};return Ha(a,Ame,{})},xM=En(D5,{name:"JoyMenu",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,n;const i=(r=t.variants[e.variant])==null?void 0:r[e.color];return[te({"--focus-outline-offset":`calc(${t.vars.focus.thickness} * -1)`,"--List-radius":t.vars.radius.sm,"--ListItem-stickyBackground":i?.backgroundColor||i?.background||t.vars.palette.background.popup,"--ListItem-stickyTop":"calc(var(--List-padding, var(--ListDivider-gap)) * -1)"},pme,{boxShadow:t.shadow.md,overflow:"auto",zIndex:t.vars.zIndex.popup},!(i!=null&&i.backgroundColor)&&{backgroundColor:t.vars.palette.background.popup}),e.color!=="context"&&e.invertedColors&&((n=t.colorInversion[e.variant])==null?void 0:n[e.color])]}),Mme=J.forwardRef(function(e,r){var n;const i=Ho({props:e,name:"JoyMenu"}),{actions:a,anchorEl:o,children:s,color:l="neutral",component:u,disablePortal:c=!1,keepMounted:f=!1,invertedColors:h=!1,onClose:d,onItemsChange:p,open:m=!1,modifiers:v,variant:g="outlined",size:b="md",slots:y={},slotProps:w={}}=i,S=kt(i,Eme),{getColor:x}=Is(g),C=c?x(e.color,l):l,A=J.useCallback(O=>{O||d?.()},[d]),{contextValue:E,getListboxProps:D,dispatch:M}=Bde({open:m,onOpenChange:A,listboxId:i.id,onItemsChange:p});J.useImperativeHandle(a,()=>({dispatch:M,resetHighlight:()=>M({type:dr.resetHighlight,event:null})}),[M]);const k=te({},i,{disablePortal:c,invertedColors:h,color:C,variant:g,size:b,open:m,nesting:!1,row:!1}),$=Nme(k),I=te({},S,{component:u,slots:y,slotProps:w}),F=J.useMemo(()=>[{name:"offset",options:{offset:[0,4]}},...v||[]],[v]);if(o&&!1&&!("getAttribute"in P))var N;const T=w5({elementType:xM,getSlotProps:D,externalForwardedProps:I,externalSlotProps:{},ownerState:k,additionalProps:{ref:r,anchorEl:o,open:m,disablePortal:c,keepMounted:f,modifiers:F},className:$.root});let R=Te(Fde,{value:E,children:Te(Xb.Provider,{value:"menu",children:Te(C5,{nested:!0,children:s})})});return h&&(R=Te(sme,{variant:g,children:R})),R=Te(xM,te({},T,!((n=i.slots)!=null&&n.root)&&{as:nme,slots:{root:u||"ul"}},{children:R})),c?R:Te(Jb.Provider,{value:void 0,children:R})}),Hv=Mme;function A5(t={}){const{disabled:e=!1,focusableWhenDisabled:r,href:n,rootRef:i,tabIndex:a,to:o,type:s}=t,l=J.useRef(),[u,c]=J.useState(!1),{isFocusVisibleRef:f,onFocus:h,onBlur:d,ref:p}=tce(),[m,v]=J.useState(!1);e&&!r&&m&&v(!1),J.useEffect(()=>{f.current=m},[m,f]);const[g,b]=J.useState(""),y=F=>N=>{var T;m&&N.preventDefault(),(T=F.onMouseLeave)==null||T.call(F,N)},w=F=>N=>{var T;d(N),f.current===!1&&v(!1),(T=F.onBlur)==null||T.call(F,N)},S=F=>N=>{var T;if(l.current||(l.current=N.currentTarget),h(N),f.current===!0){var R;v(!0),(R=F.onFocusVisible)==null||R.call(F,N)}(T=F.onFocus)==null||T.call(F,N)},x=()=>{const F=l.current;return g==="BUTTON"||g==="INPUT"&&["button","submit","reset"].includes(F?.type)||g==="A"&&F?.href},C=F=>N=>{if(!e){var T;(T=F.onClick)==null||T.call(F,N)}},A=F=>N=>{var T;e||(c(!0),document.addEventListener("mouseup",()=>{c(!1)},{once:!0})),(T=F.onMouseDown)==null||T.call(F,N)},E=F=>N=>{var T;if((T=F.onKeyDown)==null||T.call(F,N),!N.defaultMuiPrevented&&(N.target===N.currentTarget&&!x()&&N.key===" "&&N.preventDefault(),N.target===N.currentTarget&&N.key===" "&&!e&&c(!0),N.target===N.currentTarget&&!x()&&N.key==="Enter"&&!e)){var R;(R=F.onClick)==null||R.call(F,N),N.preventDefault()}},D=F=>N=>{var T;if(N.target===N.currentTarget&&c(!1),(T=F.onKeyUp)==null||T.call(F,N),N.target===N.currentTarget&&!x()&&!e&&N.key===" "&&!N.defaultMuiPrevented){var R;(R=F.onClick)==null||R.call(F,N)}},M=J.useCallback(F=>{var N;b((N=F?.tagName)!=null?N:"")},[]),k=Ti(M,i,p,l),$={};return g==="BUTTON"?($.type=s??"button",r?$["aria-disabled"]=e:$.disabled=e):g!==""&&(!n&&!o&&($.role="button",$.tabIndex=a??0),e&&($["aria-disabled"]=e,$.tabIndex=r?a??0:-1)),{getRootProps:(F={})=>{const N=y5(t),T=te({},N,F);return delete T.onFocusVisible,te({type:s},T,$,{onBlur:w(T),onClick:C(T),onFocus:S(T),onKeyDown:E(T),onKeyUp:D(T),onMouseDown:A(T),onMouseLeave:y(T),ref:k})},focusVisible:m,setFocusVisible:v,active:u,rootRef:k}}function Tme(t,e){const r=J.useContext(qb);if(r===null)throw new Error("useCompoundItem must be used within a useCompoundParent");const{registerItem:n}=r,[i,a]=J.useState(typeof t=="function"?void 0:t);return Ss(()=>{const{id:o,deregister:s}=n(t,e);return a(o),s},[n,e,t]),{id:i,index:i!==void 0?r.getItemIndex(i):-1,totalItemCount:r.totalSubitemCount}}function kme(t){return`menu-item-${t.size}`}function Ome(t){const{disabled:e=!1,id:r,rootRef:n,label:i}=t,a=Kue(r),o=J.useRef(null),s=J.useMemo(()=>({disabled:e,id:a??"",label:i,ref:o}),[e,a,i]),{getRootProps:l,highlighted:u,rootRef:c}=Mde({item:a}),{index:f,totalItemCount:h}=Tme(a??kme,s),{getRootProps:d,focusVisible:p,rootRef:m}=A5({disabled:e,focusableWhenDisabled:!0}),v=Ti(c,m,n,o);return J.useDebugValue({id:a,highlighted:u,disabled:e,label:i}),a===void 0?{getRootProps:(b={})=>te({},b,d(b),{role:"menuitem"}),disabled:!1,focusVisible:p,highlighted:!1,index:-1,totalItemCount:0,rootRef:v}:{getRootProps:(b={})=>{const y=te({},b,d(b)),w=te({},y,l(y));return te({},b,y,w,{role:"menuitem",ref:v})},disabled:e,focusVisible:p,highlighted:u,index:f,totalItemCount:h,rootRef:v}}function Bme(t){return Va("MuiListItemButton",t)}const Fme=Uo("MuiListItemButton",["root","horizontal","vertical","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","focusVisible","disabled","selected","variantPlain","variantSoft","variantOutlined","variantSolid"]),$me=Fme,Rme=J.createContext("horizontal"),E5=Rme,Pme=["children","className","action","component","orientation","role","selected","color","variant","slots","slotProps"],Ime=t=>{const{color:e,disabled:r,focusVisible:n,focusVisibleClassName:i,selected:a,variant:o}=t,s={root:["root",r&&"disabled",n&&"focusVisible",e&&`color${Qt(e)}`,a&&"selected",o&&`variant${Qt(o)}`]},l=Ha(s,Bme,{});return n&&i&&(l.root+=` ${i}`),l},N5=En("div")(({theme:t,ownerState:e})=>{var r,n,i,a,o,s,l;return[te({},e.selected&&{"--ListItemDecorator-color":"initial"},e.disabled&&{"--ListItemDecorator-color":(r=t.variants)==null||(n=r[`${e.variant}Disabled`])==null||(i=n[e.color])==null?void 0:i.color},{WebkitTapHighlightColor:"transparent",boxSizing:"border-box",position:"relative",display:"flex",flexDirection:"row",alignItems:"center",alignSelf:"stretch"},e.orientation==="vertical"&&{flexDirection:"column",justifyContent:"center"},{textAlign:"initial",textDecoration:"initial",backgroundColor:"initial",cursor:"pointer",marginInline:"var(--ListItemButton-marginInline)",marginBlock:"var(--ListItemButton-marginBlock)"},e["data-first-child"]===void 0&&{marginInlineStart:e.row?"var(--List-gap)":void 0,marginBlockStart:e.row?void 0:"var(--List-gap)"},{paddingBlock:"calc(var(--ListItem-paddingY) - var(--variant-borderWidth, 0px))",paddingInlineStart:"calc(var(--ListItem-paddingLeft) + var(--ListItem-startActionWidth, var(--unstable_startActionWidth, 0px)))",paddingInlineEnd:"calc(var(--ListItem-paddingRight) + var(--ListItem-endActionWidth, var(--unstable_endActionWidth, 0px)))",minBlockSize:"var(--ListItem-minHeight)",border:"none",borderRadius:"var(--ListItem-radius)",flexGrow:e.row?0:1,flexBasis:e.row?"auto":"0%",flexShrink:0,minInlineSize:0,fontSize:"var(--ListItem-fontSize)",fontFamily:t.vars.fontFamily.body},e.selected&&{fontWeight:t.vars.fontWeight.md},{[t.focus.selector]:t.focus.default}),te({},(a=t.variants[e.variant])==null?void 0:a[e.color],!e.selected&&{"&:hover":(o=t.variants[`${e.variant}Hover`])==null?void 0:o[e.color],"&:active":(s=t.variants[`${e.variant}Active`])==null?void 0:s[e.color]}),{[`&.${$me.disabled}`]:(l=t.variants[`${e.variant}Disabled`])==null?void 0:l[e.color]}]}),Lme=En(N5,{name:"JoyListItemButton",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_me=J.forwardRef(function(e,r){const n=Ho({props:e,name:"JoyListItemButton"}),i=J.useContext(kf),{children:a,className:o,action:s,component:l="div",orientation:u="horizontal",role:c,selected:f=!1,color:h=f?"primary":"neutral",variant:d="plain",slots:p={},slotProps:m={}}=n,v=kt(n,Pme),{getColor:g}=Is(d),b=g(e.color,h),y=J.useRef(null),w=Ti(y,r),{focusVisible:S,setFocusVisible:x,getRootProps:C}=A5(te({},n,{rootRef:w}));J.useImperativeHandle(s,()=>({focusVisible:()=>{var $;x(!0),($=y.current)==null||$.focus()}}),[x]);const A=te({},n,{component:l,color:b,focusVisible:S,orientation:u,row:i,selected:f,variant:d}),E=Ime(A),D=te({},v,{component:l,slots:p,slotProps:m}),[M,k]=Ei("root",{ref:r,className:Bo(E.root,o),elementType:Lme,externalForwardedProps:D,ownerState:A,getSlotProps:C});return Te(E5.Provider,{value:u,children:Te(M,te({},k,{role:c??k.role,children:a}))})}),zme=_me;function Ume(t){return Va("MuiMenuItem",t)}const qme=Uo("MuiMenuItem",["root","focusVisible","disabled","selected","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]),Hme=qme,Vme=["children","disabled","component","selected","color","orientation","variant","slots","slotProps"],Wme=t=>{const{focusVisible:e,disabled:r,selected:n,color:i,variant:a}=t,o={root:["root",e&&"focusVisible",r&&"disabled",n&&"selected",i&&`color${Qt(i)}`,a&&`variant${Qt(a)}`]};return Ha(o,Ume,{})},jme=En(N5,{name:"JoyMenuItem",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Gme=J.forwardRef(function(e,r){const n=Ho({props:e,name:"JoyMenuItem"}),i=J.useContext(kf),{children:a,disabled:o=!1,component:s="li",selected:l=!1,color:u=l?"primary":"neutral",orientation:c="horizontal",variant:f="plain",slots:h={},slotProps:d={}}=n,p=kt(n,Vme),{getColor:m}=Is(f),v=m(e.color,u),{getRootProps:g,disabled:b,focusVisible:y}=Ome({disabled:o,rootRef:r}),w=te({},n,{component:s,color:v,disabled:b,focusVisible:y,orientation:c,selected:l,row:i,variant:f}),S=Wme(w),x=te({},p,{component:s,slots:h,slotProps:d}),[C,A]=Ei("root",{ref:r,elementType:jme,getSlotProps:g,externalForwardedProps:x,className:S.root,ownerState:w});return Te(E5.Provider,{value:c,children:Te(C,te({},A,{children:a}))})}),qu=Gme;function Kme(t){return Va("MuiListItem",t)}Uo("MuiListItem",["root","startAction","endAction","nested","nesting","sticky","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]);const Yme=J.createContext(void 0),Jme=Yme,Zme=["component","className","children","nested","sticky","variant","color","startAction","endAction","role","slots","slotProps"],Xme=t=>{const{sticky:e,nested:r,nesting:n,variant:i,color:a}=t,o={root:["root",r&&"nested",n&&"nesting",e&&"sticky",a&&`color${Qt(a)}`,i&&`variant${Qt(i)}`],startAction:["startAction"],endAction:["endAction"]};return Ha(o,Kme,{})},Qme=En("li",{name:"JoyListItem",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r;return[!e.nested&&{"--ListItemButton-marginInline":"calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight))","--ListItemButton-marginBlock":"calc(-1 * var(--ListItem-paddingY))",alignItems:"center",marginInline:"var(--ListItem-marginInline)"},e.nested&&{"--NestedList-marginRight":"calc(-1 * var(--ListItem-paddingRight))","--NestedList-marginLeft":"calc(-1 * var(--ListItem-paddingLeft))","--NestedListItem-paddingLeft":"calc(var(--ListItem-paddingLeft) + var(--List-nestedInsetStart))","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight))","--ListItem-marginInline":"calc(-1 * var(--ListItem-paddingLeft)) calc(-1 * var(--ListItem-paddingRight))",flexDirection:"column"},te({"--unstable_actionRadius":"calc(var(--ListItem-radius) - var(--variant-borderWidth, 0px))"},e.startAction&&{"--unstable_startActionWidth":"2rem"},e.endAction&&{"--unstable_endActionWidth":"2.5rem"},{boxSizing:"border-box",borderRadius:"var(--ListItem-radius)",display:"flex",flex:"none",position:"relative",paddingBlockStart:e.nested?0:"var(--ListItem-paddingY)",paddingBlockEnd:e.nested?0:"var(--ListItem-paddingY)",paddingInlineStart:"var(--ListItem-paddingLeft)",paddingInlineEnd:"var(--ListItem-paddingRight)"},e["data-first-child"]===void 0&&te({},e.row?{marginInlineStart:"var(--List-gap)"}:{marginBlockStart:"var(--List-gap)"}),e.row&&e.wrap&&{marginInlineStart:"var(--List-gap)",marginBlockStart:"var(--List-gap)"},{minBlockSize:"var(--ListItem-minHeight)",fontSize:"var(--ListItem-fontSize)",fontFamily:t.vars.fontFamily.body},e.sticky&&{position:"sticky",top:"var(--ListItem-stickyTop, 0px)",zIndex:1,background:"var(--ListItem-stickyBackground)"}),(r=t.variants[e.variant])==null?void 0:r[e.color]]}),ege=En("div",{name:"JoyListItem",slot:"StartAction",overridesResolver:(t,e)=>e.startAction})(({ownerState:t})=>({display:"inherit",position:"absolute",top:t.nested?"calc(var(--ListItem-minHeight) / 2)":"50%",left:0,transform:"translate(var(--ListItem-startActionTranslateX), -50%)",zIndex:1})),tge=En("div",{name:"JoyListItem",slot:"StartAction",overridesResolver:(t,e)=>e.startAction})(({ownerState:t})=>({display:"inherit",position:"absolute",top:t.nested?"calc(var(--ListItem-minHeight) / 2)":"50%",right:0,transform:"translate(var(--ListItem-endActionTranslateX), -50%)"})),M5=J.forwardRef(function(e,r){const n=Ho({props:e,name:"JoyListItem"}),i=J.useContext(Xb),a=J.useContext(Zb),o=J.useContext(kf),s=J.useContext(S5),l=J.useContext(Vp),{component:u,className:c,children:f,nested:h=!1,sticky:d=!1,variant:p="plain",color:m="neutral",startAction:v,endAction:g,role:b,slots:y={},slotProps:w={}}=n,S=kt(n,Zme),{getColor:x}=Is(p),C=x(e.color,m),[A,E]=J.useState(""),[D,M]=a?.split(":")||["",""],k=u||(D&&!D.match(/^(ul|ol|menu)$/)?"div":void 0);let $=i==="menu"?"none":void 0;a&&($={menu:"none",menubar:"none",group:"presentation"}[M]),b&&($=b);const I=te({},n,{sticky:d,startAction:v,endAction:g,row:o,wrap:s,variant:p,color:C,nesting:l,nested:h,component:k,role:$}),F=Xme(I),N=te({},S,{component:k,slots:y,slotProps:w}),[T,R]=Ei("root",{additionalProps:{role:$},ref:r,className:Bo(F.root,c),elementType:Qme,externalForwardedProps:N,ownerState:I}),[O,P]=Ei("startAction",{className:F.startAction,elementType:ege,externalForwardedProps:N,ownerState:I}),[V,W]=Ei("endAction",{className:F.endAction,elementType:tge,externalForwardedProps:N,ownerState:I});return Te(Jme.Provider,{value:E,children:Te(Vp.Provider,{value:h?A||!0:!1,children:ur(T,te({},R,{children:[v&&Te(O,te({},P,{children:v})),J.Children.map(f,(L,G)=>J.isValidElement(L)?J.cloneElement(L,te({},G===0&&{"data-first-child":""},Wue(L,["ListItem"])&&{component:L.props.component||"div"})):L),g&&Te(V,te({},W,{children:g}))]}))})})});M5.muiName="ListItem";const Gs=M5;function rge(t){return Va("MuiDivider",t)}Uo("MuiDivider",["root","horizontal","vertical","insetContext","insetNone"]);const nge=["className","children","component","inset","orientation","role","slots","slotProps"],ige=t=>{const{orientation:e,inset:r}=t,n={root:["root",e,r&&`inset${Qt(r)}`]};return Ha(n,rge,{})},T5=En("hr",{name:"JoyDivider",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>te({"--Divider-thickness":"1px","--Divider-lineColor":t.vars.palette.divider},e.inset==="none"&&{"--_Divider-inset":"0px"},e.inset==="context"&&{"--_Divider-inset":"var(--Divider-inset, 0px)"},{margin:"initial",marginInline:e.orientation==="vertical"?"initial":"var(--_Divider-inset)",marginBlock:e.orientation==="vertical"?"var(--_Divider-inset)":"initial",position:"relative",alignSelf:"stretch",flexShrink:0},e.children?{"--Divider-gap":t.spacing(1),"--Divider-childPosition":"50%",display:"flex",flexDirection:e.orientation==="vertical"?"column":"row",alignItems:"center",whiteSpace:"nowrap",textAlign:"center",border:0,fontFamily:t.vars.fontFamily.body,fontSize:t.vars.fontSize.sm,"&::before, &::after":{position:"relative",inlineSize:e.orientation==="vertical"?"var(--Divider-thickness)":"initial",blockSize:e.orientation==="vertical"?"initial":"var(--Divider-thickness)",backgroundColor:"var(--Divider-lineColor)",content:'""'},"&::before":{marginInlineEnd:e.orientation==="vertical"?"initial":"min(var(--Divider-childPosition) * 999, var(--Divider-gap))",marginBlockEnd:e.orientation==="vertical"?"min(var(--Divider-childPosition) * 999, var(--Divider-gap))":"initial",flexBasis:"var(--Divider-childPosition)"},"&::after":{marginInlineStart:e.orientation==="vertical"?"initial":"min((100% - var(--Divider-childPosition)) * 999, var(--Divider-gap))",marginBlockStart:e.orientation==="vertical"?"min((100% - var(--Divider-childPosition)) * 999, var(--Divider-gap))":"initial",flexBasis:"calc(100% - var(--Divider-childPosition))"}}:{border:"none",listStyle:"none",backgroundColor:"var(--Divider-lineColor)",inlineSize:e.orientation==="vertical"?"var(--Divider-thickness)":"initial",blockSize:e.orientation==="vertical"?"initial":"var(--Divider-thickness)"})),age=J.forwardRef(function(e,r){const n=Ho({props:e,name:"JoyDivider"}),{className:i,children:a,component:o=a!=null?"div":"hr",inset:s,orientation:l="horizontal",role:u=o!=="hr"?"separator":void 0,slots:c={},slotProps:f={}}=n,h=kt(n,nge),d=te({},n,{inset:s,role:u,orientation:l,component:o}),p=ige(d),m=te({},h,{component:o,slots:c,slotProps:f}),[v,g]=Ei("root",{ref:r,className:Bo(p.root,i),elementType:T5,externalForwardedProps:m,ownerState:d,additionalProps:te({as:o,role:u},u==="separator"&&l==="vertical"&&{"aria-orientation":"vertical"})});return Te(v,te({},g,{children:a}))});age.muiName="Divider";function oge(t){return Va("MuiListDivider",t)}Uo("MuiListDivider",["root","insetGutter","insetStartDecorator","insetStartContent","horizontal","vertical"]);const sge=["component","role","className","children","inset","orientation","slots","slotProps"],lge=t=>{const{orientation:e,inset:r}=t,n={root:["root",e,r&&r!=="context"&&`inset${Qt(r)}`]};return Ha(n,oge,{})},uge=En(T5,{name:"JoyListDivider",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t})=>te({},t.inset==="context"&&{"--Divider-inset":"calc(-1 * var(--List-padding))"},t.row&&te({marginInline:"var(--ListDivider-gap)"},t.inset==="gutter"&&{marginBlock:"var(--ListItem-paddingY)"},t["data-first-child"]===void 0&&{marginInlineStart:"calc(var(--List-gap) + var(--ListDivider-gap))"}),!t.row&&te({},t["data-first-child"]===void 0&&{marginBlockStart:"calc(var(--List-gap) + var(--ListDivider-gap))"},{marginBlockEnd:"var(--ListDivider-gap)"},t.inset==="gutter"&&{marginInlineStart:"var(--ListItem-paddingLeft)",marginInlineEnd:"var(--ListItem-paddingRight)"},t.inset==="startDecorator"&&{marginInlineStart:"var(--ListItem-paddingLeft)"},t.inset==="startContent"&&{marginInlineStart:"calc(var(--ListItem-paddingLeft) + var(--ListItemDecorator-size))"}))),cge=J.forwardRef(function(e,r){const n=Ho({props:e,name:"JoyListDivider"}),i=J.useContext(kf),a=J.useContext(Zb),{component:o,role:s,className:l,children:u,inset:c="context",orientation:f,slots:h={},slotProps:d={}}=n,p=kt(n,sge),[m]=a?.split(":")||["",""],v=o||(m&&!m.match(/^(ul|ol|menu)$/)?"div":"li"),g=s||(v==="li"?"separator":void 0),b=f||(i?"vertical":"horizontal"),y=te({},n,{inset:c,row:i,orientation:b,component:v,role:g}),w=lge(y),S=te({},p,{component:v,slots:h,slotProps:d}),[x,C]=Ei("root",{ref:r,className:Bo(w.root,l),elementType:uge,externalForwardedProps:S,ownerState:y,additionalProps:te({as:v,role:g},g==="separator"&&b==="vertical"&&{"aria-orientation":"vertical"})});return Te(x,te({},C,{children:u}))}),fge=cge;function hge(t){return Va("MuiTypography",t)}const dge=Uo("MuiTypography",["root","h1","h2","h3","h4","h5","h6","body1","body2","body3","noWrap","gutterBottom","startDecorator","endDecorator","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]),pge=dge,mge=["color","textColor"],gge=["component","gutterBottom","noWrap","level","levelMapping","children","endDecorator","startDecorator","variant","slots","slotProps"],bM=J.createContext(!1),vge=J.createContext(!1),yge=t=>{const{gutterBottom:e,noWrap:r,level:n,color:i,variant:a}=t,o={root:["root",n,e&&"gutterBottom",r&&"noWrap",i&&`color${Qt(i)}`,a&&`variant${Qt(a)}`],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return Ha(o,hge,{})},xge=En("span",{name:"JoyTypography",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})(({ownerState:t})=>{var e;return te({display:"inline-flex",marginInlineEnd:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"},typeof t.startDecorator!="string"&&(t.alignItems==="flex-start"||((e=t.sx)==null?void 0:e.alignItems)==="flex-start")&&{marginTop:"2px"})}),bge=En("span",{name:"JoyTypography",slot:"endDecorator",overridesResolver:(t,e)=>e.endDecorator})(({ownerState:t})=>{var e;return te({display:"inline-flex",marginInlineStart:"clamp(4px, var(--Typography-gap, 0.375em), 0.75rem)"},typeof t.endDecorator!="string"&&(t.alignItems==="flex-start"||((e=t.sx)==null?void 0:e.alignItems)==="flex-start")&&{marginTop:"2px"})}),wge=En("span",{name:"JoyTypography",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var r,n,i,a;return te({"--Icon-fontSize":"1.25em",margin:"var(--Typography-margin, 0px)"},e.nesting?{display:"inline"}:{fontFamily:t.vars.fontFamily.body,display:"block"},(e.startDecorator||e.endDecorator)&&te({display:"flex",alignItems:"center"},e.nesting&&te({display:"inline-flex"},e.startDecorator&&{verticalAlign:"bottom"})),e.level&&e.level!=="inherit"&&t.typography[e.level],{fontSize:`var(--Typography-fontSize, ${e.level&&e.level!=="inherit"&&(r=(n=t.typography[e.level])==null?void 0:n.fontSize)!=null?r:"inherit"})`},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.color&&e.color!=="context"&&{color:`rgba(${(i=t.vars.palette[e.color])==null?void 0:i.mainChannel} / 1)`},e.variant&&te({borderRadius:t.vars.radius.xs,paddingBlock:"min(0.15em, 4px)",paddingInline:"0.375em"},!e.nesting&&{marginInline:"-0.375em"},(a=t.variants[e.variant])==null?void 0:a[e.color]))}),Sge={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",display1:"h1",display2:"h2",body1:"p",body2:"p",body3:"span",body4:"span",body5:"span",inherit:"p"},Cge=J.forwardRef(function(e,r){const n=Ho({props:e,name:"JoyTypography"}),{color:i,textColor:a}=n,o=kt(n,mge),s=J.useContext(bM),l=J.useContext(vge),u=WR(te({},o,{color:a})),{component:c,gutterBottom:f=!1,noWrap:h=!1,level:d="body1",levelMapping:p={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",body1:"p",body2:"p",body3:"p",inherit:"p"},children:m,endDecorator:v,startDecorator:g,variant:b,slots:y={},slotProps:w={}}=u,S=kt(u,gge),{getColor:x}=Is(b),C=x(e.color,b?i??"neutral":i),A=s||l?e.level||"inherit":d,E=c||(s?"span":p[A]||Sge[A]||"span"),D=te({},u,{level:A,component:E,color:C,gutterBottom:f,noWrap:h,nesting:s,variant:b}),M=yge(D),k=te({},S,{component:E,slots:y,slotProps:w}),[$,I]=Ei("root",{ref:r,className:M.root,elementType:wge,externalForwardedProps:k,ownerState:D}),[F,N]=Ei("startDecorator",{className:M.startDecorator,elementType:xge,externalForwardedProps:k,ownerState:D}),[T,R]=Ei("endDecorator",{className:M.endDecorator,elementType:bge,externalForwardedProps:k,ownerState:D});return Te(bM.Provider,{value:!0,children:ur($,te({},I,{children:[g&&Te(F,te({},N,{children:g})),m,v&&Te(T,te({},R,{children:v}))]}))})}),wM=Cge,Dge=`### Examples ###

1.2 / (3.3 + 1.7)
3M / 6k
5 % 2
total

# Unit conversions
a = 1.7ft + 25.3 cm
a in inches
3 yards in mm
pi * 6cm^2
1km to mi

# Currency conversions
29 CAD to USD
100 GBP in $
$2000 to btc
$6 in nickels

# Variables
height = 6 feet
width = 30 inches
width + height in meters

# Algebra
f = parse('2x + x')
f.evaluate({ x: 4 })
simplify('x * y * -x / (x ^ 2)')
derivative("2x^2 + 3x + 4", "x")

# Percentages
12% of 20
40 + 30%
20% off 110

# Comments
last + 7 // inline comments

# Functions 
# [https://mathjs.org/docs/index.html]
round(pi, 5)
log(10000, 10)
sqrt(-4)
sin(90 deg)
hyp(a, b) = sqrt(a^2 + b^2)
hyp(3, 4)

# Date calculations
today - 3 weeks
now + 36 hours - 2 days
yesterday - 1 year

line39
line30
sum
avg

[2, 3, 4] - 3`,SM=t=>{const e=document.createElement("a"),r=new Blob([t],{type:"text/plain"});e.href=URL.createObjectURL(r),e.download="calculations.txt",document.body.appendChild(e),e.click(),document.body.removeChild(e)},Age=async t=>"clipboard"in navigator?await navigator.clipboard.writeText(t):document.execCommand("copy",!0,t),Ege=t=>Te("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",width:"1em",height:"1em",...t,children:Te("path",{fill:"currentColor",d:"M160 32V64 278.5l64-22.6V64 32h64V64 233.4l64-22.6V64 32h64V64 188.2l64-22.6V64 32h64V64v79l37.4-13.2 30.2-10.7 21.3 60.4-30.2 10.7L544 210.9V448v32H480V448 233.5l-64 22.6V448v32H352V448 278.6l-64 22.6V448v32H224V448 323.8l-64 22.6V448v32H96V448 369L58.6 382.2 28.5 392.8 7.2 332.5l30.2-10.6L96 301.1V64 32h64z"})}),Vv=J.forwardRef(({children:t,menu:e,open:r,onOpen:n,onKeyDown:i,...a},o)=>{const s=J.useRef(null),l=J.useRef(null),u=J.useMemo(()=>f=>{f&&(o(f),s.current=f)},[s,o]),c=f=>{(f.key==="ArrowDown"||f.key==="ArrowUp")&&(f.preventDefault(),n(f),f.key==="ArrowUp"&&l.current?.highlightLastItem()),i(f)};return ur(Q5,{children:[Te(zme,{...a,ref:u,role:"menuitem",variant:r?"soft":"plain",color:"neutral","aria-haspopup":"menu","aria-expanded":r?"true":void 0,"aria-controls":r?`toolbar-example-menu-${t}`:void 0,onClick:n,onKeyDown:c,children:t}),J.cloneElement(e,{open:r,actions:l,anchorEl:s.current,slotProps:{listbox:{id:`toolbar-example-menu-${t}`,"aria-label":t}},placement:"bottom-start",disablePortal:!1,variant:"soft",sx:f=>({width:288,boxShadow:"0 2px 8px 0px rgba(0 0 0 / 0.38)","--List-padding":"var(--ListDivider-gap)","--ListItem-minHeight":"32px",[`& .${Hme.root}`]:{transition:"none","&:hover":{...f.variants.solid.primary,[`& .${pge.root}`]:{color:"inherit"}}}})})]})});function Nge(){const t=J.useRef([]),[e,r]=J.useState(null),n=J.useRef(null),{doc:i,lines:a,results:o,setDoc:s}=gf(),{format:l}=Ab(),[u,c]=J.useState(null);J.useEffect(()=>{let C,A=!1;return u&&(C=new FileReader,C.onload=E=>{const{result:D}=E.target;D&&!A&&s(D)},C.readAsText(u)),()=>{A=!0,C&&C.readyState===1&&C.abort()}},[u]);const f=()=>{SM(i)},h=()=>{const C=[...o.values()].map((A,E)=>A===null?`${a[E]}`:`${a[E]} = ${l(A)}`).join(`
`);SM(C)},d=()=>{const C=[...o.values()].map((A,E)=>A===null?`${a[E]}`:`${a[E]} = ${l(A)}`).join(`
`);Age(C),dR("Copied file with results")},p=()=>{n.current.click()},m=()=>{s(Dge)},v=C=>{const{files:A}=C.target;c(A[0])},g=C=>Te(wM,{level:"body2",textColor:"text.tertiary",ml:"auto",children:C}),b=()=>{typeof e=="number"&&(e===t.current.length-1?r(0):r(e+1))},y=()=>{typeof e=="number"&&r(e===0?t.current.length-1:e-1)},w=C=>{C.key==="ArrowRight"&&b(),C.key==="ArrowLeft"&&y()},S=C=>A=>{A.key==="ArrowRight"&&(C===t.current.length-1?t.current[0]?.focus():t.current[C+1]?.focus()),A.key==="ArrowLeft"&&(C===0?t.current[t.current.length]?.focus():t.current[C-1]?.focus())},x={onClick:()=>r(null),onKeyDown:w};return ur(qv,{orientation:"horizontal","aria-label":"application menu bar",role:"menubar",sx:{bgcolor:"background.level1",px:2,borderRadius:"4px",width:"100%","--ListItem-radius":"8px"},children:[ur(Gs,{sx:{color:"#6a9955"},children:[Te(Ege,{}),Te(wM,{sx:{marginLeft:"0.5em",marginRight:"1em",color:"#6a9955"},children:"TALLY"})]}),Te(Gs,{children:Te(Vv,{open:e===0,onOpen:()=>r(0),onKeyDown:S(0),onMouseEnter:()=>{typeof e=="number"&&r(0)},ref:C=>{t.current[0]=C},menu:ur(Hv,{onClose:()=>{t.current[0]?.focus(),r(null)},children:[Te(Gs,{nested:!0,children:ur(qv,{"aria-label":"Save",children:[ur(qu,{...x,onClick:f,children:["Save File ",g("⌘ S")]}),ur(qu,{...x,onClick:h,children:["Save File with Results ",g("⌥ ⌘ S")]})]})}),Te(fge,{}),ur(Gs,{nested:!0,children:[Te(qv,{"aria-label":"Open",children:ur(qu,{...x,onClick:p,children:["Open File ",g("⌘ O")]})}),Te("input",{ref:n,type:"file",onChange:v,hidden:!0})]})]}),children:"File"})}),Te(Gs,{children:Te(Vv,{open:e===1,onOpen:()=>r(1),onKeyDown:S(1),onMouseEnter:()=>{typeof e=="number"&&r(1)},ref:C=>{t.current[1]=C},menu:Te(Hv,{onClose:()=>{t.current[1]?.focus(),r(null)},children:ur(qu,{...x,onClick:d,children:["Copy File with Results ",g("⇧ ⌘ C")]})}),children:"Edit"})}),Te(Gs,{children:Te(Vv,{open:e===2,onOpen:()=>r(2),onKeyDown:S(2),onMouseEnter:()=>{typeof e=="number"&&r(2)},ref:C=>{t.current[2]=C},menu:Te(Hv,{onClose:()=>{t.current[2]?.focus(),r(null)},children:ur(qu,{...x,onClick:m,children:["Open Example Document ",g("⇧ ⌘ H")]})}),children:"Help"})})]})}function Mge(t){const{children:e,disableColorScheme:r=!1}=t;return ur(J.Fragment,{children:[Te(ehe,{styles:n=>{var i,a,o,s;const l={};r||Object.entries(n.colorSchemes).forEach(([c,f])=>{var h;l[n.getColorSchemeSelector(c).replace(/\s*&/,"")]={colorScheme:(h=f.palette)==null?void 0:h.mode}});const u=(i=(a=n.components)==null||(o=a.JoyTypography)==null||(s=o.defaultProps)==null?void 0:s.level)!=null?i:"body1";return te({html:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:"bold"},body:te({margin:0,color:n.vars.palette.text.primary,fontFamily:n.vars.fontFamily.body},n.typography[u],{backgroundColor:n.vars.palette.background.body,"@media print":{backgroundColor:n.vars.palette.common.white},"&::backdrop":{backgroundColor:n.vars.palette.background.backdrop}})},l)},defaultTheme:Ps}),e]})}function Tge(){return ur("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Te("path",{d:"M8 11C7.44772 11 7 11.4477 7 12C7 12.5523 7.44772 13 8 13H15.9595C16.5118 13 16.9595 12.5523 16.9595 12C16.9595 11.4477 16.5118 11 15.9595 11H8Z",fill:"currentColor"}),Te("path",{d:"M8.04053 15.0665C7.48824 15.0665 7.04053 15.5142 7.04053 16.0665C7.04053 16.6188 7.48824 17.0665 8.04053 17.0665H16C16.5523 17.0665 17 16.6188 17 16.0665C17 15.5142 16.5523 15.0665 16 15.0665H8.04053Z",fill:"currentColor"}),Te("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3H5ZM7 5H5L5 19H19V5H17V6C17 7.65685 15.6569 9 14 9H10C8.34315 9 7 7.65685 7 6V5ZM9 5V6C9 6.55228 9.44772 7 10 7H14C14.5523 7 15 6.55228 15 6V5H9Z",fill:"currentColor"})]})}function kge(){return ur(ire,{children:[Te(Mge,{}),ur("div",{className:"App",children:[Te(Nge,{}),Te(ide,{})]}),Te($ue,{position:"bottom-right",toastOptions:{duration:3e3,icon:Te(Tge,{}),style:{background:"#4D495044",color:"#fcfcfa",fontSize:"1rem"}}})]})}class Oge extends J.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,r){console.log(e,r)}render(){return this.state.hasError?(localStorage.setItem("doc",""),Te("h1",{children:"This is why we can‘t have nice things."})):this.props.children}}LT(document.getElementById("root")).render(Te(BM.StrictMode,{children:Te(Oge,{children:Te(ime,{defaultMode:"dark",children:Te(kge,{})})})}));
